!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=332)}([function(t,e,r){"use strict";var n=r(5),i=r(61),o=r(28),a=r(139),s=r(21);function u(t){return t}function h(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}e.newBlob=function(t,r){e.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(t),n.getBlob(r)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,r){var n=[],i=0,o=t.length;if(o<=r)return String.fromCharCode.apply(null,t);for(;i<o;)"array"===e||"nodebuffer"===e?n.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(t){for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function l(t){var r=65536,n=e.getTypeOf(t),i=!0;if("uint8array"===n?i=f.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=f.applyCanBeUsed.nodebuffer),i)for(;r>1;)try{return f.stringifyByChunk(t,n,r)}catch(t){r=Math.floor(r/2)}return f.stringifyByChar(t)}function c(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}e.applyFromCharCode=l;var d={};d.string={string:u,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:function(t){return h(t,o.allocBuffer(t.length))}},d.array={string:l,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},d.arraybuffer={string:function(t){return l(new Uint8Array(t))},array:function(t){return c(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:l,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return o.newBufferFrom(t)}},d.nodebuffer={string:l,array:function(t){return c(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return c(t,new Uint8Array(t.length))},nodebuffer:u},e.transformTo=function(t,r){if(r||(r=""),!t)return r;e.checkSupport(t);var n=e.getTypeOf(r);return d[n][t](r)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":n.nodebuffer&&o.isBuffer(t)?"nodebuffer":n.uint8array&&t instanceof Uint8Array?"uint8array":n.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!n[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,r,n="";for(r=0;r<(t||"").length;r++)n+="\\x"+((e=t.charCodeAt(r))<16?"0":"")+e.toString(16).toUpperCase();return n},e.delay=function(t,e,r){a(function(){t.apply(r||null,e||[])})},e.inherits=function(t,e){var r=function(){};r.prototype=e.prototype,t.prototype=new r},e.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},e.prepareContent=function(t,r,o,a,u){return s.Promise.resolve(r).then(function(t){return n.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise(function(e,r){var n=new FileReader;n.onload=function(t){e(t.target.result)},n.onerror=function(t){r(t.target.error)},n.readAsArrayBuffer(t)}):t}).then(function(r){var f=e.getTypeOf(r);return f?("arraybuffer"===f?r=e.transformTo("uint8array",r):"string"===f&&(u?r=i.decode(r):o&&!0!==a&&(r=function(t){return h(t,n.uint8array?new Uint8Array(t.length):new Array(t.length))}(r))),r):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(t,e,r){"use strict";function n(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=n},function(t,e,r){"use strict";var n=r(114),i=r(94),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function h(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)h(arguments[n],r);return e},extend:function(t,e,r){return h(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";(function(t,n){var i=r(11),o=r(93);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var u=s.DATA,h=s.BUFFER;function f(t){if(t){var e=t.length||t.byteLength,r=i.log2(e);u[r].push(t)}}function l(t){t=i.nextPow2(t);var e=i.log2(t),r=u[e];return r.length>0?r.pop():new ArrayBuffer(t)}function c(t){return new Uint8Array(l(t),0,t)}function d(t){return new Uint16Array(l(2*t),0,t)}function p(t){return new Uint32Array(l(4*t),0,t)}function v(t){return new Int8Array(l(t),0,t)}function g(t){return new Int16Array(l(2*t),0,t)}function m(t){return new Int32Array(l(4*t),0,t)}function _(t){return new Float32Array(l(4*t),0,t)}function b(t){return new Float64Array(l(8*t),0,t)}function y(t){return a?new Uint8ClampedArray(l(t),0,t):c(t)}function w(t){return new DataView(l(t),0,t)}function x(t){t=i.nextPow2(t);var e=i.log2(t),r=h[e];return r.length>0?r.pop():new n(t)}e.free=function(t){if(n.isBuffer(t))h[i.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|i.log2(e);u[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(t){f(t.buffer)},e.freeArrayBuffer=f,e.freeBuffer=function(t){h[i.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return l(t);switch(e){case"uint8":return c(t);case"uint16":return d(t);case"uint32":return p(t);case"int8":return v(t);case"int16":return g(t);case"int32":return m(t);case"float":case"float32":return _(t);case"double":case"float64":return b(t);case"uint8_clamped":return y(t);case"buffer":return x(t);case"data":case"dataview":return w(t);default:return null}return null},e.mallocArrayBuffer=l,e.mallocUint8=c,e.mallocUint16=d,e.mallocUint32=p,e.mallocInt8=v,e.mallocInt16=g,e.mallocInt32=m,e.mallocFloat32=e.mallocFloat=_,e.mallocFloat64=e.mallocDouble=b,e.mallocUint8Clamped=y,e.mallocDataView=w,e.mallocBuffer=x,e.clearCache=function(){for(var t=0;t<32;++t)s.UINT8[t].length=0,s.UINT16[t].length=0,s.UINT32[t].length=0,s.INT8[t].length=0,s.INT16[t].length=0,s.INT32[t].length=0,s.FLOAT[t].length=0,s.DOUBLE[t].length=0,s.UINT8C[t].length=0,u[t].length=0,h[t].length=0}}).call(this,r(3),r(9).Buffer)},function(t,e,r){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!r(55).Readable}catch(t){e.nodestream=!1}}).call(this,r(9).Buffer)},function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(t[n]=r[n])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,r,n,i){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+n),i);else for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){var e,r,n,i,o,a;for(n=0,e=0,r=t.length;e<r;e++)n+=t[e].length;for(a=new Uint8Array(n),i=0,e=0,r=t.length;e<r;e++)o=t[e],a.set(o,i),i+=o.length;return a}},a={arraySet:function(t,e,r,n,i){for(var o=0;o<n;o++)t[i+o]=e[r+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},function(t,e,r){"use strict";var n=r(23),i=r(12),o=r(47),a=r(98),s=5;function u(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var i=r[n-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[n][o]);return r}function h(t){return 1&t?"-":""}function f(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",f(t.slice(0,e)),",",f(t.slice(e)),")"].join("")}function l(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",f(l(u(t,r))),",",h(r),t[0][r],")"].join(""));return e}function c(t){for(var e=[],r=[],s=function(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-1,"]"].join("")}return e}(t),h=[],c=0;c<t;++c)0==(1&c)?e.push.apply(e,l(u(s,c))):r.push.apply(r,l(u(s,c))),h.push("m"+c);var d=f(e),p=f(r),v="orientation"+t+"Exact",g=["function ",v,"(",h.join(),"){var p=",d,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",v].join("");return new Function("sum","prod","scale","sub",g)(i,n,o,a)}var d=c(3),p=c(4),v=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,r){var n,i=(t[1]-r[1])*(e[0]-r[0]),o=(t[0]-r[0])*(e[1]-r[1]),a=i-o;if(i>0){if(o<=0)return a;n=i+o}else{if(!(i<0))return a;if(o>=0)return a;n=-(i+o)}var s=3.3306690738754716e-16*n;return a>=s||a<=-s?a:d(t,e,r)},function(t,e,r,n){var i=t[0]-n[0],o=e[0]-n[0],a=r[0]-n[0],s=t[1]-n[1],u=e[1]-n[1],h=r[1]-n[1],f=t[2]-n[2],l=e[2]-n[2],c=r[2]-n[2],d=o*h,v=a*u,g=a*s,m=i*h,_=i*u,b=o*s,y=f*(d-v)+l*(g-m)+c*(_-b),w=7.771561172376103e-16*((Math.abs(d)+Math.abs(v))*Math.abs(f)+(Math.abs(g)+Math.abs(m))*Math.abs(l)+(Math.abs(_)+Math.abs(b))*Math.abs(c));return y>w||-y>w?y:p(t,e,r,n)}];!function(){for(;v.length<=s;)v.push(c(v.length));for(var e=[],r=["slow"],n=0;n<=s;++n)e.push("a"+n),r.push("o"+n);var i=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(n=2;n<=s;++n)i.push("case ",n,":return o",n,"(",e.slice(0,n).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),r.push(i.join(""));var o=Function.apply(void 0,r);for(t.exports=o.apply(void 0,[function(t){var e=v[t.length];return e||(e=v[t.length]=c(t.length)),e.apply(void 0,t)}].concat(v)),n=0;n<=s;++n)t.exports[n]=v[n]}()},function(t,e,r){var n=r(210),i=r(94),o="undefined"!=typeof Float64Array;function a(t,e){return t[0]-e[0]}function s(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(a);var n=new Array(r.length);for(t=0;t<n.length;++t)n[t]=r[t][1];return n}function u(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var i="generic"===t;if(-1===e){var o="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(o)()}if(0===e){o="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}";return new Function("TrivialArray",o)(h[t][0])}o=["'use strict'"];var a=n(e),u=a.map(function(t){return"i"+t}),f="this.offset+"+a.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),l=a.map(function(t){return"b"+t}).join(","),c=a.map(function(t){return"c"+t}).join(",");o.push("function "+r+"(a,"+l+","+c+",d){this.data=a","this.shape=["+l+"]","this.stride=["+c+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+a.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+r+"_order(){"),2===e?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),i?o.push("return this.data.set("+f+",v)}"):o.push("return this.data["+f+"]=v}"),o.push("proto.get=function "+r+"_get("+u.join(",")+"){"),i?o.push("return this.data.get("+f+")}"):o.push("return this.data["+f+"]}"),o.push("proto.index=function "+r+"_index(",u.join(),"){return "+f+"}"),o.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+a.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+a.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=a.map(function(t){return"a"+t+"=this.shape["+t+"]"}),p=a.map(function(t){return"c"+t+"=this.stride["+t+"]"});o.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){d=i"+v+"|0;b+=c"+v+"*d;a"+v+"-=d}");o.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"c"+t}).join(",")+",b)}"),o.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+a.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+a.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'){d=i"+v+"|0;if(d<0){c+=b"+v+"*(a"+v+"-1);a"+v+"=ceil(-a"+v+"/d)}else{a"+v+"=ceil(a"+v+"/d)}b"+v+"*=d}");o.push("return new "+r+"(this.data,"+a.map(function(t){return"a"+t}).join(",")+","+a.map(function(t){return"b"+t}).join(",")+",c)}");var g=new Array(e),m=new Array(e);for(v=0;v<e;++v)g[v]="a[i"+v+"]",m[v]="b[i"+v+"]";o.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+m.join(",")+",this.offset)}"),o.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset");for(v=0;v<e;++v)o.push("if(typeof i"+v+"==='number'&&i"+v+">=0){c=(c+this.stride["+v+"]*i"+v+")|0}else{a.push(this.shape["+v+"]);b.push(this.stride["+v+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+a.map(function(t){return"shape["+t+"]"}).join(",")+","+a.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(h[t],s)}var h={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=function(t,e,r,n){if(void 0===t)return(0,h.array[0])([]);"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var a=e.length;if(void 0===r){r=new Array(a);for(var s=a-1,f=1;s>=0;--s)r[s]=f,f*=e[s]}if(void 0===n)for(n=0,s=0;s<a;++s)r[s]<0&&(n-=(e[s]-1)*r[s]);for(var l=function(t){if(i(t))return"buffer";if(o)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}(t),c=h[l];c.length<=a+1;)c.push(u(l,c.length-1));return(0,c[a+1])(t,e,r,n)}},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(125),i=r(126),o=r(54);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return h(this,t,e,r)}function h(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=c(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):c(t,e);if("Buffer"===e.type&&o(e.data))return c(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return j(t).length;e=(""+e).toLowerCase(),n=!0}}function v(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function h(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=r;o<s;o++)if(h(t,o)===h(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var l=!0,c=0;c<u;c++)if(h(t,o+c)!==h(e,c)){l=!1;break}if(l)return o}return-1}function _(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function b(t,e,r,n){return V(j(e,t.length-r),t,r,n)}function y(t,e,r,n){return V(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function w(t,e,r,n){return y(t,e,r,n)}function x(t,e,r,n){return V(z(e),t,r,n)}function M(t,e,r,n){return V(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function E(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function A(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,h=t[i],f=null,l=h>239?4:h>223?3:h>191?2:1;if(i+l<=r)switch(l){case 1:h<128&&(f=h);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&h)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&h)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&h)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=T));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return h(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,r);case"utf8":case"utf-8":return A(this,e,r);case"ascii":return k(this,e,r);case"latin1":case"binary":return S(this,e,r);case"base64":return E(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,a=r-e,s=Math.min(o,a),h=this.slice(n,i),f=t.slice(e,r),l=0;l<s;++l)if(h[l]!==f[l]){o=h[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return y(this,t,e,r);case"latin1":case"binary":return w(this,t,e,r);case"base64":return x(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function k(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function S(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function R(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=U(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function P(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function O(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,o){return o||O(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function F(t,e,r,n,o){return o||O(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):N(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):P(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):P(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):N(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):N(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return F(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return F(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=u.isBuffer(t)?t:j(new u(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function V(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(3))},function(t,e,r){"use strict";var n=r(26),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=l;var o=r(20);o.inherits=r(14);var a=r(56),s=r(38);o.inherits(l,a);for(var u=i(s.prototype),h=0;h<u.length;h++){var f=u[h];l.prototype[f]||(l.prototype[f]=s.prototype[f])}function l(t){if(!(this instanceof l))return new l(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),l.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);if(i)return[i,r];return[r]}(t[0],e[0]);var i,o,a=new Array(r+n),s=0,u=0,h=0,f=Math.abs,l=t[u],c=f(l),d=e[h],p=f(d);c<p?(o=l,(u+=1)<r&&(l=t[u],c=f(l))):(o=d,(h+=1)<n&&(d=e[h],p=f(d)));u<r&&c<p||h>=n?(i=l,(u+=1)<r&&(l=t[u],c=f(l))):(i=d,(h+=1)<n&&(d=e[h],p=f(d)));var v,g,m=i+o,_=m-i,b=o-_,y=b,w=m;for(;u<r&&h<n;)c<p?(i=l,(u+=1)<r&&(l=t[u],c=f(l))):(i=d,(h+=1)<n&&(d=e[h],p=f(d))),(b=(o=y)-(_=(m=i+o)-i))&&(a[s++]=b),y=w-((v=w+m)-(g=v-w))+(m-g),w=v;for(;u<r;)(b=(o=y)-(_=(m=(i=l)+o)-i))&&(a[s++]=b),y=w-((v=w+m)-(g=v-w))+(m-g),w=v,(u+=1)<r&&(l=t[u]);for(;h<n;)(b=(o=y)-(_=(m=(i=d)+o)-i))&&(a[s++]=b),y=w-((v=w+m)-(g=v-w))+(m-g),w=v,(h+=1)<n&&(d=e[h]);y&&(a[s++]=y);w&&(a[s++]=w);s||(a[s++]=0);return a.length=s,a}},function(t,e,r){"use strict";for(var n=r(0),i=r(5),o=r(28),a=r(1),s=new Array(256),u=0;u<256;u++)s[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;s[254]=s[254]=1;function h(){a.call(this,"utf-8 decode"),this.leftOver=null}function f(){a.call(this,"utf-8 encode")}e.utf8encode=function(t){return i.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,r,n,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=i.uint8array?new Uint8Array(u):new Array(u),a=0,o=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e}(t)},e.utf8decode=function(t){return i.nodebuffer?n.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,r,i,o,a=t.length,u=new Array(2*a);for(r=0,e=0;e<a;)if((i=t[e++])<128)u[r++]=i;else if((o=s[i])>4)u[r++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<a;)i=i<<6|63&t[e++],o--;o>1?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return u.length!==r&&(u.subarray?u=u.subarray(0,r):u.length=r),n.applyFromCharCode(u)}(t=n.transformTo(i.uint8array?"uint8array":"array",t))},n.inherits(h,a),h.prototype.processChunk=function(t){var r=n.transformTo(i.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=r;(r=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),r.set(o,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var a=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+s[t[r]]>e?r:e}(r),u=r;a!==r.length&&(i.uint8array?(u=r.subarray(0,a),this.leftOver=r.subarray(a,r.length)):(u=r.slice(0,a),this.leftOver=r.slice(a,r.length))),this.push({data:e.utf8decode(u),meta:t.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=h,n.inherits(f,a),f.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=f},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,h=[],f=!1,l=-1;function c(){f&&u&&(f=!1,u.length?h=u.concat(h):l=-1,h.length&&d())}function d(){if(!f){var t=s(c);f=!0;for(var e=h.length;e;){for(u=h,h=[];++l<e;)u&&u[l].run();l=-1,e=h.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||f||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";function n(t,e,r,n,i,o){var a=["function ",t,"(a,l,h,",n.join(","),"){",o?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?e.indexOf("c")<0?a.push(";if(x===y){return m}else if(x<=y){"):a.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):a.push(";if(",e,"){i=m;"),r?a.push("l=m+1}else{h=m-1}"):a.push("h=m-1}else{l=m+1}"),a.push("}"),o?a.push("return -1};"):a.push("return i};"),a.join("")}function i(t,e,r,i){return new Function([n("A","x"+t+"y",e,["y"],!1,i),n("B","x"+t+"y",e,["y"],!0,i),n("P","c(x,y)"+t+"0",e,["y","c"],!1,i),n("Q","c(x,y)"+t+"0",e,["y","c"],!0,i),"function dispatchBsearch",r,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",r].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],f=e[8],l=e[9],c=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],_=r*s-n*a,b=r*u-i*a,y=r*h-o*a,w=n*u-i*s,x=n*h-o*s,M=i*h-o*u,E=f*v-l*p,A=f*g-c*p,T=f*m-d*p,k=l*g-c*v,S=l*m-d*v,R=c*m-d*g,C=_*R-b*S+y*k+w*T-x*A+M*E;if(!C)return null;return C=1/C,t[0]=(s*R-u*S+h*k)*C,t[1]=(i*S-n*R-o*k)*C,t[2]=(v*M-g*x+m*w)*C,t[3]=(c*x-l*M-d*w)*C,t[4]=(u*T-a*R-h*A)*C,t[5]=(r*R-i*T+o*A)*C,t[6]=(g*y-p*M-m*b)*C,t[7]=(f*M-c*y+d*b)*C,t[8]=(a*S-s*T+h*E)*C,t[9]=(n*T-r*S-o*E)*C,t[10]=(p*x-v*y+m*_)*C,t[11]=(l*y-f*x-d*_)*C,t[12]=(s*A-a*k-u*E)*C,t[13]=(r*k-n*A+i*E)*C,t[14]=(v*b-p*w-g*_)*C,t[15]=(f*w-l*b+c*_)*C,t}},function(t,e,r){"use strict";var n=r(4),i=r(45),o=r(8),a=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function s(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}var u=s.prototype;function h(t,e,r,n,i,o){var a=i.length*i.BYTES_PER_ELEMENT;if(o<0)return t.bufferData(e,i,n),a;if(a+o>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,o,i),r}function f(t,e){for(var r=n.malloc(t.length,e),i=t.length,o=0;o<i;++o)r[o]=t[o];return r}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(a.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER)r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16";if(r===t.dtype&&function(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=h(this.gl,this.type,this.length,this.usage,t.data,e):this.length=h(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=n.malloc(t.size,r),u=o(s,t.shape);i.assign(u,t),this.length=h(this.gl,this.type,this.length,this.usage,e<0?s:s.subarray(0,t.size),e),n.free(s)}}else if(Array.isArray(t)){var l;l=this.type===this.gl.ELEMENT_ARRAY_BUFFER?f(t,"uint16"):f(t,"float32"),this.length=h(this.gl,this.type,this.length,this.usage,e<0?l:l.subarray(0,t.length),e),n.free(l)}else if("object"==typeof t&&"number"==typeof t.length)this.length=h(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(t|=0)<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=function(t,e,r,n){if(r=r||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(n!==t.DYNAMIC_DRAW&&n!==t.STATIC_DRAW&&n!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var i=new s(t,r,t.createBuffer(),0,n);return i.update(e),i}},function(t,e,r){"use strict";var n=r(211),i=r(212);t.exports=function(t,e,r,o){var a,s=t.createVertexArray?new function(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}(t):t.getExtension("OES_vertex_array_object");return(a=s?n(t,s):i(t)).update(e,r,o),a}},function(t,e,r){(function(t){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,r(9).Buffer)},function(t,e,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:r(153),t.exports={Promise:n}},function(t,e,r){"use strict";var n=r(208);t.exports=function(t){var e=new function(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1};e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var o=r[i];if("array"===o||"object"==typeof o&&o.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===o){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:o.array,offset:o.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,n(e)}},function(t,e,r){"use strict";t.exports=function(t,e,r){var i=t*e,o=n*t,a=o-(o-t),s=t-a,u=n*e,h=u-(u-e),f=e-h,l=s*f-(i-a*h-s*h-a*f);if(r)return r[0]=l,r[1]=i,r;return[l,i]};var n=+(Math.pow(2,27)+1)},function(t,e,r){"use strict";var n=r(102),i=r(50);t.exports=function(t,e){var r=i(t),o=i(e);if(0===r)return[n(0),n(1)];if(0===o)return[n(0),n(0)];o<0&&(t=t.neg(),e=e.neg());var a=t.gcd(e);if(a.cmpn(1))return[t.div(a),e.div(a)];return[t,e]}},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,a,s,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(h=r.slice()).length,u=0;u<a;u++)h[u].apply(this,s);return!0},r.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(s=a;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,r(15))},function(t,e,r){var n=r(9),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,r){return new e(t,r)},allocBuffer:function(t){return e.alloc?e.alloc(t):new e(t)},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,r(9).Buffer)},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=e[8],c=e[9],d=e[10],p=e[11],v=e[12],g=e[13],m=e[14],_=e[15],b=r[0],y=r[1],w=r[2],x=r[3];return t[0]=b*n+y*s+w*l+x*v,t[1]=b*i+y*u+w*c+x*g,t[2]=b*o+y*h+w*d+x*m,t[3]=b*a+y*f+w*p+x*_,b=r[4],y=r[5],w=r[6],x=r[7],t[4]=b*n+y*s+w*l+x*v,t[5]=b*i+y*u+w*c+x*g,t[6]=b*o+y*h+w*d+x*m,t[7]=b*a+y*f+w*p+x*_,b=r[8],y=r[9],w=r[10],x=r[11],t[8]=b*n+y*s+w*l+x*v,t[9]=b*i+y*u+w*c+x*g,t[10]=b*o+y*h+w*d+x*m,t[11]=b*a+y*f+w*p+x*_,b=r[12],y=r[13],w=r[14],x=r[15],t[12]=b*n+y*s+w*l+x*v,t[13]=b*i+y*u+w*c+x*g,t[14]=b*o+y*h+w*d+x*m,t[15]=b*a+y*f+w*p+x*_,t}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a=r(237).Buffer}catch(t){}function s(t,e,r){for(var n=0,i=Math.min(t.length,r),o=e;o<i;o++){var a=t.charCodeAt(o)-48;n<<=4,n|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return n}function u(t,e,r,n){for(var i=0,o=Math.min(t.length,r),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,o=0;for(r=t.length-6,n=0;r>=e;r-=6)i=s(t,r,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,n++);r+6!==e&&(i=s(t,e,r+6),this.words[n]|=i<<o&67108863,this.words[n+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,h=0,f=r;f<s;f+=n)h=u(t,f,f+n,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==a){var l=1;for(h=u(t,f,t.length,e),f=0;f<a;f++)l*=e;this.imuln(l),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function c(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var h=1;h<n;h++){for(var f=u>>>26,l=67108863&u,c=Math.min(h,e.length-1),d=Math.max(0,h-t.length+1);d<=c;d++){var p=h-d|0;f+=(a=(i=0|t.words[p])*(o=0|e.words[d])+l)/67108864|0,l=67108863&a}r.words[h]=0|l,u=0|f}return 0!==u?r.words[h]=0|u:r.length--,r.strip()}o.prototype.toString=function(t,e){var r;if(t=t||10,e=0|e||1,16===t||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?h[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?v+r:h[c-v.length]+v+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return n(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,h=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),h[s]=a;for(;s<o;s++)h[s]=0}else{for(s=0;s<o-i;s++)h[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),h[o-s-1]=a}return h},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var d=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,h=0,f=0|a[0],l=8191&f,c=f>>>13,d=0|a[1],p=8191&d,v=d>>>13,g=0|a[2],m=8191&g,_=g>>>13,b=0|a[3],y=8191&b,w=b>>>13,x=0|a[4],M=8191&x,E=x>>>13,A=0|a[5],T=8191&A,k=A>>>13,S=0|a[6],R=8191&S,C=S>>>13,I=0|a[7],L=8191&I,P=I>>>13,N=0|a[8],O=8191&N,B=N>>>13,F=0|a[9],D=8191&F,U=F>>>13,j=0|s[0],z=8191&j,V=j>>>13,q=0|s[1],H=8191&q,X=q>>>13,W=0|s[2],G=8191&W,Y=W>>>13,Z=0|s[3],K=8191&Z,Q=Z>>>13,J=0|s[4],$=8191&J,tt=J>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ht=st>>>13,ft=0|s[8],lt=8191&ft,ct=ft>>>13,dt=0|s[9],pt=8191&dt,vt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var gt=(h+(n=Math.imul(l,z))|0)+((8191&(i=(i=Math.imul(l,V))+Math.imul(c,z)|0))<<13)|0;h=((o=Math.imul(c,V))+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(p,z),i=(i=Math.imul(p,V))+Math.imul(v,z)|0,o=Math.imul(v,V);var mt=(h+(n=n+Math.imul(l,H)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(c,H)|0))<<13)|0;h=((o=o+Math.imul(c,X)|0)+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(m,z),i=(i=Math.imul(m,V))+Math.imul(_,z)|0,o=Math.imul(_,V),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,X)|0;var _t=(h+(n=n+Math.imul(l,G)|0)|0)+((8191&(i=(i=i+Math.imul(l,Y)|0)+Math.imul(c,G)|0))<<13)|0;h=((o=o+Math.imul(c,Y)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(y,z),i=(i=Math.imul(y,V))+Math.imul(w,z)|0,o=Math.imul(w,V),n=n+Math.imul(m,H)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,Y)|0;var bt=(h+(n=n+Math.imul(l,K)|0)|0)+((8191&(i=(i=i+Math.imul(l,Q)|0)+Math.imul(c,K)|0))<<13)|0;h=((o=o+Math.imul(c,Q)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(M,z),i=(i=Math.imul(M,V))+Math.imul(E,z)|0,o=Math.imul(E,V),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(w,H)|0,o=o+Math.imul(w,X)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,Y)|0,n=n+Math.imul(p,K)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(v,K)|0,o=o+Math.imul(v,Q)|0;var yt=(h+(n=n+Math.imul(l,$)|0)|0)+((8191&(i=(i=i+Math.imul(l,tt)|0)+Math.imul(c,$)|0))<<13)|0;h=((o=o+Math.imul(c,tt)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(T,z),i=(i=Math.imul(T,V))+Math.imul(k,z)|0,o=Math.imul(k,V),n=n+Math.imul(M,H)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,X)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(m,K)|0,i=(i=i+Math.imul(m,Q)|0)+Math.imul(_,K)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,tt)|0;var wt=(h+(n=n+Math.imul(l,rt)|0)|0)+((8191&(i=(i=i+Math.imul(l,nt)|0)+Math.imul(c,rt)|0))<<13)|0;h=((o=o+Math.imul(c,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(R,z),i=(i=Math.imul(R,V))+Math.imul(C,z)|0,o=Math.imul(C,V),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,X)|0,n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,Y)|0)+Math.imul(E,G)|0,o=o+Math.imul(E,Y)|0,n=n+Math.imul(y,K)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(w,K)|0,o=o+Math.imul(w,Q)|0,n=n+Math.imul(m,$)|0,i=(i=i+Math.imul(m,tt)|0)+Math.imul(_,$)|0,o=o+Math.imul(_,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0;var xt=(h+(n=n+Math.imul(l,ot)|0)|0)+((8191&(i=(i=i+Math.imul(l,at)|0)+Math.imul(c,ot)|0))<<13)|0;h=((o=o+Math.imul(c,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,z),i=(i=Math.imul(L,V))+Math.imul(P,z)|0,o=Math.imul(P,V),n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,Y)|0,n=n+Math.imul(M,K)|0,i=(i=i+Math.imul(M,Q)|0)+Math.imul(E,K)|0,o=o+Math.imul(E,Q)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(w,$)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(m,rt)|0,i=(i=i+Math.imul(m,nt)|0)+Math.imul(_,rt)|0,o=o+Math.imul(_,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0;var Mt=(h+(n=n+Math.imul(l,ut)|0)|0)+((8191&(i=(i=i+Math.imul(l,ht)|0)+Math.imul(c,ut)|0))<<13)|0;h=((o=o+Math.imul(c,ht)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(O,z),i=(i=Math.imul(O,V))+Math.imul(B,z)|0,o=Math.imul(B,V),n=n+Math.imul(L,H)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(T,K)|0,i=(i=i+Math.imul(T,Q)|0)+Math.imul(k,K)|0,o=o+Math.imul(k,Q)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(m,ot)|0,i=(i=i+Math.imul(m,at)|0)+Math.imul(_,ot)|0,o=o+Math.imul(_,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ht)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ht)|0;var Et=(h+(n=n+Math.imul(l,lt)|0)|0)+((8191&(i=(i=i+Math.imul(l,ct)|0)+Math.imul(c,lt)|0))<<13)|0;h=((o=o+Math.imul(c,ct)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(D,z),i=(i=Math.imul(D,V))+Math.imul(U,z)|0,o=Math.imul(U,V),n=n+Math.imul(O,H)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(B,H)|0,o=o+Math.imul(B,X)|0,n=n+Math.imul(L,G)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(P,G)|0,o=o+Math.imul(P,Y)|0,n=n+Math.imul(R,K)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(C,K)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(E,rt)|0,o=o+Math.imul(E,nt)|0,n=n+Math.imul(y,ot)|0,i=(i=i+Math.imul(y,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(m,ut)|0,i=(i=i+Math.imul(m,ht)|0)+Math.imul(_,ut)|0,o=o+Math.imul(_,ht)|0,n=n+Math.imul(p,lt)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(v,lt)|0,o=o+Math.imul(v,ct)|0;var At=(h+(n=n+Math.imul(l,pt)|0)|0)+((8191&(i=(i=i+Math.imul(l,vt)|0)+Math.imul(c,pt)|0))<<13)|0;h=((o=o+Math.imul(c,vt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(D,H),i=(i=Math.imul(D,X))+Math.imul(U,H)|0,o=Math.imul(U,X),n=n+Math.imul(O,G)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(B,G)|0,o=o+Math.imul(B,Y)|0,n=n+Math.imul(L,K)|0,i=(i=i+Math.imul(L,Q)|0)+Math.imul(P,K)|0,o=o+Math.imul(P,Q)|0,n=n+Math.imul(R,$)|0,i=(i=i+Math.imul(R,tt)|0)+Math.imul(C,$)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(k,rt)|0,o=o+Math.imul(k,nt)|0,n=n+Math.imul(M,ot)|0,i=(i=i+Math.imul(M,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,n=n+Math.imul(y,ut)|0,i=(i=i+Math.imul(y,ht)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ht)|0,n=n+Math.imul(m,lt)|0,i=(i=i+Math.imul(m,ct)|0)+Math.imul(_,lt)|0,o=o+Math.imul(_,ct)|0;var Tt=(h+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,vt)|0)+Math.imul(v,pt)|0))<<13)|0;h=((o=o+Math.imul(v,vt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,Y))+Math.imul(U,G)|0,o=Math.imul(U,Y),n=n+Math.imul(O,K)|0,i=(i=i+Math.imul(O,Q)|0)+Math.imul(B,K)|0,o=o+Math.imul(B,Q)|0,n=n+Math.imul(L,$)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,tt)|0,n=n+Math.imul(R,rt)|0,i=(i=i+Math.imul(R,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,n=n+Math.imul(M,ut)|0,i=(i=i+Math.imul(M,ht)|0)+Math.imul(E,ut)|0,o=o+Math.imul(E,ht)|0,n=n+Math.imul(y,lt)|0,i=(i=i+Math.imul(y,ct)|0)+Math.imul(w,lt)|0,o=o+Math.imul(w,ct)|0;var kt=(h+(n=n+Math.imul(m,pt)|0)|0)+((8191&(i=(i=i+Math.imul(m,vt)|0)+Math.imul(_,pt)|0))<<13)|0;h=((o=o+Math.imul(_,vt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,Q))+Math.imul(U,K)|0,o=Math.imul(U,Q),n=n+Math.imul(O,$)|0,i=(i=i+Math.imul(O,tt)|0)+Math.imul(B,$)|0,o=o+Math.imul(B,tt)|0,n=n+Math.imul(L,rt)|0,i=(i=i+Math.imul(L,nt)|0)+Math.imul(P,rt)|0,o=o+Math.imul(P,nt)|0,n=n+Math.imul(R,ot)|0,i=(i=i+Math.imul(R,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ht)|0)+Math.imul(k,ut)|0,o=o+Math.imul(k,ht)|0,n=n+Math.imul(M,lt)|0,i=(i=i+Math.imul(M,ct)|0)+Math.imul(E,lt)|0,o=o+Math.imul(E,ct)|0;var St=(h+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,vt)|0)+Math.imul(w,pt)|0))<<13)|0;h=((o=o+Math.imul(w,vt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,$),i=(i=Math.imul(D,tt))+Math.imul(U,$)|0,o=Math.imul(U,tt),n=n+Math.imul(O,rt)|0,i=(i=i+Math.imul(O,nt)|0)+Math.imul(B,rt)|0,o=o+Math.imul(B,nt)|0,n=n+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(P,ot)|0,o=o+Math.imul(P,at)|0,n=n+Math.imul(R,ut)|0,i=(i=i+Math.imul(R,ht)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ht)|0,n=n+Math.imul(T,lt)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(k,lt)|0,o=o+Math.imul(k,ct)|0;var Rt=(h+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,vt)|0)+Math.imul(E,pt)|0))<<13)|0;h=((o=o+Math.imul(E,vt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(U,rt)|0,o=Math.imul(U,nt),n=n+Math.imul(O,ot)|0,i=(i=i+Math.imul(O,at)|0)+Math.imul(B,ot)|0,o=o+Math.imul(B,at)|0,n=n+Math.imul(L,ut)|0,i=(i=i+Math.imul(L,ht)|0)+Math.imul(P,ut)|0,o=o+Math.imul(P,ht)|0,n=n+Math.imul(R,lt)|0,i=(i=i+Math.imul(R,ct)|0)+Math.imul(C,lt)|0,o=o+Math.imul(C,ct)|0;var Ct=(h+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,vt)|0)+Math.imul(k,pt)|0))<<13)|0;h=((o=o+Math.imul(k,vt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),n=n+Math.imul(O,ut)|0,i=(i=i+Math.imul(O,ht)|0)+Math.imul(B,ut)|0,o=o+Math.imul(B,ht)|0,n=n+Math.imul(L,lt)|0,i=(i=i+Math.imul(L,ct)|0)+Math.imul(P,lt)|0,o=o+Math.imul(P,ct)|0;var It=(h+(n=n+Math.imul(R,pt)|0)|0)+((8191&(i=(i=i+Math.imul(R,vt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((o=o+Math.imul(C,vt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ht))+Math.imul(U,ut)|0,o=Math.imul(U,ht),n=n+Math.imul(O,lt)|0,i=(i=i+Math.imul(O,ct)|0)+Math.imul(B,lt)|0,o=o+Math.imul(B,ct)|0;var Lt=(h+(n=n+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,vt)|0)+Math.imul(P,pt)|0))<<13)|0;h=((o=o+Math.imul(P,vt)|0)+(i>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(D,lt),i=(i=Math.imul(D,ct))+Math.imul(U,lt)|0,o=Math.imul(U,ct);var Pt=(h+(n=n+Math.imul(O,pt)|0)|0)+((8191&(i=(i=i+Math.imul(O,vt)|0)+Math.imul(B,pt)|0))<<13)|0;h=((o=o+Math.imul(B,vt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863;var Nt=(h+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,vt))+Math.imul(U,pt)|0))<<13)|0;return h=((o=Math.imul(U,vt))+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=gt,u[1]=mt,u[2]=_t,u[3]=bt,u[4]=yt,u[5]=wt,u[6]=xt,u[7]=Mt,u[8]=Et,u[9]=At,u[10]=Tt,u[11]=kt,u[12]=St,u[13]=Rt,u[14]=Ct,u[15]=It,u[16]=Lt,u[17]=Pt,u[18]=Nt,0!==h&&(u[19]=h,r.length++),r};function p(t,e,r){return(new v).mulp(t,e,r)}function v(t,e){this.x=t,this.y=e}Math.imul||(d=c),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?d(this,t,e):r<63?c(this,t,e):r<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),h=Math.max(0,o-t.length+1);h<=u;h++){var f=o-h,l=(0|t.words[f])*(0|e.words[h]),c=67108863&l;s=67108863&(c=c+s|0),i+=(a=(a=a+(l/67108864|0)|0)+(c>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,t,e):p(this,t,e)},v.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},v.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},v.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},v.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),h=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var l=u,c=h,d=0;d<a;d++){var p=r[f+d],v=n[f+d],g=r[f+d+a],m=n[f+d+a],_=l*g-c*m;m=l*m+c*g,g=_,r[f+d]=p+g,n[f+d]=v+m,r[f+d+a]=p-g,n[f+d+a]=v-m,d!==s&&(_=u*l-h*c,c=u*c+h*l,l=_)}},v.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},v.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},v.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},v.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},v.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),l=new Array(n),c=r.words;c.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,h,n),this.transform(a,o,s,u,n,i),this.transform(h,o,f,l,n,i);for(var d=0;d<n;d++){var p=s[d]*f[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,c,o,n,i),this.conjugate(c,o,n),this.normalize13b(c,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[r]=67108863&o}return 0!==e&&(this.words[r]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var h=0;h<a;h++)u.words[h]=this.words[h];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,h=0;h<this.length;h++)this.words[h]=this.words[h+a];else this.words[0]=0,this.length=1;var f=0;for(h=this.length-1;h>=0&&(0!==f||h>=i);h--){var l=0|this.words[h];this.words[h]=f<<26-o|l>>>o,f=l&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var h=0;h<s.length;h++)s.words[h]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var c=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(c=Math.min(c/a|0,67108863),n._ishlnsubmul(i,c,l);0!==n.negative;)c--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);s&&(s.words[l]=c)}return s&&s.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},o.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),h=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++h;for(var f=r.clone(),l=e.clone();!e.isZero();){for(var c=0,d=1;0==(e.words[0]&d)&&c<26;++c,d<<=1);if(c>0)for(e.iushrn(c);c-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0==(r.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(h)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var h=0,f=1;0==(e.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(e.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var l=0,c=1;0==(r.words[0]&c)&&l<26;++l,c<<=1);if(l>0)for(r.iushrn(l);l-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new x(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var g={k256:null,p224:null,p192:null,p25519:null};function m(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},m.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},m.prototype.split=function(t,e){t.iushrn(this.n,0,e)},m.prototype.imulK=function(t){return t.imul(this.k)},i(_,m),_.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},_.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,m),i(y,m),i(w,m),w.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(g[t])return g[t];var e;if("k256"===t)e=new _;else if("p224"===t)e=new b;else if("p192"===t)e=new y;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new w}return g[t]=e,e},x.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},x.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),h=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,h).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),c=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var v=d,g=0;0!==v.cmp(s);g++)v=v.redSqr();n(g<p);var m=this.pow(l,new o(1).iushln(p-g-1));c=c.redMul(m),l=m.redSqr(),d=d.redMul(l),p=g}return c},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var h=e.words[n],f=u-1;f>=0;f--){var l=h>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===n&&0===f)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new M(t)},i(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},M.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},M.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===t||t,this)}).call(this,r(236)(t))},function(t,e,r){"use strict";function n(t,e,r,n,i){var o=["function ",t,"(a,l,h,",n.join(","),"){",i?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a[m]"];return i?e.indexOf("c")<0?o.push(";if(x===y){return m}else if(x<=y){"):o.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):o.push(";if(",e,"){i=m;"),r?o.push("l=m+1}else{h=m-1}"):o.push("h=m-1}else{l=m+1}"),o.push("}"),i?o.push("return -1};"):o.push("return i};"),o.join("")}function i(t,e,r,i){return new Function([n("A","x"+t+"y",e,["y"],i),n("P","c(x,y)"+t+"0",e,["y","c"],i),"function dispatchBsearch",r,"(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch",r].join(""))()}t.exports={ge:i(">=",!1,"GE"),gt:i(">",!1,"GT"),lt:i("<",!0,"LT"),le:i("<=",!0,"LE"),eq:i("-",!0,"EQ",!0)}},function(t,e){t.exports=function(t){"string"==typeof t&&(t=[t]);for(var e=[].slice.call(arguments,1),r=[],n=0;n<t.length-1;n++)r.push(t[n],e[n]||"");return r.push(t[n]),r.join("")}},function(t,e,r){"use strict";var n=r(268),i=r(269),o=r(107),a=r(270),s=r(288),u=r(35);function h(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=h.prototype;function l(t,e){return t.name<e.name?-1:1}f.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},f.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(t,e,r,h){if(!e||1===arguments.length){var f=t;t=f.vertex,e=f.fragment,r=f.uniforms,h=f.attributes}var c=this,d=c.gl,p=c._vref;c._vref=a.shader(d,d.VERTEX_SHADER,t),p&&p.dispose(),c.vertShader=c._vref.shader;var v=this._fref;if(c._fref=a.shader(d,d.FRAGMENT_SHADER,e),v&&v.dispose(),c.fragShader=c._fref.shader,!r||!h){var g=d.createProgram();if(d.attachShader(g,c.fragShader),d.attachShader(g,c.vertShader),d.linkProgram(g),!d.getProgramParameter(g,d.LINK_STATUS)){var m=d.getProgramInfoLog(g);throw new u(m,"Error linking program:"+m)}r=r||s.uniforms(d,g),h=h||s.attributes(d,g),d.deleteProgram(g)}(h=h.slice()).sort(l);var _,b=[],y=[],w=[];for(_=0;_<h.length;++_){var x=h[_];if(x.type.indexOf("mat")>=0){for(var M=0|x.type.charAt(x.type.length-1),E=new Array(M),A=0;A<M;++A)E[A]=w.length,y.push(x.name+"["+A+"]"),"number"==typeof x.location?w.push(x.location+A):Array.isArray(x.location)&&x.location.length===M&&"number"==typeof x.location[A]?w.push(0|x.location[A]):w.push(-1);b.push({name:x.name,type:x.type,locations:E})}else b.push({name:x.name,type:x.type,locations:[w.length]}),y.push(x.name),"number"==typeof x.location?w.push(0|x.location):w.push(-1)}var T=0;for(_=0;_<w.length;++_)if(w[_]<0){for(;w.indexOf(T)>=0;)T+=1;w[_]=T}var k=new Array(r.length);function S(){c.program=a.program(d,c._vref,c._fref,y,w);for(var t=0;t<r.length;++t)k[t]=d.getUniformLocation(c.program,r[t].name)}S(),c._relink=S,c.types={uniforms:o(r),attributes:o(h)},c.attributes=i(d,c,b,w),Object.defineProperty(c,"uniforms",n(d,c,r,k))},t.exports=function(t,e,r,n,i){var o=new h(t);return o.update(e,r,n,i),o}},function(t,e){function r(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},function(t,e,r){var n;!function(i){"use strict";function o(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function a(t,e,r,n,i,a){return o(function(t,e){return t<<e|t>>>32-e}(o(o(e,t),o(n,a)),i),r)}function s(t,e,r,n,i,o,s){return a(e&r|~e&n,t,e,i,o,s)}function u(t,e,r,n,i,o,s){return a(e&n|r&~n,t,e,i,o,s)}function h(t,e,r,n,i,o,s){return a(e^r^n,t,e,i,o,s)}function f(t,e,r,n,i,o,s){return a(r^(e|~n),t,e,i,o,s)}function l(t,e){var r,n,i,a,l;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var c=1732584193,d=-271733879,p=-1732584194,v=271733878;for(r=0;r<t.length;r+=16)n=c,i=d,a=p,l=v,d=f(d=f(d=f(d=f(d=h(d=h(d=h(d=h(d=u(d=u(d=u(d=u(d=s(d=s(d=s(d=s(d,p=s(p,v=s(v,c=s(c,d,p,v,t[r],7,-680876936),d,p,t[r+1],12,-389564586),c,d,t[r+2],17,606105819),v,c,t[r+3],22,-1044525330),p=s(p,v=s(v,c=s(c,d,p,v,t[r+4],7,-176418897),d,p,t[r+5],12,1200080426),c,d,t[r+6],17,-1473231341),v,c,t[r+7],22,-45705983),p=s(p,v=s(v,c=s(c,d,p,v,t[r+8],7,1770035416),d,p,t[r+9],12,-1958414417),c,d,t[r+10],17,-42063),v,c,t[r+11],22,-1990404162),p=s(p,v=s(v,c=s(c,d,p,v,t[r+12],7,1804603682),d,p,t[r+13],12,-40341101),c,d,t[r+14],17,-1502002290),v,c,t[r+15],22,1236535329),p=u(p,v=u(v,c=u(c,d,p,v,t[r+1],5,-165796510),d,p,t[r+6],9,-1069501632),c,d,t[r+11],14,643717713),v,c,t[r],20,-373897302),p=u(p,v=u(v,c=u(c,d,p,v,t[r+5],5,-701558691),d,p,t[r+10],9,38016083),c,d,t[r+15],14,-660478335),v,c,t[r+4],20,-405537848),p=u(p,v=u(v,c=u(c,d,p,v,t[r+9],5,568446438),d,p,t[r+14],9,-1019803690),c,d,t[r+3],14,-187363961),v,c,t[r+8],20,1163531501),p=u(p,v=u(v,c=u(c,d,p,v,t[r+13],5,-1444681467),d,p,t[r+2],9,-51403784),c,d,t[r+7],14,1735328473),v,c,t[r+12],20,-1926607734),p=h(p,v=h(v,c=h(c,d,p,v,t[r+5],4,-378558),d,p,t[r+8],11,-2022574463),c,d,t[r+11],16,1839030562),v,c,t[r+14],23,-35309556),p=h(p,v=h(v,c=h(c,d,p,v,t[r+1],4,-1530992060),d,p,t[r+4],11,1272893353),c,d,t[r+7],16,-155497632),v,c,t[r+10],23,-1094730640),p=h(p,v=h(v,c=h(c,d,p,v,t[r+13],4,681279174),d,p,t[r],11,-358537222),c,d,t[r+3],16,-722521979),v,c,t[r+6],23,76029189),p=h(p,v=h(v,c=h(c,d,p,v,t[r+9],4,-640364487),d,p,t[r+12],11,-421815835),c,d,t[r+15],16,530742520),v,c,t[r+2],23,-995338651),p=f(p,v=f(v,c=f(c,d,p,v,t[r],6,-198630844),d,p,t[r+7],10,1126891415),c,d,t[r+14],15,-1416354905),v,c,t[r+5],21,-57434055),p=f(p,v=f(v,c=f(c,d,p,v,t[r+12],6,1700485571),d,p,t[r+3],10,-1894986606),c,d,t[r+10],15,-1051523),v,c,t[r+1],21,-2054922799),p=f(p,v=f(v,c=f(c,d,p,v,t[r+8],6,1873313359),d,p,t[r+15],10,-30611744),c,d,t[r+6],15,-1560198380),v,c,t[r+13],21,1309151649),p=f(p,v=f(v,c=f(c,d,p,v,t[r+4],6,-145523070),d,p,t[r+11],10,-1120210379),c,d,t[r+2],15,718787259),v,c,t[r+9],21,-343485551),c=o(c,n),d=o(d,i),p=o(p,a),v=o(v,l);return[c,d,p,v]}function c(t){var e,r="",n=32*t.length;for(e=0;e<n;e+=8)r+=String.fromCharCode(t[e>>5]>>>e%32&255);return r}function d(t){var e,r=[];for(r[(t.length>>2)-1]=void 0,e=0;e<r.length;e+=1)r[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)r[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return r}function p(t){var e,r,n="";for(r=0;r<t.length;r+=1)e=t.charCodeAt(r),n+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return n}function v(t){return unescape(encodeURIComponent(t))}function g(t){return function(t){return c(l(d(t),8*t.length))}(v(t))}function m(t,e){return function(t,e){var r,n,i=d(t),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=l(i,8*t.length)),r=0;r<16;r+=1)o[r]=909522486^i[r],a[r]=1549556828^i[r];return n=l(o.concat(d(e)),512+8*e.length),c(l(a.concat(n),640))}(v(t),v(e))}function _(t,e,r){return e?r?m(e,t):function(t,e){return p(m(t,e))}(e,t):r?g(t):function(t){return p(g(t))}(t)}void 0===(n=function(){return _}.call(e,r,e,t))||(t.exports=n)}()},function(t,e,r){(e=t.exports=r(56)).Stream=e,e.Readable=e,e.Writable=r(38),e.Duplex=r(10),e.Transform=r(60),e.PassThrough=r(134)},function(t,e,r){"use strict";(function(e,n,i){var o=r(26);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=_;var s,u=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?n:o.nextTick;_.WritableState=m;var h=r(20);h.inherits=r(14);var f={deprecate:r(133)},l=r(57),c=r(27).Buffer,d=i.Uint8Array||function(){};var p,v=r(58);function g(){}function m(t,e){s=s||r(10),t=t||{};var n=e instanceof s;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,h=t.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(h||0===h)?h:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=!1===t.decodeStrings;this.decodeStrings=!l,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?(o.nextTick(i,n),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),E(t,e))}(t,r,n,e,i);else{var a=x(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||w(t,r),n?u(y,t,r,a,i):y(t,r,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function _(t){if(s=s||r(10),!(p.call(_,this)||this instanceof s))return new _(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function b(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function y(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),E(t,e)}function w(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;r;){var h=r.chunk,f=r.encoding,l=r.callback;if(b(t,e,!1,e.objectMode?1:h.length,h,f,l),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function M(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),E(t,e)})}function E(t,e){var r=x(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(M,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}h.inherits(_,l),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:f.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===_&&(t&&t._writableState instanceof m)}})):p=function(t){return t instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(t,e,r){var n=this._writableState,i=!1,a=!n.objectMode&&function(t){return c.isBuffer(t)||t instanceof d}(t);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(r=e,e=null),a?e="buffer":e||(e=n.defaultEncoding),"function"!=typeof r&&(r=g),n.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),o.nextTick(e,r)}(this,r):(a||function(t,e,r,n){var i=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(n,a),i=!1),i}(this,n,t,r))&&(n.pendingcb++,i=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var u=e.length<e.highWaterMark;u||(e.needDrain=!0);if(e.writing||e.corked){var h=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},h?h.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,n,i,o);return u}(this,n,a,t,e,r)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},_.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,E(t,e),r&&(e.finished?o.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),_.prototype.destroy=v.destroy,_.prototype._undestroy=v.undestroy,_.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,r(15),r(131).setImmediate,r(3))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(64)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";var n=r(21),i=r(68),o=r(69),a=r(70);o=r(69);function s(t,e,r,n,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,r){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},t.exports=s},function(t,e,r){"use strict";var n=r(0);var i=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==n.getTypeOf(t)?function(t,e,r,n){var o=i,a=n+r;t^=-1;for(var s=n;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,r,n){var o=i,a=n+r;t^=-1;for(var s=n;s<a;s++)t=t>>>8^o[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o);return t}},function(t,e,r){"use strict";var n=r(22),i={body:"",args:[],thisVars:[],localVars:[]};function o(t){if(!t)return i;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function a(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(t){return n({args:t.args,pre:o(t.pre),body:o(t.body),post:o(t.proc),funcName:t.funcName})}(t))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in s){var r=s[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var r=u[t];e[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var h={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in h){var r=h[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<f.length;++t){var r=f[t];e[r]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var l=["max","min","atan2","pow"];!function(){for(var t=0;t<l.length;++t){var r=l[t];e[r]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var c=["atan2","pow"];!function(){for(var t=0;t<c.length;++t){var r=c[t];e[r+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,r){"use strict";t.exports=function(t,e,r){return 0===t.length?t:e?(r||t.sort(e),function(t,e){for(var r=1,n=t.length,i=t[0],o=t[0],a=1;a<n;++a)if(o=i,e(i=t[a],o)){if(a===r){r++;continue}t[r++]=i}return t.length=r,t}(t,e)):(r||t.sort(),function(t){for(var e=1,r=t.length,n=t[0],i=t[0],o=1;o<r;++o,i=n)if(i=n,(n=t[o])!==i){if(o===e){e++;continue}t[e++]=n}return t.length=e,t}(t))}},function(t,e,r){"use strict";var n=r(23),i=r(97);t.exports=function(t,e){var r=t.length;if(1===r){var o=n(t[0],e);return o[0]?o:[o[1]]}var a=new Array(2*r),s=[.1,.1],u=[.1,.1],h=0;n(t[0],e,s),s[0]&&(a[h++]=s[0]);for(var f=1;f<r;++f){n(t[f],e,u);var l=s[1];i(l,u[0],s),s[0]&&(a[h++]=s[0]);var c=u[1],d=s[1],p=c+d,v=p-c,g=d-v;s[1]=p,g&&(a[h++]=g)}s[1]&&(a[h++]=s[1]);0===h&&(a[h++]=0);return a.length=h,a}},function(t,e,r){"use strict";var n=r(235),i=r(101),o=r(102),a=r(238),s=r(24),u=r(103);t.exports=function t(e,r){if(n(e))return r?u(e,t(r)):[e[0].clone(),e[1].clone()];var h=0;var f,l;if(i(e))f=e.clone();else if("string"==typeof e)f=a(e);else{if(0===e)return[o(0),o(1)];if(e===Math.floor(e))f=o(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),h-=256;f=o(e)}}if(n(r))f.mul(r[1]),l=r[0].clone();else if(i(r))l=r.clone();else if("string"==typeof r)l=a(r);else if(r)if(r===Math.floor(r))l=o(r);else{for(;r!==Math.floor(r);)r*=Math.pow(2,256),h+=256;l=o(r)}else l=o(1);h>0?f=f.ushln(h):h<0&&(l=l.ushln(-h));return s(f,l)}},function(t,e,r){(function(e){var r=!1;if("undefined"!=typeof Float64Array){var n=new Float64Array(1),i=new Uint32Array(n.buffer);if(n[0]=1,r=!0,1072693248===i[1]){t.exports=function(t){return n[0]=t,[i[0],i[1]]},t.exports.pack=function(t,e){return i[0]=t,i[1]=e,n[0]},t.exports.lo=function(t){return n[0]=t,i[0]},t.exports.hi=function(t){return n[0]=t,i[1]}}else if(1072693248===i[0]){t.exports=function(t){return n[0]=t,[i[1],i[0]]},t.exports.pack=function(t,e){return i[1]=t,i[0]=e,n[0]},t.exports.lo=function(t){return n[0]=t,i[1]},t.exports.hi=function(t){return n[0]=t,i[0]}}else r=!1}if(!r){var o=new e(8);t.exports=function(t){return o.writeDoubleLE(t,0,!0),[o.readUInt32LE(0,!0),o.readUInt32LE(4,!0)]},t.exports.pack=function(t,e){return o.writeUInt32LE(t,0,!0),o.writeUInt32LE(e,4,!0),o.readDoubleLE(0,!0)},t.exports.lo=function(t){return o.writeDoubleLE(t,0,!0),o.readUInt32LE(0,!0)},t.exports.hi=function(t){return o.writeDoubleLE(t,0,!0),o.readUInt32LE(4,!0)}}t.exports.sign=function(e){return t.exports.hi(e)>>>31},t.exports.exponent=function(e){return(t.exports.hi(e)<<1>>>21)-1023},t.exports.fraction=function(e){var r=t.exports.lo(e),n=t.exports.hi(e),i=1048575&n;return 2146435072&n&&(i+=1<<20),[r,i]},t.exports.denormalized=function(e){return!(2146435072&t.exports.hi(e))}}).call(this,r(9).Buffer)},function(t,e,r){"use strict";var n=r(31);t.exports=function(t){return t.cmp(new n(0))}},function(t,e,r){"use strict";var n=r(33),i=r(34),o=n(["#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\nuniform float lineWidth;\nuniform vec2 screenShape;\n\nvec3 project(vec3 p) {\n  vec4 pp = projection * view * model * vec4(p, 1.0);\n  return pp.xyz / max(pp.w, 0.0001);\n}\n\nvoid main() {\n  vec3 major = position.x * majorAxis;\n  vec3 minor = position.y * minorAxis;\n\n  vec3 vPosition = major + minor + offset;\n  vec3 pPosition = project(vPosition);\n  vec3 offset = project(vPosition + screenAxis * position.z);\n\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\n\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\n}\n"]),a=n(["precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.line=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"}])};var s=n(["#define GLSLIFY 1\nattribute vec3 position;\n\nuniform mat4 model, view, projection;\nuniform vec3 offset, axis;\nuniform float scale, angle, pixelScale;\nuniform vec2 resolution;\n\nvoid main() {  \n  //Compute plane offset\n  vec2 planeCoord = position.xy * pixelScale;\n  mat2 planeXform = scale * mat2(cos(angle), sin(angle),\n                                -sin(angle), cos(angle));\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\n\n  //Compute world offset\n  float axisDistance = position.z;\n  vec3 dataPosition = axisDistance * axis + offset;\n  vec4 worldPosition = model * vec4(dataPosition, 1);\n  \n  //Compute clip position\n  vec4 viewPosition = view * worldPosition;\n  vec4 clipPosition = projection * viewPosition;\n  clipPosition /= clipPosition.w;\n\n  //Apply text offset in clip coordinates\n  clipPosition += vec4(viewOffset, 0, 0);\n\n  //Done\n  gl_Position = clipPosition;\n}"]),u=n(["precision mediump float;\n#define GLSLIFY 1\nuniform vec4 color;\nvoid main() {\n  gl_FragColor = color;\n}"]);e.text=function(t){return i(t,s,u,null,[{name:"position",type:"vec3"}])};var h=n(["#define GLSLIFY 1\nattribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection;\nuniform vec3 enable;\nuniform vec3 bounds[2];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  if(dot(normal, enable) > 0.0) {\n    vec3 nPosition = mix(bounds[0], bounds[1], 0.5 * (position + 1.0));\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\n  } else {\n    gl_Position = vec4(0,0,0,0);\n  }\n  colorChannel = abs(normal);\n}"]),f=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec4 colors[3];\n\nvarying vec3 colorChannel;\n\nvoid main() {\n  gl_FragColor = colorChannel.x * colors[0] + \n                 colorChannel.y * colors[1] +\n                 colorChannel.z * colors[2];\n}"]);e.bg=function(t){return i(t,h,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},function(t,e,r){"use strict";(function(e){var n=r(2),i=r(316),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(115):void 0!==e&&(t=r(115)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){s.headers[t]={}}),n.forEach(["post","put","patch"],function(t){s.headers[t]=n.merge(o)}),t.exports=s}).call(this,r(15))},function(t,e,r){t.exports=r(314)},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){t.exports=r(127)},function(t,e,r){"use strict";(function(e,n){var i=r(26);t.exports=b;var o,a=r(54);b.ReadableState=_;r(25).EventEmitter;var s=function(t,e){return t.listeners(e).length},u=r(57),h=r(27).Buffer,f=e.Uint8Array||function(){};var l=r(20);l.inherits=r(14);var c=r(128),d=void 0;d=c&&c.debuglog?c.debuglog("stream"):function(){};var p,v=r(129),g=r(58);l.inherits(b,u);var m=["error","close","destroy","pause","resume"];function _(t,e){o=o||r(10),t=t||{};var n=e instanceof o;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(59).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||r(10),!(this instanceof b))return new b(t);this._readableState=new _(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function y(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,E(t)}(t,a)):(i||(o=function(t,e){var r;(function(t){return h.isBuffer(t)||t instanceof f})(e)||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===h.prototype||(e=function(t){return h.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):T(t,a)):w(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&E(t)),T(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=h.from(t,e),e=""),r=!0),y(this,t,e,!1,r)},b.prototype.unshift=function(t){return y(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=r(59).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var x=8388608;function M(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function E(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(d("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(A,t):A(t))}function A(t){d("emit readable"),t.emit("readable"),C(t)}function T(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(k,t,e))}function k(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(d("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function S(t){d("readable nexttick read 0"),t.read(0)}function R(t,e){e.reading||(d("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(d("flow",e.flowing);e.flowing&&null!==t.read(););}function I(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=h.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function L(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(P,e,t))}function P(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}b.prototype.read=function(t){d("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return d("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?L(this):E(this),null;if(0===(t=M(t,e))&&e.ended)return 0===e.length&&L(this),null;var n,i=e.needReadable;return d("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&d("length less than watermark",i=!0),e.ended||e.reading?d("reading or ended",i=!1):i&&(d("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=M(r,e))),null===(n=t>0?I(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&L(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,e);var u=(!e||!1!==e.end)&&t!==n.stdout&&t!==n.stderr?f:b;function h(e,n){d("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),t.removeListener("close",m),t.removeListener("finish",_),t.removeListener("drain",l),t.removeListener("error",g),t.removeListener("unpipe",h),r.removeListener("end",f),r.removeListener("end",b),r.removeListener("data",v),c=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||l())}function f(){d("onend"),t.end()}o.endEmitted?i.nextTick(u):r.once("end",u),t.on("unpipe",h);var l=function(t){return function(){var e=t._readableState;d("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,C(t))}}(r);t.on("drain",l);var c=!1;var p=!1;function v(e){d("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!c&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(e){d("onerror",e),b(),t.removeListener("error",g),0===s(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",_),b()}function _(){d("onfinish"),t.removeListener("close",m),b()}function b(){d("unpipe"),r.unpipe(t)}return r.on("data",v),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",m),t.once("finish",_),t.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=N(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},b.prototype.on=function(t,e){var r=u.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&E(this):i.nextTick(S,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(d("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(R,t,e))}(this,t)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(d("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){d("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=I}).call(this,r(3),r(15))},function(t,e,r){t.exports=r(25).EventEmitter},function(t,e,r){"use strict";var n=r(26);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";var n=r(27).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=h,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=c,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function h(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function f(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function c(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";t.exports=o;var n=r(10),i=r(20);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){s(t,e,r)}):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(14),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";var n=r(0),i=r(5),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,r,i,a,s,u,h,f=[],l=0,c=t.length,d=c,p="string"!==n.getTypeOf(t);l<t.length;)d=c-l,p?(e=t[l++],r=l<c?t[l++]:0,i=l<c?t[l++]:0):(e=t.charCodeAt(l++),r=l<c?t.charCodeAt(l++):0,i=l<c?t.charCodeAt(l++):0),a=e>>2,s=(3&e)<<4|r>>4,u=d>1?(15&r)<<2|i>>6:64,h=d>2?63&i:64,f.push(o.charAt(a)+o.charAt(s)+o.charAt(u)+o.charAt(h));return f.join("")},e.decode=function(t){var e,r,n,a,s,u,h=0,f=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var l,c=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&c--,t.charAt(t.length-2)===o.charAt(64)&&c--,c%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l=i.uint8array?new Uint8Array(0|c):new Array(0|c);h<t.length;)e=o.indexOf(t.charAt(h++))<<2|(a=o.indexOf(t.charAt(h++)))>>4,r=(15&a)<<4|(s=o.indexOf(t.charAt(h++)))>>2,n=(3&s)<<6|(u=o.indexOf(t.charAt(h++))),l[f++]=e,64!==s&&(l[f++]=r),64!==u&&(l[f++]=n);return l}},function(t,e){var r=t.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(142);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(39),i=r(29).document,o=n(i)&&n(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,r){"use strict";(function(e){var n=r(0),i=r(155),o=r(1),a=r(61),s=r(5),u=r(21),h=null;if(s.nodestream)try{h=r(156)}catch(t){}function f(t,r){return new u.Promise(function(i,o){var s=[],u=t._internalType,h=t._outputType,f=t._mimeType;t.on("data",function(t,e){s.push(t),r&&r(e)}).on("error",function(t){s=[],o(t)}).on("end",function(){try{var t=function(t,e,r){switch(t){case"blob":return n.newBlob(n.transformTo("arraybuffer",e),r);case"base64":return a.encode(e);default:return n.transformTo(t,e)}}(h,function(t,r){var n,i=0,o=null,a=0;for(n=0;n<r.length;n++)a+=r[n].length;switch(t){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(o=new Uint8Array(a),n=0;n<r.length;n++)o.set(r[n],i),i+=r[n].length;return o;case"nodebuffer":return e.concat(r);default:throw new Error("concat : unsupported type '"+t+"'")}}(u,s),f);i(t)}catch(t){o(t)}s=[]}).resume()})}function l(t,e,r){var a=e;switch(e){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=e,this._mimeType=r,n.checkSupport(a),this._worker=t.pipe(new i(a)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}l.prototype={accumulate:function(t){return f(this,t)},on:function(t,e){var r=this;return"data"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){n.delay(e,arguments,r)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=l}).call(this,r(9).Buffer)},function(t,e,r){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,r){"use strict";var n=r(0),i=r(1);function o(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},function(t,e,r){"use strict";var n=r(0),i=r(1);function o(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}n.inherits(o,i),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},t.exports=o},function(t,e,r){"use strict";var n=r(1),i=r(42);function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r(0).inherits(o,n),o.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=o},function(t,e,r){"use strict";var n=r(1);e.STORE={magic:"\0\0",compressWorker:function(t){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},e.DEFLATE=r(159)},function(t,e,r){"use strict";t.exports=function(t,e,r,n){for(var i=65535&t|0,o=t>>>16&65535|0,a=0;0!==r;){r-=a=r>2e3?2e3:r;do{o=o+(i=i+e[n++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(t,e,r){"use strict";var n=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();t.exports=function(t,e,r,i){var o=n,a=i+r;t^=-1;for(var s=i;s<a;s++)t=t>>>8^o[255&(t^e[s])];return-1^t}},function(t,e,r){"use strict";var n=r(6),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var r="",a=0;a<e;a++)r+=String.fromCharCode(t[a]);return r}a[254]=a[254]=1,e.string2buf=function(t){var e,r,i,o,a,s=t.length,u=0;for(o=0;o<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new n.Buf8(u),a=0,o=0;a<u;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|63&r):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|63&r):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|63&r);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new n.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},e.buf2string=function(t,e){var r,n,i,o,s=e||t.length,h=new Array(2*s);for(n=0,r=0;r<s;)if((i=t[r++])<128)h[n++]=i;else if((o=a[i])>4)h[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<s;)i=i<<6|63&t[r++],o--;o>1?h[n++]=65533:i<65536?h[n++]=i:(i-=65536,h[n++]=55296|i>>10&1023,h[n++]=56320|1023&i)}return u(h,n)},e.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+a[t[r]]>e?r:e}},function(t,e,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,r){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,r){"use strict";var n=r(0),i=r(5),o=r(79),a=r(173),s=r(174),u=r(81);t.exports=function(t){var e=n.getTypeOf(t);return n.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new u(n.transformTo("uint8array",t)):new o(n.transformTo("array",t)):new a(t)}},function(t,e,r){"use strict";var n=r(80);function i(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}r(0).inherits(i,n),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),n=t.charCodeAt(2),i=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";var n=r(0);function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=i},function(t,e,r){"use strict";var n=r(79);function i(t){n.call(this,t)}r(0).inherits(i,n),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 0:return new a([0],[0],0);case 1:if("number"==typeof t){var n=u(t);return new a(n,n,0)}return new a(t,u(t.length),0);case 2:if("number"==typeof e){var n=u(t.length);return new a(t,n,+e)}r=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new a(t,e,r)}};var n=r(180),i=r(16);function o(t,e,r){return Math.min(e,Math.max(t,r))}function a(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n<this.dimension;++n)this.bounds[0][n]=-1/0,this.bounds[1][n]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=a.prototype;function u(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=0;return e}s.flush=function(t){var e=i.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,r=e.length,a=i.le(e,t),s=this._scratch[0],u=this._state,h=this._velocity,f=this.dimension,l=this.bounds;if(a<0)for(var c=f-1,d=0;d<f;++d,--c)s[d]=u[c];else if(a>=r-1){c=u.length-1;var p=t-e[r-1];for(d=0;d<f;++d,--c)s[d]=u[c]+p*h[c]}else{c=f*(a+1)-1;var v=e[a],g=e[a+1]-v||1,m=this._scratch[1],_=this._scratch[2],b=this._scratch[3],y=this._scratch[4],w=!0;for(d=0;d<f;++d,--c)m[d]=u[c],b[d]=h[c]*g,_[d]=u[c+f],y[d]=h[c+f]*g,w=w&&m[d]===_[d]&&b[d]===y[d]&&0===b[d];if(w)for(d=0;d<f;++d)s[d]=m[d];else n(m,b,_,y,(t-v)/g,s)}var x=l[0],M=l[1];for(d=0;d<f;++d)s[d]=o(x[d],M[d],s[d]);return s},s.dcurve=function(t){var e=this._time,r=e.length,o=i.le(e,t),a=this._scratch[0],s=this._state,u=this._velocity,h=this.dimension;if(o>=r-1)for(var f=s.length-1,l=(e[r-1],0);l<h;++l,--f)a[l]=u[f];else{f=h*(o+1)-1;var c=e[o],d=e[o+1]-c||1,p=this._scratch[1],v=this._scratch[2],g=this._scratch[3],m=this._scratch[4],_=!0;for(l=0;l<h;++l,--f)p[l]=s[f],g[l]=u[f]*d,v[l]=s[f+h],m[l]=u[f+h]*d,_=_&&p[l]===v[l]&&g[l]===m[l]&&0===g[l];if(_)for(l=0;l<h;++l)a[l]=0;else{n.derivative(p,g,v,m,(t-c)/d,a);for(l=0;l<h;++l)a[l]/=d}}return a},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,r=this.dimension-1;r>=0;--r)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,i=this._velocity,a=n.length-this.dimension,s=this.bounds,u=s[0],h=s[1];this._time.push(e,t);for(var f=0;f<2;++f)for(var l=0;l<r;++l)n.push(n[a++]),i.push(0);this._time.push(t);for(l=r;l>0;--l)n.push(o(u[l-1],h[l-1],arguments[l])),i.push(0)}},s.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,i=this._velocity,a=n.length-this.dimension,s=t-e,u=this.bounds,h=u[0],f=u[1],l=s>1e-6?1/s:0;this._time.push(t);for(var c=r;c>0;--c){var d=o(h[c-1],f[c-1],arguments[c]);n.push(d),i.push((d-n[a++])*l)}}},s.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var r=this._state,n=this._velocity,i=this.bounds,a=i[0],s=i[1];this._time.push(t);for(var u=e;u>0;--u)r.push(o(a[u-1],s[u-1],arguments[u])),n.push(0)}},s.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t<=e||arguments.length!==r+1)){var n=this._state,i=this._velocity,a=n.length-this.dimension,s=this.bounds,u=s[0],h=s[1],f=t-e,l=f>1e-6?1/f:0;this._time.push(t);for(var c=r;c>0;--c){var d=arguments[c];n.push(o(u[c-1],h[c-1],n[a++]+d)),i.push(d*l)}}},s.idle=function(t){var e=this.lastT();if(!(t<e)){var r=this.dimension,n=this._state,i=this._velocity,a=n.length-r,s=this.bounds,u=s[0],h=s[1],f=t-e;this._time.push(t);for(var l=r-1;l>=0;--l)n.push(o(u[l],h[l],n[a]+f*i[a])),i.push(0),a+=1}}},function(t,e){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},function(t,e,r){var n=r(86);t.exports=function(t,e,r,i){var o,a,s,u,h,f,l,c,d,p,v=e[0],g=e[1],m=e[2],_=i[0],b=i[1],y=i[2],w=r[0],x=r[1],M=r[2];if(Math.abs(v-w)<1e-6&&Math.abs(g-x)<1e-6&&Math.abs(m-M)<1e-6)return n(t);l=v-w,c=g-x,d=m-M,p=1/Math.sqrt(l*l+c*c+d*d),o=b*(d*=p)-y*(c*=p),a=y*(l*=p)-_*d,s=_*c-b*l,(p=Math.sqrt(o*o+a*a+s*s))?(o*=p=1/p,a*=p,s*=p):(o=0,a=0,s=0);u=c*s-d*a,h=d*o-l*s,f=l*a-c*o,(p=Math.sqrt(u*u+h*h+f*f))?(u*=p=1/p,h*=p,f*=p):(u=0,h=0,f=0);return t[0]=o,t[1]=u,t[2]=l,t[3]=0,t[4]=a,t[5]=h,t[6]=c,t[7]=0,t[8]=s,t[9]=f,t[10]=d,t[11]=0,t[12]=-(o*v+a*g+s*m),t[13]=-(u*v+h*g+f*m),t[14]=-(l*v+c*g+d*m),t[15]=1,t}},function(t,e){t.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,r){var n,i,o,a,s,u,h,f,l,c,d,p,v=r[0],g=r[1],m=r[2];e===t?(t[12]=e[0]*v+e[4]*g+e[8]*m+e[12],t[13]=e[1]*v+e[5]*g+e[9]*m+e[13],t[14]=e[2]*v+e[6]*g+e[10]*m+e[14],t[15]=e[3]*v+e[7]*g+e[11]*m+e[15]):(n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=e[8],c=e[9],d=e[10],p=e[11],t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=h,t[7]=f,t[8]=l,t[9]=c,t[10]=d,t[11]=p,t[12]=n*v+s*g+l*m+e[12],t[13]=i*v+u*g+c*m+e[13],t[14]=o*v+h*g+d*m+e[14],t[15]=a*v+f*g+p*m+e[15]);return t}},function(t,e){t.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e){t.exports=function(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],h=t[8],f=t[9],l=t[10],c=t[11],d=t[12],p=t[13],v=t[14],g=t[15];return(e*a-r*o)*(l*g-c*v)-(e*s-n*o)*(f*g-c*p)+(e*u-i*o)*(f*v-l*p)+(r*s-n*a)*(h*g-c*d)-(r*u-i*a)*(h*v-l*d)+(n*u-i*s)*(h*p-f*d)}},function(t,e){t.exports=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},function(t,e,r){"use strict";t.exports=function(t,e){e||(e=t,t=window);var r=0,i=0,o=0,a={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function u(t){var e=!1;return"altKey"in t&&(e=e||t.altKey!==a.alt,a.alt=!!t.altKey),"shiftKey"in t&&(e=e||t.shiftKey!==a.shift,a.shift=!!t.shiftKey),"ctrlKey"in t&&(e=e||t.ctrlKey!==a.control,a.control=!!t.ctrlKey),"metaKey"in t&&(e=e||t.metaKey!==a.meta,a.meta=!!t.metaKey),e}function h(t,s){var h=n.x(s),f=n.y(s);"buttons"in s&&(t=0|s.buttons),(t!==r||h!==i||f!==o||u(s))&&(r=0|t,i=h||0,o=f||0,e&&e(r,i,o,a))}function f(t){h(0,t)}function l(){(r||i||o||a.shift||a.alt||a.meta||a.control)&&(i=o=0,r=0,a.shift=a.alt=a.control=a.meta=!1,e&&e(0,0,0,a))}function c(t){u(t)&&e&&e(r,i,o,a)}function d(t){0===n.buttons(t)?h(0,t):h(r,t)}function p(t){h(r|n.buttons(t),t)}function v(t){h(r&~n.buttons(t),t)}function g(){s||(s=!0,t.addEventListener("mousemove",d),t.addEventListener("mousedown",p),t.addEventListener("mouseup",v),t.addEventListener("mouseleave",f),t.addEventListener("mouseenter",f),t.addEventListener("mouseout",f),t.addEventListener("mouseover",f),t.addEventListener("blur",l),t.addEventListener("keyup",c),t.addEventListener("keydown",c),t.addEventListener("keypress",c),t!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",c),window.addEventListener("keydown",c),window.addEventListener("keypress",c)))}g();var m={element:t};return Object.defineProperties(m,{enabled:{get:function(){return s},set:function(e){e?g():s&&(s=!1,t.removeEventListener("mousemove",d),t.removeEventListener("mousedown",p),t.removeEventListener("mouseup",v),t.removeEventListener("mouseleave",f),t.removeEventListener("mouseenter",f),t.removeEventListener("mouseout",f),t.removeEventListener("mouseover",f),t.removeEventListener("blur",l),t.removeEventListener("keyup",c),t.removeEventListener("keydown",c),t.removeEventListener("keypress",c),t!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",c),window.removeEventListener("keydown",c),window.removeEventListener("keypress",c)))},enumerable:!0},buttons:{get:function(){return r},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return o},enumerable:!0},mods:{get:function(){return a},enumerable:!0}}),m};var n=r(199)},function(t,e,r){"use strict";t.exports=function(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return function(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}(0|t,e);break;case"object":if("number"==typeof t.length)return function t(e,r,n){var i=0|e[n];if(i<=0)return[];var o,a=new Array(i);if(n===e.length-1)for(o=0;o<i;++o)a[o]=r;else for(o=0;o<i;++o)a[o]=t(e,r,n+1);return a}(t,e,0)}return[]}},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";t.exports=function(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var o=r[i];if(o.buffer){var a=o.buffer,s=o.size||4,u=o.type||t.FLOAT,h=!!o.normalized,f=o.stride||0,l=o.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,u,h,f,l)}else{if("number"==typeof o)t.vertexAttrib1f(i,o);else if(1===o.length)t.vertexAttrib1f(i,o[0]);else if(2===o.length)t.vertexAttrib2f(i,o[0],o[1]);else if(3===o.length)t.vertexAttrib3f(i,o[0],o[1],o[2]);else{if(4!==o.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,o[0],o[1],o[2],o[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else for(t.bindBuffer(t.ARRAY_BUFFER,null),i=0;i<n;++i)t.disableVertexAttribArray(i)}},function(t,e,r){"use strict";t.exports=function(t,e){if(t.dimension<=0)return{positions:[],cells:[]};if(1===t.dimension)return function(t,e){for(var r=o(t,e),n=r.length,i=new Array(n),a=new Array(n),s=0;s<n;++s)i[s]=[r[s]],a[s]=[s];return{positions:i,cells:a}}(t,e);var r=t.order.join()+"-"+t.dtype,s=a[r],e=+e||0;s||(s=a[r]=function(t,e){var r=t.length,o=["'use strict';"],a="surfaceNets"+t.join("_")+"d"+e;o.push("var contour=genContour({","order:[",t.join(),"],","scalarArguments: 3,","phase:function phaseFunc(p,a,b,c) { return (p > c)|0 },"),"generic"===e&&o.push("getters:[0],");for(var s=[],u=[],h=0;h<r;++h)s.push("d"+h),u.push("d"+h);for(var h=0;h<1<<r;++h)s.push("v"+h),u.push("v"+h);for(var h=0;h<1<<r;++h)s.push("p"+h),u.push("p"+h);s.push("a","b","c"),u.push("a","c"),o.push("vertex:function vertexFunc(",s.join(),"){");for(var f=[],h=0;h<1<<r;++h)f.push("(p"+h+"<<"+h+")");o.push("var m=(",f.join("+"),")|0;if(m===0||m===",(1<<(1<<r))-1,"){return}");var l=[],c=[];1<<(1<<r)<=128?(o.push("switch(m){"),c=o):o.push("switch(m>>>7){");for(var h=0;h<1<<(1<<r);++h){if(1<<(1<<r)>128&&h%128==0){l.length>0&&c.push("}}");var d="vExtra"+l.length;o.push("case ",h>>>7,":",d,"(m&0x7f,",u.join(),");break;"),c=["function ",d,"(m,",u.join(),"){switch(m){"],l.push(c)}c.push("case ",127&h,":");for(var p=new Array(r),v=new Array(r),g=new Array(r),m=new Array(r),_=0,b=0;b<r;++b)p[b]=[],v[b]=[],g[b]=0,m[b]=0;for(var b=0;b<1<<r;++b)for(var y=0;y<r;++y){var w=b^1<<y;if(!(w>b)&&!(h&1<<w)!=!(h&1<<b)){var x=1;h&1<<w?v[y].push("v"+w+"-v"+b):(v[y].push("v"+b+"-v"+w),x=-x),x<0?(p[y].push("-v"+b+"-v"+w),g[y]+=2):(p[y].push("v"+b+"+v"+w),g[y]-=2),_+=1;for(var M=0;M<r;++M)M!==y&&(w&1<<M?m[M]+=1:m[M]-=1)}}for(var E=[],y=0;y<r;++y)if(0===p[y].length)E.push("d"+y+"-0.5");else{var A="";g[y]<0?A=g[y]+"*c":g[y]>0&&(A="+"+g[y]+"*c");var T=p[y].length/_*.5,k=.5+m[y]/_*.5;E.push("d"+y+"-"+k+"-"+T+"*("+p[y].join("+")+A+")/("+v[y].join("+")+")")}c.push("a.push([",E.join(),"]);","break;")}o.push("}},"),l.length>0&&c.push("}}");for(var S=[],h=0;h<1<<r-1;++h)S.push("v"+h);S.push("c0","c1","p0","p1","a","b","c"),o.push("cell:function cellFunc(",S.join(),"){");var R=i(r-1);o.push("if(p0){b.push(",R.map(function(t){return"["+t.map(function(t){return"v"+t})+"]"}).join(),")}else{b.push(",R.map(function(t){var e=t.slice();return e.reverse(),"["+e.map(function(t){return"v"+t})+"]"}).join(),")}}});function ",a,"(array,level){var verts=[],cells=[];contour(array,verts,cells,level);return {positions:verts,cells:cells};} return ",a,";");for(var h=0;h<l.length;++h)o.push(l[h].join(""));return new Function("genContour",o.join(""))(n)}(t.order,t.dtype));return s(t,e)};var n=r(215),i=r(216),o=r(221);var a={}},function(t,e,r){"use strict";t.exports=function(t,e,r){var n=t+e,i=n-t,o=e-i,a=t-(n-i);if(r)return r[0]=a+o,r[1]=n,r;return[a+o,n]}},function(t,e,r){"use strict";t.exports=function(t,e){var r=0|t.length,n=0|e.length;if(1===r&&1===n)return function(t,e){var r=t+e,n=r-t,i=t-(r-n)+(e-n);if(i)return[i,r];return[r]}(t[0],-e[0]);var i,o,a=new Array(r+n),s=0,u=0,h=0,f=Math.abs,l=t[u],c=f(l),d=-e[h],p=f(d);c<p?(o=l,(u+=1)<r&&(l=t[u],c=f(l))):(o=d,(h+=1)<n&&(d=-e[h],p=f(d)));u<r&&c<p||h>=n?(i=l,(u+=1)<r&&(l=t[u],c=f(l))):(i=d,(h+=1)<n&&(d=-e[h],p=f(d)));var v,g,m=i+o,_=m-i,b=o-_,y=b,w=m;for(;u<r&&h<n;)c<p?(i=l,(u+=1)<r&&(l=t[u],c=f(l))):(i=d,(h+=1)<n&&(d=-e[h],p=f(d))),(b=(o=y)-(_=(m=i+o)-i))&&(a[s++]=b),y=w-((v=w+m)-(g=v-w))+(m-g),w=v;for(;u<r;)(b=(o=y)-(_=(m=(i=l)+o)-i))&&(a[s++]=b),y=w-((v=w+m)-(g=v-w))+(m-g),w=v,(u+=1)<r&&(l=t[u]);for(;h<n;)(b=(o=y)-(_=(m=(i=d)+o)-i))&&(a[s++]=b),y=w-((v=w+m)-(g=v-w))+(m-g),w=v,(h+=1)<n&&(d=-e[h]);y&&(a[s++]=y);w&&(a[s++]=w);s||(a[s++]=0);return a.length=s,a}},function(t,e,r){"use strict";t.exports={init:function(t){var e=i.nextPow2(t);s.length<e&&(n.free(s),s=n.mallocInt32(e));u.length<e&&(n.free(u),u=n.mallocInt32(e));h.length<e&&(n.free(h),h=n.mallocInt32(e));f.length<e&&(n.free(f),f=n.mallocInt32(e));l.length<e&&(n.free(l),l=n.mallocInt32(e));c.length<e&&(n.free(c),c=n.mallocInt32(e));var r=8*e;d.length<r&&(n.free(d),d=n.mallocDouble(r))},sweepBipartite:function(t,e,r,n,i,l,c,g,m,_){for(var b=0,y=2*t,w=t-1,x=y-1,M=r;M<n;++M){var E=l[M],A=y*M;d[b++]=i[A+w],d[b++]=-(E+1),d[b++]=i[A+x],d[b++]=E}for(var M=c;M<g;++M){var E=_[M]+a,T=y*M;d[b++]=m[T+w],d[b++]=-E,d[b++]=m[T+x],d[b++]=E}var k=b>>>1;o(d,k);for(var S=0,R=0,M=0;M<k;++M){var C=0|d[2*M+1];if(C>=a)p(h,f,R--,C=C-a|0);else if(C>=0)p(s,u,S--,C);else if(C<=-a){C=-C-a|0;for(var I=0;I<S;++I){var L=e(s[I],C);if(void 0!==L)return L}v(h,f,R++,C)}else{C=-C-1|0;for(var I=0;I<R;++I){var L=e(C,h[I]);if(void 0!==L)return L}v(s,u,S++,C)}}},sweepComplete:function(t,e,r,n,i,a,g,m,_,b){for(var y=0,w=2*t,x=t-1,M=w-1,E=r;E<n;++E){var A=a[E]+1<<1,T=w*E;d[y++]=i[T+x],d[y++]=-A,d[y++]=i[T+M],d[y++]=A}for(var E=g;E<m;++E){var A=b[E]+1<<1,k=w*E;d[y++]=_[k+x],d[y++]=1|-A,d[y++]=_[k+M],d[y++]=1|A}var S=y>>>1;o(d,S);for(var R=0,C=0,I=0,E=0;E<S;++E){var L=0|d[2*E+1],P=1&L;if(E<S-1&&L>>1==d[2*E+3]>>1&&(P=2,E+=1),L<0){for(var N=-(L>>1)-1,O=0;O<I;++O){var B=e(l[O],N);if(void 0!==B)return B}if(0!==P)for(var O=0;O<R;++O){var B=e(s[O],N);if(void 0!==B)return B}if(1!==P)for(var O=0;O<C;++O){var B=e(h[O],N);if(void 0!==B)return B}0===P?v(s,u,R++,N):1===P?v(h,f,C++,N):2===P&&v(l,c,I++,N)}else{var N=(L>>1)-1;0===P?p(s,u,R--,N):1===P?p(h,f,C--,N):2===P&&p(l,c,I--,N)}}},scanBipartite:function(t,e,r,n,i,h,f,l,c,g,m,_){var b=0,y=2*t,w=e,x=e+t,M=1,E=1;n?E=a:M=a;for(var A=i;A<h;++A){var T=A+M,k=y*A;d[b++]=f[k+w],d[b++]=-T,d[b++]=f[k+x],d[b++]=T}for(var A=c;A<g;++A){var T=A+E,S=y*A;d[b++]=m[S+w],d[b++]=-T}var R=b>>>1;o(d,R);for(var C=0,A=0;A<R;++A){var I=0|d[2*A+1];if(I<0){var T=-I,L=!1;if(T>=a?(L=!n,T-=a):(L=!!n,T-=1),L)v(s,u,C++,T);else{var P=_[T],N=y*T,O=m[N+e+1],B=m[N+e+1+t];t:for(var F=0;F<C;++F){var D=s[F],U=y*D;if(!(B<f[U+e+1]||f[U+e+1+t]<O)){for(var j=e+2;j<t;++j)if(m[N+j+t]<f[U+j]||f[U+j+t]<m[N+j])continue t;var z,V=l[D];if(void 0!==(z=n?r(P,V):r(V,P)))return z}}}}else p(s,u,C--,I-M)}},scanComplete:function(t,e,r,n,i,u,h,f,l,c,p){for(var v=0,g=2*t,m=e,_=e+t,b=n;b<i;++b){var y=b+a,w=g*b;d[v++]=u[w+m],d[v++]=-y,d[v++]=u[w+_],d[v++]=y}for(var b=f;b<l;++b){var y=b+1,x=g*b;d[v++]=c[x+m],d[v++]=-y}var M=v>>>1;o(d,M);for(var E=0,b=0;b<M;++b){var A=0|d[2*b+1];if(A<0){var y=-A;if(y>=a)s[E++]=y-a;else{var T=p[y-=1],k=g*y,S=c[k+e+1],R=c[k+e+1+t];t:for(var C=0;C<E;++C){var I=s[C],L=h[I];if(L===T)break;var P=g*I;if(!(R<u[P+e+1]||u[P+e+1+t]<S)){for(var N=e+2;N<t;++N)if(c[k+N+t]<u[P+N]||u[P+N+t]<c[k+N])continue t;var O=r(L,T);if(void 0!==O)return O}}}}else{for(var y=A-a,C=E-1;C>=0;--C)if(s[C]===y){for(var N=C+1;N<E;++N)s[N-1]=s[N];break}--E}}}};var n=r(4),i=r(11),o=r(230),a=1<<28,s=n.mallocInt32(1024),u=n.mallocInt32(1024),h=n.mallocInt32(1024),f=n.mallocInt32(1024),l=n.mallocInt32(1024),c=n.mallocInt32(1024),d=n.mallocDouble(8192);function p(t,e,r,n){var i=e[n],o=t[r-1];t[i]=o,e[o]=i}function v(t,e,r,n){t[r]=n,e[n]=r}},function(t,e,r){"use strict";t.exports=function(t,e){var r="abcdef".split("").concat(e),i=[];t.indexOf("lo")>=0&&i.push("lo=e[k+n]");t.indexOf("hi")>=0&&i.push("hi=e[k+o]");return r.push(n.replace("_",i.join()).replace("$",t)),Function.apply(void 0,r)};var n="for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d>p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j>s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m"},function(t,e,r){"use strict";r(31);t.exports=function(t){return t&&"object"==typeof t&&Boolean(t.words)}},function(t,e,r){"use strict";var n=r(31),i=r(49);t.exports=function(t){var e=i.exponent(t);return e<52?new n(t):new n(t*Math.pow(2,52-e)).ushln(e-52)}},function(t,e,r){"use strict";var n=r(24);t.exports=function(t,e){return n(t[0].mul(e[1]),t[1].mul(e[0]))}},function(t,e,r){"use strict";var n=r(24);t.exports=function(t,e){return n(t[0].mul(e[0]),t[1].mul(e[1]))}},function(t,e,r){"use strict";var n=r(24);t.exports=function(t,e){return n(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}},function(t,e,r){"use strict";t.exports=function(t,e){var r=t.length;if("number"!=typeof e){e=0;for(var i=0;i<r;++i){var o=t[i];e=Math.max(e,o[0],o[1])}e=1+(0|e)}e|=0;for(var a=new Array(e),i=0;i<e;++i)a[i]=[];for(var i=0;i<r;++i){var o=t[i];a[o[0]].push(o[1]),a[o[1]].push(o[0])}for(var s=0;s<e;++s)n(a[s],function(t,e){return t-e});return a};var n=r(46)},function(t,e,r){"use strict";t.exports=function(t,e){for(var r={},n=0;n<t.length;++n)for(var i=t[n].name,o=i.split("."),a=r,s=0;s<o.length;++s){var u=o[s].split("[");if(u.length>1){u[0]in a||(a[u[0]]=[]),a=a[u[0]];for(var h=1;h<u.length;++h){var f=parseInt(u[h]);h<u.length-1||s<o.length-1?(f in a||(h<u.length-1?a[f]=[]:a[f]={}),a=a[f]):a[f]=e?n:t[n].type}}else s<o.length-1?(u[0]in a||(a[u[0]]={}),a=a[u[0]]):a[u[0]]=e?n:t[n].type}return r}},function(t,e){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,e){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,e,r){"use strict";t.exports=function(t,e,r,o){i(s,e,t),i(s,r,s);for(var d=0,_=0;_<2;++_){f[2]=o[_][2];for(var b=0;b<2;++b){f[1]=o[b][1];for(var y=0;y<2;++y)f[0]=o[y][0],c(u[d],f,s),d+=1}}for(var w=-1,_=0;_<8;++_){for(var x=u[_][3],M=0;M<3;++M)h[_][M]=u[_][M]/x;x<0&&(w<0?w=_:h[_][2]<h[w][2]&&(w=_))}if(w<0){w=0;for(var E=0;E<3;++E){for(var A=(E+2)%3,T=(E+1)%3,k=-1,S=-1,R=0;R<2;++R){var C=R<<E,I=C+(R<<A)+(1-R<<T),L=C+(1-R<<A)+(R<<T);a(h[C],h[I],h[L],l)<0||(R?k=1:S=1)}if(k<0||S<0)S>k&&(w|=1<<E);else{for(var R=0;R<2;++R){var C=R<<E,I=C+(R<<A)+(1-R<<T),L=C+(1-R<<A)+(R<<T),P=p([u[C],u[I],u[L],u[C+(1<<A)+(1<<T)]]);R?k=P:S=P}S>k&&(w|=1<<E)}}}for(var N=7^w,O=-1,_=0;_<8;++_)_!==w&&_!==N&&(O<0?O=_:h[O][1]>h[_][1]&&(O=_));for(var B=-1,_=0;_<3;++_){var F=O^1<<_;if(F!==w&&F!==N){B<0&&(B=F);var T=h[F];T[0]<h[B][0]&&(B=F)}}for(var D=-1,_=0;_<3;++_){var F=O^1<<_;if(F!==w&&F!==N&&F!==B){D<0&&(D=F);var T=h[F];T[0]>h[D][0]&&(D=F)}}var U=v;U[0]=U[1]=U[2]=0,U[n.log2(B^O)]=O&B,U[n.log2(O^D)]=O&D;var j=7^D;j===w||j===N?(j=7^B,U[n.log2(D^j)]=j&D):U[n.log2(B^j)]=j&B;for(var z=g,V=w,E=0;E<3;++E)z[E]=V&1<<E?-1:1;return m};var n=r(11),i=r(30),o=(r(17),r(111)),a=r(7),s=new Array(16),u=(new Array(16),new Array(8)),h=new Array(8),f=new Array(3),l=[0,0,0];function c(t,e,r){for(var n=0;n<4;++n){t[n]=r[12+n];for(var i=0;i<3;++i)t[n]+=e[i]*r[4*i+n]}}!function(){for(var t=0;t<8;++t)u[t]=[1,1,1,1],h[t]=[1,1,1]}();var d=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(t){for(var e=0;e<d.length;++e)if((t=o.positive(t,d[e])).length<3)return 0;var r=t[0],n=r[0]/r[3],i=r[1]/r[3],a=0;for(e=1;e+1<t.length;++e){var s=t[e],u=t[e+1],h=s[0]/s[3]-n,f=s[1]/s[3]-i,l=u[0]/u[3]-n,c=u[1]/u[3]-i;a+=Math.abs(h*c-f*l)}return a}var v=[1,1,1],g=[0,0,0],m={cubeEdges:v,axis:g}},function(t,e,r){"use strict";var n=r(291),i=r(12);function o(t,e){var r=i(n(t,e),[e[e.length-1]]);return r[r.length-1]}function a(t,e,r,n){var i=-e/(n-e);i<0?i=0:i>1&&(i=1);for(var o=1-i,a=t.length,s=new Array(a),u=0;u<a;++u)s[u]=i*t[u]+o*r[u];return s}t.exports=function(t,e){for(var r=[],n=[],i=o(t[t.length-1],e),s=t[t.length-1],u=t[0],h=0;h<t.length;++h,s=u){var f=o(u=t[h],e);if(i<0&&f>0||i>0&&f<0){var l=a(s,f,u,i);r.push(l),n.push(l.slice())}f<0?n.push(u.slice()):f>0?r.push(u.slice()):(r.push(u.slice()),n.push(u.slice())),i=f}return{positive:r,negative:n}},t.exports.positive=function(t,e){for(var r=[],n=o(t[t.length-1],e),i=t[t.length-1],s=t[0],u=0;u<t.length;++u,i=s){var h=o(s=t[u],e);(n<0&&h>0||n>0&&h<0)&&r.push(a(i,h,s,n)),h>=0&&r.push(s.slice()),n=h}return r},t.exports.negative=function(t,e){for(var r=[],n=o(t[t.length-1],e),i=t[t.length-1],s=t[0],u=0;u<t.length;++u,i=s){var h=o(s=t[u],e);(n<0&&h>0||n>0&&h<0)&&r.push(a(i,h,s,n)),h<=0&&r.push(s.slice()),n=h}return r}},function(t,e,r){"use strict";var n=r(113);t.exports=function(t,e,r,n){i||(i=t.FRAMEBUFFER_UNSUPPORTED,o=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,a=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var h=t.getExtension("WEBGL_draw_buffers");!u&&h&&function(t,e){var r=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(r+1);for(var n=0;n<=r;++n){for(var i=new Array(r),o=0;o<n;++o)i[o]=t.COLOR_ATTACHMENT0+o;for(var o=n;o<r;++o)i[o]=t.NONE;u[n]=i}}(t,h);Array.isArray(e)&&(n=r,r=0|e[1],e=0|e[0]);if("number"!=typeof e)throw new Error("gl-fbo: Missing shape parameter");var f=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e<0||e>f||r<0||r>f)throw new Error("gl-fbo: Parameters are too large for FBO");var l=1;if("color"in(n=n||{})){if((l=Math.max(0|n.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(l>1){if(!h)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(l>t.getParameter(h.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+l+" draw buffers")}}var c=t.UNSIGNED_BYTE,d=t.getExtension("OES_texture_float");if(n.float&&l>0){if(!d)throw new Error("gl-fbo: Context does not support floating point textures");c=t.FLOAT}else n.preferFloat&&l>0&&d&&(c=t.FLOAT);var v=!0;"depth"in n&&(v=!!n.depth);var g=!1;"stencil"in n&&(g=!!n.stencil);return new p(t,e,r,c,l,v,g,h)};var i,o,a,s,u=null;function h(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function f(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function l(t){switch(t){case i:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case a:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case s:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function c(t,e,r,i,o,a){if(!i)return null;var s=n(t,e,r,o,i);return s.magFilter=t.NEAREST,s.minFilter=t.NEAREST,s.mipSamples=1,s.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,a,t.TEXTURE_2D,s.handle,0),s}function d(t,e,r,n,i){var o=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,o),t.renderbufferStorage(t.RENDERBUFFER,n,e,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,o),o}function p(t,e,r,n,i,o,a,s){this.gl=t,this._shape=[0|e,0|r],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var p=0;p<i;++p)this.color[p]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=o,this._useStencil=a;var v=this,g=[0|e,0|r];Object.defineProperties(g,{0:{get:function(){return v._shape[0]},set:function(t){return v.width=t}},1:{get:function(){return v._shape[1]},set:function(t){return v.height=t}}}),this._shapeVector=g,function(t){var e=h(t.gl),r=t.gl,n=t.handle=r.createFramebuffer(),i=t._shape[0],o=t._shape[1],a=t.color.length,s=t._ext,p=t._useStencil,v=t._useDepth,g=t._colorType;r.bindFramebuffer(r.FRAMEBUFFER,n);for(var m=0;m<a;++m)t.color[m]=c(r,i,o,g,r.RGBA,r.COLOR_ATTACHMENT0+m);0===a?(t._color_rb=d(r,i,o,r.RGBA4,r.COLOR_ATTACHMENT0),s&&s.drawBuffersWEBGL(u[0])):a>1&&s.drawBuffersWEBGL(u[a]);var _=r.getExtension("WEBGL_depth_texture");_?p?t.depth=c(r,i,o,_.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):v&&(t.depth=c(r,i,o,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):v&&p?t._depth_rb=d(r,i,o,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):v?t._depth_rb=d(r,i,o,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):p&&(t._depth_rb=d(r,i,o,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var b=r.checkFramebufferStatus(r.FRAMEBUFFER);if(b!==r.FRAMEBUFFER_COMPLETE){for(t._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(t.handle),t.handle=null,t.depth&&(t.depth.dispose(),t.depth=null),t._depth_rb&&(r.deleteRenderbuffer(t._depth_rb),t._depth_rb=null),m=0;m<t.color.length;++m)t.color[m].dispose(),t.color[m]=null;t._color_rb&&(r.deleteRenderbuffer(t._color_rb),t._color_rb=null),f(r,e),l(b)}f(r,e)}(this)}var v=p.prototype;function g(t,e,r){if(t._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(t._shape[0]!==e||t._shape[1]!==r){var n=t.gl,i=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");t._shape[0]=e,t._shape[1]=r;for(var o=h(n),a=0;a<t.color.length;++a)t.color[a].shape=t._shape;t._color_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,t._color_rb),n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,t._shape[0],t._shape[1])),t.depth&&(t.depth.shape=t._shape),t._depth_rb&&(n.bindRenderbuffer(n.RENDERBUFFER,t._depth_rb),t._useDepth&&t._useStencil?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&&n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX,t._shape[0],t._shape[1])),n.bindFramebuffer(n.FRAMEBUFFER,t.handle);var s=n.checkFramebufferStatus(n.FRAMEBUFFER);s!==n.FRAMEBUFFER_COMPLETE&&(t.dispose(),f(n,o),l(s)),f(n,o)}}Object.defineProperties(v,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error("gl-fbo: Shape vector must be length 2");var e=0|t[0],r=0|t[1];return g(this,e,r),[e,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return g(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,g(this,this._shape[0],t),t},enumerable:!1}}),v.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},v.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e<this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&&(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},function(t,e,r){"use strict";var n=r(8),i=r(45),o=r(4);t.exports=function(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");a||function(t){a=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],s=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],u=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}(t);if("number"==typeof arguments[1])return g(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return g(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=h(e)?e:e.raw;if(r)return function(t,e,r,n,i,o){var a=v(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,o,e),new c(t,a,r,n,i,o)}(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return function(t,e){var r=e.dtype,a=e.shape.slice(),s=t.getParameter(t.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>s||a[1]<0||a[1]>s)throw new Error("gl-texture2d: Invalid texture size");var u=p(a,e.stride.slice()),h=0;"float32"===r?h=t.FLOAT:"float64"===r?(h=t.FLOAT,u=!1,r="float32"):"uint8"===r?h=t.UNSIGNED_BYTE:(h=t.UNSIGNED_BYTE,u=!1,r="uint8");var l,d,g=0;if(2===a.length)g=t.LUMINANCE,a=[a[0],a[1],1],e=n(e.data,a,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])g=t.ALPHA;else if(2===a[2])g=t.LUMINANCE_ALPHA;else if(3===a[2])g=t.RGB;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=t.RGBA}}h!==t.FLOAT||t.getExtension("OES_texture_float")||(h=t.UNSIGNED_BYTE,u=!1);var m=e.size;if(u)l=0===e.offset&&e.data.length===m?e.data:e.data.subarray(e.offset,e.offset+m);else{var _=[a[2],a[2]*a[0],1];d=o.malloc(m,r);var b=n(d,a,_,0);"float32"!==r&&"float64"!==r||h!==t.UNSIGNED_BYTE?i.assign(b,e):f(b,e),l=d.subarray(0,m)}var y=v(t);t.texImage2D(t.TEXTURE_2D,0,g,a[0],a[1],0,g,h,l),u||o.free(d);return new c(t,y,a[0],a[1],g,h)}(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var a=null,s=null,u=null;function h(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}var f=function(t,e){i.muls(t,e,255)};function l(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function c(t,e,r,n,i,o){this.gl=t,this.handle=e,this.format=i,this.type=o,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var a=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return a._wrapS},set:function(t){return a.wrapS=t}},{get:function(){return a._wrapT},set:function(t){return a.wrapT=t}}]),this._wrapVector=s;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return a._shape[0]},set:function(t){return a.width=t}},{get:function(){return a._shape[1]},set:function(t){return a.height=t}}]),this._shapeVector=u}var d=c.prototype;function p(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function v(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function g(t,e,r,n,i){var o=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>o||r<0||r>o)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var a=v(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new c(t,a,e,r,n,i)}Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&a.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&a.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),s.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),u.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(u.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return l(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return l(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,l(this,this._shape[0],t),t}}}),d.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},d.setPixels=function(t,e,r,a){var s=this.gl;this.bind(),Array.isArray(e)?(a=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),a=a||0;var u=h(t)?t:t.raw;if(u){this._mipLevels.indexOf(a)<0?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,u),this._mipLevels.push(a)):s.texSubImage2D(s.TEXTURE_2D,a,e,r,this.format,this.type,u)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>a||r+t.shape[0]>this._shape[0]>>>a||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");!function(t,e,r,a,s,u,h,l){var c=l.dtype,d=l.shape.slice();if(d.length<2||d.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var v=0,g=0,m=p(d,l.stride.slice());"float32"===c?v=t.FLOAT:"float64"===c?(v=t.FLOAT,m=!1,c="float32"):"uint8"===c?v=t.UNSIGNED_BYTE:(v=t.UNSIGNED_BYTE,m=!1,c="uint8");if(2===d.length)g=t.LUMINANCE,d=[d[0],d[1],1],l=n(l.data,d,[l.stride[0],l.stride[1],1],l.offset);else{if(3!==d.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===d[2])g=t.ALPHA;else if(2===d[2])g=t.LUMINANCE_ALPHA;else if(3===d[2])g=t.RGB;else{if(4!==d[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");g=t.RGBA}d[2]}g!==t.LUMINANCE&&g!==t.ALPHA||s!==t.LUMINANCE&&s!==t.ALPHA||(g=s);if(g!==s)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var _=l.size,b=h.indexOf(a)<0;b&&h.push(a);if(v===u&&m)0===l.offset&&l.data.length===_?b?t.texImage2D(t.TEXTURE_2D,a,s,d[0],d[1],0,s,u,l.data):t.texSubImage2D(t.TEXTURE_2D,a,e,r,d[0],d[1],s,u,l.data):b?t.texImage2D(t.TEXTURE_2D,a,s,d[0],d[1],0,s,u,l.data.subarray(l.offset,l.offset+_)):t.texSubImage2D(t.TEXTURE_2D,a,e,r,d[0],d[1],s,u,l.data.subarray(l.offset,l.offset+_));else{var y;y=u===t.FLOAT?o.mallocFloat32(_):o.mallocUint8(_);var w=n(y,d,[d[2],d[2]*d[0],1]);v===t.FLOAT&&u===t.UNSIGNED_BYTE?f(w,l):i.assign(w,l),b?t.texImage2D(t.TEXTURE_2D,a,s,d[0],d[1],0,s,u,y.subarray(0,_)):t.texSubImage2D(t.TEXTURE_2D,a,e,r,d[0],d[1],s,u,y.subarray(0,_)),u===t.FLOAT?o.freeFloat32(y):o.freeUint8(y)}}(s,e,r,a,this.format,this.type,this._mipLevels,t)}}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(2),i=r(317),o=r(319),a=r(320),s=r(321),u=r(116),h="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(322);t.exports=function(t){return new Promise(function(e,f){var l=t.data,c=t.headers;n.isFormData(l)&&delete c["Content-Type"];var d=new XMLHttpRequest,p="onreadystatechange",v=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,p="onload",v=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var g=t.auth.username||"",m=t.auth.password||"";c.Authorization="Basic "+h(g+":"+m)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[p]=function(){if(d&&(4===d.readyState||v)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:t,request:d};i(e,f,n),d=null}},d.onerror=function(){f(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var _=r(323),b=(t.withCredentials||s(t.url))&&t.xsrfCookieName?_.read(t.xsrfCookieName):void 0;b&&(c[t.xsrfHeaderName]=b)}if("setRequestHeader"in d&&n.forEach(c,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete c[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),f(t),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(t,e,r){"use strict";var n=r(318);t.exports=function(t,e,r,i,o){var a=new Error(t);return n(a,e,r,i,o)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new n;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}n.prototype=r(124),n.prototype.loadAsync=r(171),n.support=r(5),n.defaults=r(67),n.version="3.1.5",n.loadAsync=function(t,e){return(new n).loadAsync(t,e)},n.external=r(21),t.exports=n},function(t,e,r){(function(e){var r=function(){try{return Function("return this")()||(0,eval)("this")}catch(t){return"object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof e&&e.global===e?e:this}}();function n(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){a(n.response,e,r)},n.onerror=function(){console.error("could not download file")},n.send()}function i(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),e.status>=200&&e.status<=299}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(r){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a=r.saveAs||"object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,a){var s=r.URL||r.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin!==location.origin?i(u.href)?n(t,e,a):o(u,u.target="_blank"):o(u)):(u.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(u.href)},4e4),setTimeout(function(){o(u)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download","string"==typeof t)if(i(t))n(t,e,r);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){clikc(o)})}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,r),e)}:function(t,e,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,i);var a="application/octet-stream"===t.type,s=/constructor/i.test(r.HTMLElement)||r.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||a&&s)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},h.readAsDataURL(t)}else{var f=r.URL||r.webkitURL,l=f.createObjectURL(t);o?o.location=l:location.href=l,o=null,setTimeout(function(){f.revokeObjectURL(l)},4e4)}};t.exports=r.saveAs=a.saveAs=a}).call(this,r(3))},function(t,e,r){"use strict";t.exports=function(t){var e=!1,r=((t=t||{}).pixelRatio||parseFloat(window.devicePixelRatio),t.canvas);if(!r)if(r=document.createElement("canvas"),t.container){var g=t.container;g.appendChild(r)}else document.body.appendChild(r);var m=t.gl;m||(m=function(t,e){var r=null;try{(r=t.getContext("webgl",e))||(r=t.getContext("experimental-webgl",e))}catch(t){return null}return r}(r,t.glOptions||{premultipliedAlpha:!0,antialias:!0}));if(!m)throw new Error("webgl not supported");var _=t.bounds||[[-10,-10,-10],[10,10,10]],b=new function(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null},y=u(m,[m.drawingBufferWidth,m.drawingBufferHeight],{preferFloat:!d}),w=c(m),x=t.camera||{eye:[2,0,0],center:[0,0,0],up:[0,1,0],zoomMin:.1,zoomMax:100,mode:"turntable"},M=t.axes||{},E=i(m,M);E.enable=!M.disable;var A=t.spikes||{},T=a(m,A),k=[],S=[],R=[],C=[],I=!0,L=!0,P=new Array(16),N=new Array(16),O={view:null,projection:P,model:N},L=!0,B=[m.drawingBufferWidth,m.drawingBufferHeight],F={gl:m,contextLost:!1,pixelRatio:t.pixelRatio||parseFloat(window.devicePixelRatio),canvas:r,selection:b,camera:n(r,x),axes:E,axesPixels:null,spikes:T,bounds:_,objects:k,shape:B,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:v(t.autoResize),autoBounds:v(t.autoBounds),autoScale:!!t.autoScale,autoCenter:v(t.autoCenter),clipToBounds:v(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:O,oncontextloss:null,mouseListener:null},D=[m.drawingBufferWidth/F.pixelRatio|0,m.drawingBufferHeight/F.pixelRatio|0];function U(){if(!e&&F.autoResize){var t=r.parentNode,n=1,i=1;t&&t!==document.body?(n=t.clientWidth,i=t.clientHeight):(n=window.innerWidth,i=window.innerHeight);var o=0|Math.ceil(n*F.pixelRatio),a=0|Math.ceil(i*F.pixelRatio);if(o!==r.width||a!==r.height){r.width=o,r.height=a;var s=r.style;s.position=s.position||"absolute",s.left="0px",s.top="0px",s.width=n+"px",s.height=i+"px",I=!0}}}F.autoResize&&U();function j(){for(var t=k.length,e=C.length,r=0;r<e;++r)R[r]=0;t:for(var r=0;r<t;++r){var n=k[r],i=n.pickSlots;if(i){for(var o=0;o<e;++o)if(R[o]+i<255){S[r]=o,n.setPickBase(R[o]+1),R[o]+=i;continue t}var a=s(m,B);S[r]=e,C.push(a),R.push(i),n.setPickBase(1),e+=1}else S[r]=-1}for(;e>0&&0===R[e-1];)R.pop(),C.pop().dispose()}window.addEventListener("resize",U),F.update=function(t){e||(t=t||{},I=!0,L=!0)},F.add=function(t){e||(t.axes=E,k.push(t),S.push(-1),I=!0,L=!0,j())},F.remove=function(t){if(!e){var r=k.indexOf(t);r<0||(k.splice(r,1),S.pop(),I=!0,L=!0,j())}},F.dispose=function(){if(!e&&(e=!0,window.removeEventListener("resize",U),r.removeEventListener("webglcontextlost",q),F.mouseListener.enabled=!1,!F.contextLost)){E.dispose(),T.dispose();for(var t=0;t<k.length;++t)k[t].dispose();y.dispose();for(var t=0;t<C.length;++t)C[t].dispose();w.dispose(),m=null,E=null,T=null,k=[]}};var z=!1,V=0;function q(){if(F.contextLost)return!0;m.isContextLost()&&(F.contextLost=!0,F.mouseListener.enabled=!1,F.selection.object=null,F.oncontextloss&&F.oncontextloss())}F.mouseListener=f(r,function(t,r,n){if(!e){var i=C.length,o=k.length,a=b.object;b.distance=1/0,b.mouse[0]=r,b.mouse[1]=n,b.object=null,b.screen=null,b.dataCoordinate=b.dataPosition=null;var s=!1;if(t&&V)z=!0;else{z&&(L=!0),z=!1;for(var u=0;u<i;++u){var h=C[u].query(r,D[1]-n-1,F.pickRadius);if(h){if(h.distance>b.distance)continue;for(var f=0;f<o;++f){var l=k[f];if(S[f]===u){var c=l.pick(h);c&&(b.buttons=t,b.screen=h.coord,b.distance=h.distance,b.object=l,b.index=c.distance,b.dataPosition=c.position,b.dataCoordinate=c.dataCoordinate,b.data=c,s=!0)}}}}}a&&a!==b.object&&(a.highlight&&a.highlight(null),I=!0),b.object&&(b.object.highlight&&b.object.highlight(b.data),I=!0),(s=s||b.object!==a)&&F.onselect&&F.onselect(b),1&t&&!(1&V)&&F.onclick&&F.onclick(b),V=t}}),r.addEventListener("webglcontextlost",q);var H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],X=[H[0].slice(),H[1].slice()];function W(){if(!q()){U();var t=F.camera.tick();O.view=F.camera.matrix,I=I||t,L=L||t,E.pixelRatio=F.pixelRatio,T.pixelRatio=F.pixelRatio;var e=k.length,r=H[0],n=H[1];r[0]=r[1]=r[2]=1/0,n[0]=n[1]=n[2]=-1/0;for(var i=0;i<e;++i){var a=k[i];a.pixelRatio=F.pixelRatio,a.axes=F.axes,I=I||!!a.dirty,L=L||!!a.dirty;var s=a.bounds;if(s)for(var u=s[0],f=s[1],c=0;c<3;++c)r[c]=Math.min(r[c],u[c]),n[c]=Math.max(n[c],f[c])}var d=F.bounds;if(F.autoBounds)for(var c=0;c<3;++c){if(n[c]<r[c])r[c]=-1,n[c]=1;else{r[c]===n[c]&&(r[c]-=1,n[c]+=1);var v=.05*(n[c]-r[c]);r[c]=r[c]-v,n[c]=n[c]+v}d[0][c]=r[c],d[1][c]=n[c]}for(var g=!1,c=0;c<3;++c)g=g||X[0][c]!==d[0][c]||X[1][c]!==d[1][c],X[0][c]=d[0][c],X[1][c]=d[1][c];if(L=L||g,I=I||g){if(g){for(var _=[0,0,0],i=0;i<3;++i)_[i]=p((d[1][i]-d[0][i])/10);E.autoTicks?E.update({bounds:d,tickSpacing:_}):E.update({bounds:d})}var x=m.drawingBufferWidth,M=m.drawingBufferHeight;B[0]=x,B[1]=M,D[0]=0|Math.max(x/F.pixelRatio,1),D[1]=0|Math.max(M/F.pixelRatio,1),l(P,F.fovy,x/M,F.zNear,F.zFar);for(var i=0;i<16;++i)N[i]=0;N[15]=1;for(var A=0,i=0;i<3;++i)A=Math.max(A,d[1][i]-d[0][i]);for(var i=0;i<3;++i)F.autoScale?N[5*i]=F.aspect[i]/(d[1][i]-d[0][i]):N[5*i]=1/A,F.autoCenter&&(N[12+i]=.5*-N[5*i]*(d[0][i]+d[1][i]));for(var i=0;i<e;++i){var a=k[i];a.axesBounds=d,F.clipToBounds&&(a.clipBounds=d)}b.object&&(F.snapToData?T.position=b.dataCoordinate:T.position=b.dataPosition,T.bounds=d),L&&(L=!1,function(){if(q())return;m.colorMask(!0,!0,!0,!0),m.depthMask(!0),m.disable(m.BLEND),m.enable(m.DEPTH_TEST);for(var t=k.length,e=C.length,r=0;r<e;++r){var n=C[r];n.shape=D,n.begin();for(var i=0;i<t;++i)if(S[i]===r){var o=k[i];o.drawPick&&(o.pixelRatio=1,o.drawPick(O))}n.end()}}()),F.axesPixels=o(F.axes,O,x,M),F.onrender&&F.onrender(),m.bindFramebuffer(m.FRAMEBUFFER,null),m.viewport(0,0,x,M);var R=F.clearColor;m.clearColor(R[0],R[1],R[2],R[3]),m.clear(m.COLOR_BUFFER_BIT|m.DEPTH_BUFFER_BIT),m.depthMask(!0),m.colorMask(!0,!0,!0,!0),m.enable(m.DEPTH_TEST),m.depthFunc(m.LEQUAL),m.disable(m.BLEND),m.disable(m.CULL_FACE);var j=!1;E.enable&&(j=j||E.isTransparent(),E.draw(O)),T.axes=E,b.object&&T.draw(O),m.disable(m.CULL_FACE);for(var i=0;i<e;++i){var a=k[i];a.axes=E,a.pixelRatio=F.pixelRatio,a.isOpaque&&a.isOpaque()&&a.draw(O),a.isTransparent&&a.isTransparent()&&(j=!0)}if(j){y.shape=B,y.bind(),m.clear(m.DEPTH_BUFFER_BIT),m.colorMask(!1,!1,!1,!1),m.depthMask(!0),m.depthFunc(m.LESS),E.enable&&E.isTransparent()&&E.drawTransparent(O);for(var i=0;i<e;++i){var a=k[i];a.isOpaque&&a.isOpaque()&&a.draw(O)}m.enable(m.BLEND),m.blendEquation(m.FUNC_ADD),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.colorMask(!0,!0,!0,!0),m.depthMask(!1),m.clearColor(0,0,0,0),m.clear(m.COLOR_BUFFER_BIT),E.isTransparent()&&E.drawTransparent(O);for(var i=0;i<e;++i){var a=k[i];a.isTransparent&&a.isTransparent()&&a.drawTransparent(O)}m.bindFramebuffer(m.FRAMEBUFFER,null),m.blendFunc(m.ONE,m.ONE_MINUS_SRC_ALPHA),m.disable(m.DEPTH_TEST),w.bind(),y.color[0].bind(0),w.uniforms.accumBuffer=0,h(m),m.disable(m.BLEND)}I=!1;for(var i=0;i<e;++i)k[i].dirty=!1}}}return function t(){e||F.contextLost||(requestAnimationFrame(t),W())}(),F.redraw=function(){e||(I=!0,W())},F};var n=r(176),i=r(206),o=r(293),a=r(296),s=r(298),u=r(112),h=r(300),f=r(92),l=r(302),c=r(303),d=r(304)();function p(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e<0){var r=Math.round(Math.pow(10,-e));return Math.ceil(t*r)/r}if(e>0){r=Math.round(Math.pow(10,e));return Math.ceil(t/r)*r}return Math.ceil(t)}function v(t){return"boolean"!=typeof t||t}},function(t,e,r){"use strict";t.exports=function(t){var e=t.gl,r=_(e),n=y(e),s=b(e),u=w(e),h=i(e),f=o(e,[{buffer:h,size:4,stride:x,offset:0},{buffer:h,size:3,stride:x,offset:16},{buffer:h,size:3,stride:x,offset:28}]),l=i(e),c=o(e,[{buffer:l,size:4,stride:20,offset:0},{buffer:l,size:1,stride:20,offset:16}]),d=i(e),p=o(e,[{buffer:d,size:2,type:e.FLOAT}]),v=a(e,1,T,e.RGBA,e.UNSIGNED_BYTE);v.minFilter=e.LINEAR,v.magFilter=e.LINEAR;var g=new k(e,[0,0],[[0,0,0],[0,0,0]],r,n,h,f,v,s,u,l,c,d,p),m={levels:[[],[],[]]};for(var M in t)m[M]=t[M];return m.colormap=m.colormap||"jet",g.update(m),g};var n=r(11),i=r(18),o=r(19),a=r(113),s=r(4),u=r(307),h=r(45),f=r(310),l=r(8),c=r(96),d=r(30),p=r(17),v=r(16),g=r(312),m=r(313),_=m.createShader,b=m.createContourShader,y=m.createPickShader,w=m.createPickContourShader,x=40,M=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],E=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],A=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];!function(){for(var t=0;t<3;++t){var e=A[t],r=(t+2)%3;e[(t+1)%3+0]=1,e[r+3]=1,e[t+6]=1}}();var T=256;function k(t,e,r,n,i,o,a,u,h,f,c,d,p,v){this.gl=t,this.shape=e,this.bounds=r,this.intensityBounds=[],this._shader=n,this._pickShader=i,this._coordinateBuffer=o,this._vao=a,this._colorMap=u,this._contourShader=h,this._contourPickShader=f,this._contourBuffer=c,this._contourVAO=d,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new function(t,e,r,n,i){this.position=t,this.index=e,this.uv=r,this.level=n,this.dataCoordinate=i}([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=p,this._dynamicVAO=v,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[l(s.mallocFloat(1024),[0,0]),l(s.mallocFloat(1024),[0,0]),l(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var S=k.prototype;S.isTransparent=function(){return this.opacity<1},S.isOpaque=function(){if(this.opacity>=1)return!0;for(var t=0;t<3;++t)if(this._contourCounts[t].length>0||this._dynamicCounts[t]>0)return!0;return!1},S.pickSlots=1,S.setPickBase=function(t){this.pickId=t};var R=[0,0,0],C={showSurface:!1,showContour:!1,projections:[M.slice(),M.slice(),M.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function I(t,e){var r,n,i,o=e.axes&&e.axes.lastCubeProps.axis||R,a=e.showSurface,s=e.showContour;for(r=0;r<3;++r)for(a=a||e.surfaceProject[r],n=0;n<3;++n)s=s||e.contourProject[r][n];for(r=0;r<3;++r){var u=C.projections[r];for(n=0;n<16;++n)u[n]=0;for(n=0;n<4;++n)u[5*n]=1;u[5*r]=0,u[12+r]=e.axesBounds[+(o[r]>0)][r],d(u,t.model,u);var h=C.clipBounds[r];for(i=0;i<2;++i)for(n=0;n<3;++n)h[i][n]=t.clipBounds[i][n];h[0][r]=-1e8,h[1][r]=1e8}return C.showSurface=a,C.showContour=s,C}var L={model:M,view:M,projection:M,inverseModel:M.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},P=M.slice(),N=[1,0,0,0,1,0,0,0,1];function O(t,e){t=t||{};var r=this.gl;r.disable(r.CULL_FACE),this._colorMap.bind(0);var n=L;n.model=t.model||M,n.view=t.view||M,n.projection=t.projection||M,n.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],n.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],n.contourColor=this.contourColor[0],n.inverseModel=p(n.inverseModel,n.model);for(var i=0;i<2;++i)for(var o=n.clipBounds[i],a=0;a<3;++a)o[a]=Math.min(Math.max(this.clipBounds[i][a],-1e8),1e8);n.kambient=this.ambientLight,n.kdiffuse=this.diffuseLight,n.kspecular=this.specularLight,n.roughness=this.roughness,n.fresnel=this.fresnel,n.opacity=this.opacity,n.height=0,n.permutation=N,n.vertexColor=this.vertexColor;var s=P;for(d(s,n.view,n.model),d(s,n.projection,s),p(s,s),i=0;i<3;++i)n.eyePosition[i]=s[12+i]/s[15];var u=s[15];for(i=0;i<3;++i)u+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var h=s[12+i];for(a=0;a<3;++a)h+=s[4*a+i]*this.lightPosition[a];n.lightPosition[i]=h/u}var f=I(n,this);if(f.showSurface&&e===this.opacity<1){for(this._shader.bind(),this._shader.uniforms=n,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(r.TRIANGLES,this._vertexCount),i=0;i<3;++i)this.surfaceProject[i]&&this.vertexCount&&(this._shader.uniforms.model=f.projections[i],this._shader.uniforms.clipBounds=f.clipBounds[i],this._vao.draw(r.TRIANGLES,this._vertexCount));this._vao.unbind()}if(f.showContour&&!e){var l=this._contourShader;n.kambient=1,n.kdiffuse=0,n.kspecular=0,n.opacity=1,l.bind(),l.uniforms=n;var c=this._contourVAO;for(c.bind(),i=0;i<3;++i)for(l.uniforms.permutation=A[i],r.lineWidth(this.contourWidth[i]),a=0;a<this.contourLevels[i].length;++a)a===this.highlightLevel[i]?(l.uniforms.contourColor=this.highlightColor[i],l.uniforms.contourTint=this.highlightTint[i]):0!==a&&a-1!==this.highlightLevel[i]||(l.uniforms.contourColor=this.contourColor[i],l.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][a]&&(l.uniforms.height=this.contourLevels[i][a],c.draw(r.LINES,this._contourCounts[i][a],this._contourOffsets[i][a]));for(i=0;i<3;++i)for(l.uniforms.model=f.projections[i],l.uniforms.clipBounds=f.clipBounds[i],a=0;a<3;++a)if(this.contourProject[i][a]){l.uniforms.permutation=A[a],r.lineWidth(this.contourWidth[a]);for(var v=0;v<this.contourLevels[a].length;++v)v===this.highlightLevel[a]?(l.uniforms.contourColor=this.highlightColor[a],l.uniforms.contourTint=this.highlightTint[a]):0!==v&&v-1!==this.highlightLevel[a]||(l.uniforms.contourColor=this.contourColor[a],l.uniforms.contourTint=this.contourTint[a]),l.uniforms.height=this.contourLevels[a][v],c.draw(r.LINES,this._contourCounts[a][v],this._contourOffsets[a][v])}for(c.unbind(),(c=this._dynamicVAO).bind(),i=0;i<3;++i)if(0!==this._dynamicCounts[i])for(l.uniforms.model=n.model,l.uniforms.clipBounds=n.clipBounds,l.uniforms.permutation=A[i],r.lineWidth(this.dynamicWidth[i]),l.uniforms.contourColor=this.dynamicColor[i],l.uniforms.contourTint=this.dynamicTint[i],l.uniforms.height=this.dynamicLevel[i],c.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),a=0;a<3;++a)this.contourProject[a][i]&&(l.uniforms.model=f.projections[a],l.uniforms.clipBounds=f.clipBounds[a],c.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));c.unbind()}}S.draw=function(t){return O.call(this,t,!1)},S.drawTransparent=function(t){return O.call(this,t,!0)};var B={model:M,view:M,projection:M,inverseModel:M,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function F(t,e){var r=e.shape.slice(),n=t.shape.slice();h.assign(t.lo(1,1).hi(r[0],r[1]),e),h.assign(t.lo(1).hi(r[0],1),e.hi(r[0],1)),h.assign(t.lo(1,n[1]-1).hi(r[0],1),e.lo(0,r[1]-1).hi(r[0],1)),h.assign(t.lo(0,1).hi(1,r[1]),e.hi(1)),h.assign(t.lo(n[0]-1,1).hi(1,r[1]),e.lo(r[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,n[1]-1,e.get(0,r[1]-1)),t.set(n[0]-1,0,e.get(r[0]-1,0)),t.set(n[0]-1,n[1]-1,e.get(r[0]-1,r[1]-1))}function D(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function U(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function j(t){if(Array.isArray(t)){if(Array.isArray(t))return[U(t[0]),U(t[1]),U(t[2])];var e=U(t);return[e.slice(),e.slice(),e.slice()]}}S.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var r=B;r.model=t.model||M,r.view=t.view||M,r.projection=t.projection||M,r.shape=this._field[2].shape,r.pickId=this.pickId/255,r.lowerBound=this.bounds[0],r.upperBound=this.bounds[1],r.permutation=N;for(var n=0;n<2;++n)for(var i=r.clipBounds[n],o=0;o<3;++o)i[o]=Math.min(Math.max(this.clipBounds[n][o],-1e8),1e8);var a=I(r,this);if(a.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=r,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),n=0;n<3;++n)this.surfaceProject[n]&&(this._pickShader.uniforms.model=a.projections[n],this._pickShader.uniforms.clipBounds=a.clipBounds[n],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(a.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=r;var u=this._contourVAO;for(u.bind(),o=0;o<3;++o)for(e.lineWidth(this.contourWidth[o]),s.uniforms.permutation=A[o],n=0;n<this.contourLevels[o].length;++n)this._contourCounts[o][n]&&(s.uniforms.height=this.contourLevels[o][n],u.draw(e.LINES,this._contourCounts[o][n],this._contourOffsets[o][n]));for(n=0;n<3;++n)for(s.uniforms.model=a.projections[n],s.uniforms.clipBounds=a.clipBounds[n],o=0;o<3;++o)if(this.contourProject[n][o]){s.uniforms.permutation=A[o],e.lineWidth(this.contourWidth[o]);for(var h=0;h<this.contourLevels[o].length;++h)this._contourCounts[o][h]&&(s.uniforms.height=this.contourLevels[o][h],u.draw(e.LINES,this._contourCounts[o][h],this._contourOffsets[o][h]))}u.unbind()}},S.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,r=this._pickResult,n=e[0]*(t.value[0]+(t.value[2]>>4)/16)/255,i=Math.floor(n),o=n-i,a=e[1]*(t.value[1]+(15&t.value[2])/16)/255,s=Math.floor(a),u=a-s;i+=1,s+=1;var h=r.position;h[0]=h[1]=h[2]=0;for(var f=0;f<2;++f)for(var l=f?o:1-o,c=0;c<2;++c)for(var d=i+f,p=s+c,g=l*(c?u:1-u),m=0;m<3;++m)h[m]+=this._field[m].get(d,p)*g;for(var _=this._pickResult.level,b=0;b<3;++b)if(_[b]=v.le(this.contourLevels[b],h[b]),_[b]<0)this.contourLevels[b].length>0&&(_[b]=0);else if(_[b]<this.contourLevels[b].length-1){var y=this.contourLevels[b][_[b]],w=this.contourLevels[b][_[b]+1];Math.abs(y-h[b])>Math.abs(w-h[b])&&(_[b]+=1)}for(r.index[0]=o<.5?i:i+1,r.index[1]=u<.5?s:s+1,r.uv[0]=n/e[0],r.uv[1]=a/e[1],m=0;m<3;++m)r.dataCoordinate[m]=this._field[m].get(r.index[0],r.index[1]);return r},S.update=function(t){t=t||{},this.dirty=!0,"contourWidth"in t&&(this.contourWidth=D(t.contourWidth,Number)),"showContour"in t&&(this.showContour=D(t.showContour,Boolean)),"showSurface"in t&&(this.showSurface=!!t.showSurface),"contourTint"in t&&(this.contourTint=D(t.contourTint,Boolean)),"contourColor"in t&&(this.contourColor=j(t.contourColor)),"contourProject"in t&&(this.contourProject=D(t.contourProject,function(t){return D(t,Boolean)})),"surfaceProject"in t&&(this.surfaceProject=t.surfaceProject),"dynamicColor"in t&&(this.dynamicColor=j(t.dynamicColor)),"dynamicTint"in t&&(this.dynamicTint=D(t.dynamicTint,Number)),"dynamicWidth"in t&&(this.dynamicWidth=D(t.dynamicWidth,Number)),"opacity"in t&&(this.opacity=t.opacity),"colorBounds"in t&&(this.colorBounds=t.colorBounds),"vertexColor"in t&&(this.vertexColor=t.vertexColor?1:0);var e=t.field||t.coords&&t.coords[2]||null,r=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in t||"coords"in t){var i=(e.shape[0]+2)*(e.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(n.nextPow2(i))),this._field[2]=l(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),F(this._field[2],e),this.shape=e.shape.slice();for(var o=this.shape,a=0;a<2;++a)this._field[2].size>this._field[a].data.length&&(s.freeFloat(this._field[a].data),this._field[a].data=s.mallocFloat(this._field[2].size)),this._field[a]=l(this._field[a].data,[o[0]+2,o[1]+2]);if(t.coords){var d=t.coords;if(!Array.isArray(d)||3!==d.length)throw new Error("gl-surface: invalid coordinates for x/y");for(a=0;a<2;++a){var p=d[a];for(y=0;y<2;++y)if(p.shape[y]!==o[y])throw new Error("gl-surface: coords have incorrect shape");F(this._field[a],p)}}else if(t.ticks){var v=t.ticks;if(!Array.isArray(v)||2!==v.length)throw new Error("gl-surface: invalid ticks");for(a=0;a<2;++a){var m=v[a];if((Array.isArray(m)||m.length)&&(m=l(m)),m.shape[0]!==o[a])throw new Error("gl-surface: invalid tick length");var _=l(m.data,o);_.stride[a]=m.stride[0],_.stride[1^a]=0,F(this._field[a],_)}}else{for(a=0;a<2;++a){var b=[0,0];b[a]=1,this._field[a]=l(this._field[a].data,[o[0]+2,o[1]+2],b,0)}this._field[0].set(0,0,0);for(var y=0;y<o[0];++y)this._field[0].set(y+1,0,y);for(this._field[0].set(o[0]+1,0,o[0]-1),this._field[1].set(0,0,0),y=0;y<o[1];++y)this._field[1].set(0,y+1,y);this._field[1].set(0,o[1]+1,o[1]-1)}var w=this._field,x=l(s.mallocFloat(3*w[2].size*2),[3,o[0]+2,o[1]+2,2]);for(a=0;a<3;++a)g(x.pick(a),w[a],"mirror");var M=l(s.mallocFloat(3*w[2].size),[o[0]+2,o[1]+2,3]);for(a=0;a<o[0]+2;++a)for(y=0;y<o[1]+2;++y){var A=x.get(0,a,y,0),k=x.get(0,a,y,1),S=x.get(1,a,y,0),R=x.get(1,a,y,1),C=x.get(2,a,y,0),I=x.get(2,a,y,1),L=S*I-R*C,P=C*k-I*A,N=A*R-k*S,O=Math.sqrt(L*L+P*P+N*N);O<1e-8?(O=Math.max(Math.abs(L),Math.abs(P),Math.abs(N)))<1e-8?(N=1,P=L=0,O=1):O=1/O:O=1/Math.sqrt(O),M.set(a,y,0,L*O),M.set(a,y,1,P*O),M.set(a,y,2,N*O)}s.free(x.data);var B=[1/0,1/0,1/0],U=[-1/0,-1/0,-1/0],z=1/0,V=-1/0,q=(o[0]-1)*(o[1]-1)*6,H=s.mallocFloat(n.nextPow2(10*q)),X=0,W=0;for(a=0;a<o[0]-1;++a)t:for(y=0;y<o[1]-1;++y){for(var G=0;G<2;++G)for(var Y=0;Y<2;++Y)for(var Z=0;Z<3;++Z){var K=this._field[Z].get(1+a+G,1+y+Y);if(isNaN(K)||!isFinite(K))continue t}for(Z=0;Z<6;++Z){var Q=a+E[Z][0],J=y+E[Z][1],$=this._field[0].get(Q+1,J+1),tt=this._field[1].get(Q+1,J+1),et=K=this._field[2].get(Q+1,J+1);L=M.get(Q+1,J+1,0),P=M.get(Q+1,J+1,1),N=M.get(Q+1,J+1,2),t.intensity&&(et=t.intensity.get(Q,J)),H[X++]=Q,H[X++]=J,H[X++]=$,H[X++]=tt,H[X++]=K,H[X++]=0,H[X++]=et,H[X++]=L,H[X++]=P,H[X++]=N,B[0]=Math.min(B[0],$),B[1]=Math.min(B[1],tt),B[2]=Math.min(B[2],K),z=Math.min(z,et),U[0]=Math.max(U[0],$),U[1]=Math.max(U[1],tt),U[2]=Math.max(U[2],K),V=Math.max(V,et),W+=1}}for(t.intensityBounds&&(z=+t.intensityBounds[0],V=+t.intensityBounds[1]),a=6;a<X;a+=10)H[a]=(H[a]-z)/(V-z);this._vertexCount=W,this._coordinateBuffer.update(H.subarray(0,X)),s.freeFloat(H),s.free(M.data),this.bounds=[B,U],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===z&&this.intensityBounds[1]===V||(r=!0),this.intensityBounds=[z,V]}if("levels"in t){var rt=t.levels;for(rt=Array.isArray(rt[0])?rt.slice():[[],[],rt],a=0;a<3;++a)rt[a]=rt[a].slice(),rt.sort(function(t,e){return t-e});t:for(a=0;a<3;++a){if(rt[a].length!==this.contourLevels[a].length){r=!0;break}for(y=0;y<rt[a].length;++y)if(rt[a][y]!==this.contourLevels[a][y]){r=!0;break t}}this.contourLevels=rt}if(r){w=this._field,o=this.shape;for(var nt=[],it=0;it<3;++it){rt=this.contourLevels[it];var ot=[],at=[],st=[0,0,0];for(a=0;a<rt.length;++a){var ut=c(this._field[it],rt[a]);ot.push(nt.length/5|0),W=0;t:for(y=0;y<ut.cells.length;++y){var ht=ut.cells[y];for(Z=0;Z<2;++Z){var ft=ut.positions[ht[Z]],lt=ft[0],ct=0|Math.floor(lt),dt=lt-ct,pt=ft[1],vt=0|Math.floor(pt),gt=pt-vt,mt=!1;e:for(var _t=0;_t<3;++_t){st[_t]=0;var bt=(it+_t+1)%3;for(G=0;G<2;++G){var yt=G?dt:1-dt;for(Q=0|Math.min(Math.max(ct+G,0),o[0]),Y=0;Y<2;++Y){var wt=Y?gt:1-gt;if(J=0|Math.min(Math.max(vt+Y,0),o[1]),K=_t<2?this._field[bt].get(Q,J):(this.intensity.get(Q,J)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(K)||isNaN(K)){mt=!0;break e}var xt=yt*wt;st[_t]+=xt*K}}}if(mt){if(Z>0){for(var Mt=0;Mt<5;++Mt)nt.pop();W-=1}continue t}nt.push(st[0],st[1],ft[0],ft[1],st[2]),W+=1}}at.push(W)}this._contourOffsets[it]=ot,this._contourCounts[it]=at}var Et=s.mallocFloat(nt.length);for(a=0;a<nt.length;++a)Et[a]=nt[a];this._contourBuffer.update(Et),s.freeFloat(Et)}t.colormap&&this._colorMap.setPixels(function(t){var e=f([u({colormap:t,nshades:T,format:"rgba"}).map(function(t){return[t[0],t[1],t[2],255*t[3]]})]);return h.divseq(e,255),e}(t.colormap))},S.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t<3;++t)s.freeFloat(this._field[t].data)},S.highlight=function(t){if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(var e=0;e<3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;var r;if(r=this.snapToData?t.dataCoordinate:t.position,this.enableDynamic[0]&&r[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&r[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&r[2]!==this.dynamicLevel[2]){for(var n=0,i=this.shape,o=s.mallocFloat(12*i[0]*i[1]),a=0;a<3;++a)if(this.enableDynamic[a]){this.dynamicLevel[a]=r[a];var u=(a+1)%3,h=(a+2)%3,f=this._field[a],l=this._field[u],d=this._field[h],p=(this.intensity,c(f,r[a])),v=p.cells,g=p.positions;for(this._dynamicOffsets[a]=n,e=0;e<v.length;++e)for(var m=v[e],_=0;_<2;++_){var b=g[m[_]],y=+b[0],w=0|y,x=0|Math.min(w+1,i[0]),M=y-w,E=1-M,A=+b[1],T=0|A,k=0|Math.min(T+1,i[1]),S=A-T,R=1-S,C=E*R,I=E*S,L=M*R,P=M*S,N=C*l.get(w,T)+I*l.get(w,k)+L*l.get(x,T)+P*l.get(x,k),O=C*d.get(w,T)+I*d.get(w,k)+L*d.get(x,T)+P*d.get(x,k);if(isNaN(N)||isNaN(O)){_&&(n-=1);break}o[2*n+0]=N,o[2*n+1]=O,n+=1}this._dynamicCounts[a]=n-this._dynamicOffsets[a]}else this.dynamicLevel[a]=NaN,this._dynamicCounts[a]=0;this._dynamicBuffer.update(o.subarray(0,2*n)),s.freeFloat(o)}}},function(t){t.exports=[14,15,16,17,18,19,20,21,22,23]},function(t,e,r){"use strict";var n=r(13),i=r(0),o=r(1),a=r(66),s=r(67),u=r(41),h=r(157),f=r(158),l=r(28),c=r(170),d=function(t,e,r){var n,a=i.getTypeOf(e),f=i.extend(r||{},s);f.date=f.date||new Date,null!==f.compression&&(f.compression=f.compression.toUpperCase()),"string"==typeof f.unixPermissions&&(f.unixPermissions=parseInt(f.unixPermissions,8)),f.unixPermissions&&16384&f.unixPermissions&&(f.dir=!0),f.dosPermissions&&16&f.dosPermissions&&(f.dir=!0),f.dir&&(t=v(t)),f.createFolders&&(n=p(t))&&g.call(this,n,!0);var d="string"===a&&!1===f.binary&&!1===f.base64;r&&void 0!==r.binary||(f.binary=!d),(e instanceof u&&0===e.uncompressedSize||f.dir||!e||0===e.length)&&(f.base64=!1,f.binary=!0,e="",f.compression="STORE",a="string");var m=null;m=e instanceof u||e instanceof o?e:l.isNode&&l.isStream(e)?new c(t,e):i.prepareContent(t,e,f.binary,f.optimizedBinaryString,f.base64);var _=new h(t,m,f);this.files[t]=_},p=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:s.createFolders,t=v(t),this.files[t]||d.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,r,n;for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,n))},filter:function(t){var e=[];return this.forEach(function(r,n){t(r,n)&&e.push(n)}),e},file:function(t,e,r){if(1===arguments.length){if(m(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}var i=this.files[this.root+t];return i&&!i.dir?i:null}return t=this.root+t,d.call(this,t,e,r),this},folder:function(t){if(!t)return this;if(m(t))return this.filter(function(e,r){return r.dir&&t.test(e)});var e=this.root+t,r=g.call(this,e),n=this.clone();return n.root=r.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var r=this.filter(function(e,r){return r.name.slice(0,t.length)===t}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,r={};try{if((r=i.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");i.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var s=r.comment||this.comment||"";e=f.generateWorker(this,r,s)}catch(t){(e=new o("error")).error(t)}return new a(e,r.type||"string",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=_},function(t,e,r){"use strict";e.byteLength=function(t){var e=h(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=h(t),n=r[0],a=r[1],s=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,a)),u=0,f=a>0?n-4:n,l=0;l<f;l+=4)e=i[t.charCodeAt(l)]<<18|i[t.charCodeAt(l+1)]<<12|i[t.charCodeAt(l+2)]<<6|i[t.charCodeAt(l+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(l)]<<2|i[t.charCodeAt(l+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(l)]<<10|i[t.charCodeAt(l+1)]<<4|i[t.charCodeAt(l+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function h(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function l(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(f(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,h=u>>1,f=-7,l=r?i-1:0,c=r?-1:1,d=t[e+l];for(l+=c,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=c,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+t[e+l],l+=c,f-=8);if(0===o)o=1-h;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=h}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,h=8*o-i-1,f=(1<<h)-1,l=f>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?c/u:c*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,h+=i;h>0;t[r+d]=255&a,d+=p,a/=256,h-=8);t[r+d-p]|=128*v}},function(t,e,r){t.exports=i;var n=r(25).EventEmitter;function i(){n.call(this)}r(14)(i,n),i.Readable=r(37),i.Writable=r(135),i.Duplex=r(136),i.Transform=r(137),i.PassThrough=r(138),i.Stream=i,i.prototype.pipe=function(t,e){var r=this;function i(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",u));var a=!1;function s(){a||(a=!0,t.end())}function u(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function h(t){if(f(),0===n.listenerCount(this,"error"))throw t}function f(){r.removeListener("data",i),t.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",h),t.removeListener("error",h),r.removeListener("end",f),r.removeListener("close",f),t.removeListener("close",f)}return r.on("error",h),t.on("error",h),r.on("end",f),r.on("close",f),t.on("close",f),t.emit("pipe",r),t}},function(t,e){},function(t,e,r){"use strict";var n=r(27).Buffer,i=r(130);function o(t,e,r){t.copy(e,r)}t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e=n.allocUnsafe(t>>>0),r=this.head,i=0;r;)o(r.data,e,i),i+=r.data.length,r=r.next;return e},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,r){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(132),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,r(3))},function(t,e,r){(function(t,e){!function(t,r){"use strict";if(!t.setImmediate){var n,i=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick(function(){f(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&f(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),n=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){f(t.data)},n=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;n=function(e){var r=s.createElement("script");r.onreadystatechange=function(){f(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():n=function(t){setTimeout(f,0,t)},u.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var a={callback:t,args:e};return o[i]=a,n(i),i++},u.clearImmediate=h}function h(t){delete o[t]}function f(t){if(a)setTimeout(f,0,t);else{var e=o[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{h(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,r(3),r(15))},function(t,e,r){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}).call(this,r(3))},function(t,e,r){"use strict";t.exports=o;var n=r(60),i=r(20);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(14),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e,r){t.exports=r(38)},function(t,e,r){t.exports=r(10)},function(t,e,r){t.exports=r(37).Transform},function(t,e,r){t.exports=r(37).PassThrough},function(t,e,r){r(140),t.exports=r(62).setImmediate},function(t,e,r){var n=r(141),i=r(149);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,r){var n=r(29),i=r(62),o=r(63),a=r(143),s=function(t,e,r){var u,h,f,l=t&s.F,c=t&s.G,d=t&s.S,p=t&s.P,v=t&s.B,g=t&s.W,m=c?i:i[e]||(i[e]={}),_=m.prototype,b=c?n:d?n[e]:(n[e]||{}).prototype;for(u in c&&(r=e),r)(h=!l&&b&&void 0!==b[u])&&u in m||(f=h?b[u]:r[u],m[u]=c&&"function"!=typeof b[u]?r[u]:v&&h?o(f,n):g&&b[u]==f?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):p&&"function"==typeof f?o(Function.call,f):f,p&&((m.virtual||(m.virtual={}))[u]=f,t&s.R&&_&&!_[u]&&a(_,u,f)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(144),i=r(148);t.exports=r(40)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(145),i=r(146),o=r(147),a=Object.defineProperty;e.f=r(40)?Object.defineProperty:function(t,e,r){if(n(t),e=o(e,!0),n(r),i)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(39);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,r){t.exports=!r(40)&&!r(64)(function(){return 7!=Object.defineProperty(r(65)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(39);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n,i,o,a=r(63),s=r(150),u=r(151),h=r(65),f=r(29),l=f.process,c=f.setImmediate,d=f.clearImmediate,p=f.MessageChannel,v=0,g={},m=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){m.call(t.data)};c&&d||(c=function(t){for(var e=[],r=1;arguments.length>r;)e.push(arguments[r++]);return g[++v]=function(){s("function"==typeof t?t:Function(t),e)},n(v),v},d=function(t){delete g[t]},"process"==r(152)(l)?n=function(t){l.nextTick(a(m,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=_,n=a(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(n=function(t){f.postMessage(t+"","*")},f.addEventListener("message",_,!1)):n="onreadystatechange"in h("script")?function(t){u.appendChild(h("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:c,clear:d}},function(t,e){t.exports=function(t,e,r){var n=void 0===r;switch(e.length){case 0:return n?t():t.call(r);case 1:return n?t(e[0]):t.call(r,e[0]);case 2:return n?t(e[0],e[1]):t.call(r,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(r,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(r,e[0],e[1],e[2],e[3])}return t.apply(r,e)}},function(t,e,r){t.exports=r(29).document&&document.documentElement},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e,r){"use strict";var n=r(154);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function h(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function f(t,e,r){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function l(t,e,r){n(function(){var n;try{n=e(r)}catch(e){return o.reject(t,e)}n===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,n)})}function c(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var r=!1;function n(e){r||(r=!0,o.reject(t,e))}function i(e){r||(r=!0,o.resolve(t,e))}var a=p(function(){e(i,n)});"error"===a.status&&n(a.value)}function p(t,e){var r={};try{r.value=t(e),r.status="success"}catch(t){r.status="error",r.value=t}return r}t.exports=h,h.prototype.catch=function(t){return this.then(null,t)},h.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var r=new this.constructor(i);this.state!==u?l(r,this.state===s?t:e,this.outcome):this.queue.push(new f(r,t,e));return r},f.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},f.prototype.otherCallFulfilled=function(t){l(this.promise,this.onFulfilled,t)},f.prototype.callRejected=function(t){o.reject(this.promise,t)},f.prototype.otherCallRejected=function(t){l(this.promise,this.onRejected,t)},o.resolve=function(t,e){var r=p(c,e);if("error"===r.status)return o.reject(t,r.value);var n=r.value;if(n)d(t,n);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var r=-1,n=t.queue.length;++r<n;)t.queue[r].callRejected(e);return t},h.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(i),t)},h.reject=function(t){var e=new this(i);return o.reject(e,t)},h.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);var a=new Array(r),s=0,u=-1,h=new this(i);for(;++u<r;)f(t[u],u);return h;function f(t,i){e.resolve(t).then(function(t){a[i]=t,++s!==r||n||(n=!0,o.resolve(h,a))},function(t){n||(n=!0,o.reject(h,t))})}},h.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,n=!1;if(!r)return this.resolve([]);var a=-1,s=new this(i);for(;++a<r;)u(t[a]);return s;function u(t){e.resolve(t).then(function(t){n||(n=!0,o.resolve(s,t))},function(t){n||(n=!0,o.reject(s,t))})}}},function(t,e,r){"use strict";(function(e){var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(f),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(f,0)};else{var u=new e.MessageChannel;u.port1.onmessage=f,r=function(){u.port2.postMessage(0)}}var h=[];function f(){var t,e;n=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}n=!1}t.exports=function(t){1!==h.push(t)||n||r()}}).call(this,r(3))},function(t,e,r){"use strict";var n=r(1),i=r(0);function o(t){n.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(o,n),o.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},t.exports=o},function(t,e,r){"use strict";var n=r(55).Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}r(0).inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},function(t,e,r){"use strict";var n=r(66),i=r(68),o=r(13),a=r(41),s=r(1),u=function(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};u.prototype={internalStream:function(t){var e=null,r="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(r=t.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new n(e,r,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new o.Utf8EncodeWorker)),a.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new i(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<h.length;l++)u.prototype[h[l]]=f;t.exports=u},function(t,e,r){"use strict";var n=r(71),i=r(169);e.generateWorker=function(t,e,r){var o=new i(e.streamFiles,r,e.platform,e.encodeFileName),a=0;try{t.forEach(function(t,r){a++;var i=function(t,e){var r=t||e,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,e.compression),s=r.options.compressionOptions||e.compressionOptions||{},u=r.dir,h=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:t,dir:u,date:h,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(t){o.error(t)}return o}},function(t,e,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=r(160),o=r(0),a=r(1),s=n?"uint8array":"array";function u(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",o.inherits(u,a),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,t.data),!1)},u.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new u("Deflate",t)},e.uncompressWorker=function(){return new u("Inflate",{})}},function(t,e,r){"use strict";var n={};(0,r(6).assign)(n,r(161),r(164),r(76)),t.exports=n},function(t,e,r){"use strict";var n=r(162),i=r(6),o=r(74),a=r(43),s=r(75),u=Object.prototype.toString,h=0,f=-1,l=0,c=8;function d(t){if(!(this instanceof d))return new d(t);this.options=i.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==h)throw new Error(a[r]);if(e.header&&n.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==h)throw new Error(a[r]);this._dict_set=!0}}function p(t,e){var r=new d(e);if(r.push(t,!0),r.err)throw r.msg||a[r.err];return r.result}d.prototype.push=function(t,e){var r,a,s=this.strm,f=this.options.chunkSize;if(this.ended)return!1;a=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=o.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(f),s.next_out=0,s.avail_out=f),1!==(r=n.deflate(s,a))&&r!==h)return this.onEnd(r),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===h):2!==a||(this.onEnd(h),s.avail_out=0,!0)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===h&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=d,e.deflate=p,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},function(t,e,r){"use strict";var n,i=r(6),o=r(163),a=r(72),s=r(73),u=r(43),h=0,f=1,l=3,c=4,d=5,p=0,v=1,g=-2,m=-3,_=-5,b=-1,y=1,w=2,x=3,M=4,E=0,A=2,T=8,k=9,S=15,R=8,C=286,I=30,L=19,P=2*C+1,N=15,O=3,B=258,F=B+O+1,D=32,U=42,j=69,z=73,V=91,q=103,H=113,X=666,W=1,G=2,Y=3,Z=4,K=3;function Q(t,e){return t.msg=u[e],e}function J(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(i.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function rt(t,e){t.pending_buf[t.pending++]=e}function nt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function it(t,e,r,n){var o=t.avail_in;return o>n&&(o=n),0===o?0:(t.avail_in-=o,i.arraySet(e,t.input,t.next_in,o,r),1===t.state.wrap?t.adler=a(t.adler,e,o,r):2===t.state.wrap&&(t.adler=s(t.adler,e,o,r)),t.next_in+=o,t.total_in+=o,o)}function ot(t,e){var r,n,i=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-F?t.strstart-(t.w_size-F):0,h=t.window,f=t.w_mask,l=t.prev,c=t.strstart+B,d=h[o+a-1],p=h[o+a];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(h[(r=e)+a]===p&&h[r+a-1]===d&&h[r]===h[o]&&h[++r]===h[o+1]){o+=2,r++;do{}while(h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&h[++o]===h[++r]&&o<c);if(n=B-(c-o),o=c-B,n>a){if(t.match_start=e,a=n,n>=s)break;d=h[o+a-1],p=h[o+a]}}}while((e=l[e&f])>u&&0!=--i);return a<=t.lookahead?a:t.lookahead}function at(t){var e,r,n,o,a,s=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-F)){i.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=r=t.hash_size;do{n=t.head[--e],t.head[e]=n>=s?n-s:0}while(--r);e=r=s;do{n=t.prev[--e],t.prev[e]=n>=s?n-s:0}while(--r);o+=s}if(0===t.strm.avail_in)break;if(r=it(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=r,t.lookahead+t.insert>=O)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+O-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<O)););}while(t.lookahead<F&&0!==t.strm.avail_in)}function st(t,e){for(var r,n;;){if(t.lookahead<F){if(at(t),t.lookahead<F&&e===h)return W;if(0===t.lookahead)break}if(r=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-F&&(t.match_length=ot(t,r)),t.match_length>=O)if(n=o._tr_tally(t,t.strstart-t.match_start,t.match_length-O),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=O){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=t.strstart<O-1?t.strstart:O-1,e===c?(et(t,!0),0===t.strm.avail_out?Y:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:G}function ut(t,e){for(var r,n,i;;){if(t.lookahead<F){if(at(t),t.lookahead<F&&e===h)return W;if(0===t.lookahead)break}if(r=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=O-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-F&&(t.match_length=ot(t,r),t.match_length<=5&&(t.strategy===y||t.match_length===O&&t.strstart-t.match_start>4096)&&(t.match_length=O-1)),t.prev_length>=O&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-O,n=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-O),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=O-1,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return W}else if(t.match_available){if((n=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return W}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<O-1?t.strstart:O-1,e===c?(et(t,!0),0===t.strm.avail_out?Y:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:G}function ht(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}function ft(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=A,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?U:H,t.adler=2===e.wrap?0:1,e.last_flush=h,o._tr_init(e),p):Q(t,g)}function lt(t){var e=ft(t);return e===p&&function(t){t.window_size=2*t.w_size,$(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=O-1,t.match_available=0,t.ins_h=0}(t.state),e}function ct(t,e,r,n,o,a){if(!t)return g;var s=1;if(e===b&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),o<1||o>k||r!==T||n<8||n>15||e<0||e>9||a<0||a>M)return Q(t,g);8===n&&(n=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*P),this.dyn_dtree=new i.Buf16(2*(2*I+1)),this.bl_tree=new i.Buf16(2*(2*L+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(N+1),this.heap=new i.Buf16(2*C+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*C+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+O-1)/O),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=a,u.method=r,lt(t)}n=[new ht(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===h)return W;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,et(t,!1),0===t.strm.avail_out))return W;if(t.strstart-t.block_start>=t.w_size-F&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===c?(et(t,!0),0===t.strm.avail_out?Y:Z):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),W)}),new ht(4,4,8,4,st),new ht(4,5,16,8,st),new ht(4,6,32,32,st),new ht(4,4,16,16,ut),new ht(8,16,32,32,ut),new ht(8,16,128,128,ut),new ht(8,32,128,256,ut),new ht(32,128,258,1024,ut),new ht(32,258,258,4096,ut)],e.deflateInit=function(t,e){return ct(t,e,T,S,R,E)},e.deflateInit2=ct,e.deflateReset=lt,e.deflateResetKeep=ft,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,p):g},e.deflate=function(t,e){var r,i,a,u;if(!t||!t.state||e>d||e<0)return t?Q(t,g):g;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||i.status===X&&e!==c)return Q(t,0===t.avail_out?_:g);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===U)if(2===i.wrap)t.adler=0,rt(i,31),rt(i,139),rt(i,8),i.gzhead?(rt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),rt(i,255&i.gzhead.time),rt(i,i.gzhead.time>>8&255),rt(i,i.gzhead.time>>16&255),rt(i,i.gzhead.time>>24&255),rt(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),rt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(rt(i,255&i.gzhead.extra.length),rt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=j):(rt(i,0),rt(i,0),rt(i,0),rt(i,0),rt(i,0),rt(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),rt(i,K),i.status=H);else{var m=T+(i.w_bits-8<<4)<<8;m|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(m|=D),m+=31-m%31,i.status=H,nt(i,m),0!==i.strstart&&(nt(i,t.adler>>>16),nt(i,65535&t.adler)),t.adler=1}if(i.status===j)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending!==i.pending_buf_size));)rt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=z)}else i.status=z;if(i.status===z)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,rt(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.gzindex=0,i.status=V)}else i.status=V;if(i.status===V)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),tt(t),a=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,rt(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>a&&(t.adler=s(t.adler,i.pending_buf,i.pending-a,a)),0===u&&(i.status=q)}else i.status=q;if(i.status===q&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&tt(t),i.pending+2<=i.pending_buf_size&&(rt(i,255&t.adler),rt(i,t.adler>>8&255),t.adler=0,i.status=H)):i.status=H),0!==i.pending){if(tt(t),0===t.avail_out)return i.last_flush=-1,p}else if(0===t.avail_in&&J(e)<=J(r)&&e!==c)return Q(t,_);if(i.status===X&&0!==t.avail_in)return Q(t,_);if(0!==t.avail_in||0!==i.lookahead||e!==h&&i.status!==X){var b=i.strategy===w?function(t,e){for(var r;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===h)return W;break}if(t.match_length=0,r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===c?(et(t,!0),0===t.strm.avail_out?Y:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:G}(i,e):i.strategy===x?function(t,e){for(var r,n,i,a,s=t.window;;){if(t.lookahead<=B){if(at(t),t.lookahead<=B&&e===h)return W;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=O&&t.strstart>0&&(n=s[i=t.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=t.strstart+B;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=B-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=O?(r=o._tr_tally(t,1,t.match_length-O),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(et(t,!1),0===t.strm.avail_out))return W}return t.insert=0,e===c?(et(t,!0),0===t.strm.avail_out?Y:Z):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?W:G}(i,e):n[i.level].func(i,e);if(b!==Y&&b!==Z||(i.status=X),b===W||b===Y)return 0===t.avail_out&&(i.last_flush=-1),p;if(b===G&&(e===f?o._tr_align(i):e!==d&&(o._tr_stored_block(i,0,0,!1),e===l&&($(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),tt(t),0===t.avail_out))return i.last_flush=-1,p}return e!==c?p:i.wrap<=0?v:(2===i.wrap?(rt(i,255&t.adler),rt(i,t.adler>>8&255),rt(i,t.adler>>16&255),rt(i,t.adler>>24&255),rt(i,255&t.total_in),rt(i,t.total_in>>8&255),rt(i,t.total_in>>16&255),rt(i,t.total_in>>24&255)):(nt(i,t.adler>>>16),nt(i,65535&t.adler)),tt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:v)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==U&&e!==j&&e!==z&&e!==V&&e!==q&&e!==H&&e!==X?Q(t,g):(t.state=null,e===H?Q(t,m):p):g},e.deflateSetDictionary=function(t,e){var r,n,o,s,u,h,f,l,c=e.length;if(!t||!t.state)return g;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==U||r.lookahead)return g;for(1===s&&(t.adler=a(t.adler,e,c,0)),r.wrap=0,c>=r.w_size&&(0===s&&($(r.head),r.strstart=0,r.block_start=0,r.insert=0),l=new i.Buf8(r.w_size),i.arraySet(l,e,c-r.w_size,r.w_size,0),e=l,c=r.w_size),u=t.avail_in,h=t.next_in,f=t.input,t.avail_in=c,t.next_in=0,t.input=e,at(r);r.lookahead>=O;){n=r.strstart,o=r.lookahead-(O-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+O-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--o);r.strstart=n,r.lookahead=O-1,at(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=O-1,r.match_available=0,t.next_in=h,t.input=f,t.avail_in=u,r.wrap=s,p},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,r){"use strict";var n=r(6),i=4,o=0,a=1,s=2;function u(t){for(var e=t.length;--e>=0;)t[e]=0}var h=0,f=1,l=2,c=29,d=256,p=d+1+c,v=30,g=19,m=2*p+1,_=15,b=16,y=7,w=256,x=16,M=17,E=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(p+2));u(R);var C=new Array(2*v);u(C);var I=new Array(512);u(I);var L=new Array(256);u(L);var P=new Array(c);u(P);var N,O,B,F=new Array(v);function D(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function j(t){return t<256?I[t]:I[256+(t>>>7)]}function z(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function V(t,e,r){t.bi_valid>b-r?(t.bi_buf|=e<<t.bi_valid&65535,z(t,t.bi_buf),t.bi_buf=e>>b-t.bi_valid,t.bi_valid+=r-b):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function q(t,e,r){V(t,r[2*e],r[2*e+1])}function H(t,e){var r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1}function X(t,e,r){var n,i,o=new Array(_+1),a=0;for(n=1;n<=_;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=H(o[s]++,s))}}function W(t){var e;for(e=0;e<p;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*w]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function G(t){t.bi_valid>8?z(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Y(t,e,r,n){var i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]}function Z(t,e,r){for(var n=t.heap[r],i=r<<1;i<=t.heap_len&&(i<t.heap_len&&Y(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!Y(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n}function K(t,e,r){var n,i,o,a,s=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===n?q(t,i,e):(q(t,(o=L[i])+d+1,e),0!==(a=A[o])&&V(t,i-=P[o],a),q(t,o=j(--n),r),0!==(a=T[o])&&V(t,n-=F[o],a))}while(s<t.last_lit);q(t,w,e)}function Q(t,e){var r,n,i,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=m,r=0;r<u;r++)0!==o[2*r]?(t.heap[++t.heap_len]=h=r,t.depth[r]=0):o[2*r+1]=0;for(;t.heap_len<2;)o[2*(i=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=a[2*i+1]);for(e.max_code=h,r=t.heap_len>>1;r>=1;r--)Z(t,o,r);i=u;do{r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Z(t,o,1),n=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=n,o[2*i]=o[2*r]+o[2*n],t.depth[i]=(t.depth[r]>=t.depth[n]?t.depth[r]:t.depth[n])+1,o[2*r+1]=o[2*n+1]=i,t.heap[1]=i++,Z(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,n,i,o,a,s,u=e.dyn_tree,h=e.max_code,f=e.stat_desc.static_tree,l=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(o=0;o<=_;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<m;r++)(o=u[2*u[2*(n=t.heap[r])+1]+1]+1)>p&&(o=p,v++),u[2*n+1]=o,n>h||(t.bl_count[o]++,a=0,n>=d&&(a=c[n-d]),s=u[2*n],t.opt_len+=s*(o+a),l&&(t.static_len+=s*(f[2*n+1]+a)));if(0!==v){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)(i=t.heap[--r])>h||(u[2*i+1]!==o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}(t,e),X(o,h,t.bl_count)}function J(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,h=4;for(0===a&&(u=138,h=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=e[2*(n+1)+1],++s<u&&i===a||(s<h?t.bl_tree[2*i]+=s:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[2*x]++):s<=10?t.bl_tree[2*M]++:t.bl_tree[2*E]++,s=0,o=i,0===a?(u=138,h=3):i===a?(u=6,h=3):(u=7,h=4))}function $(t,e,r){var n,i,o=-1,a=e[1],s=0,u=7,h=4;for(0===a&&(u=138,h=3),n=0;n<=r;n++)if(i=a,a=e[2*(n+1)+1],!(++s<u&&i===a)){if(s<h)do{q(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(q(t,i,t.bl_tree),s--),q(t,x,t.bl_tree),V(t,s-3,2)):s<=10?(q(t,M,t.bl_tree),V(t,s-3,3)):(q(t,E,t.bl_tree),V(t,s-11,7));s=0,o=i,0===a?(u=138,h=3):i===a?(u=6,h=3):(u=7,h=4)}}u(F);var tt=!1;function et(t,e,r,i){V(t,(h<<1)+(i?1:0),3),function(t,e,r,i){G(t),i&&(z(t,r),z(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}e._tr_init=function(t){tt||(function(){var t,e,r,n,i,o=new Array(_+1);for(r=0,n=0;n<c-1;n++)for(P[n]=r,t=0;t<1<<A[n];t++)L[r++]=n;for(L[r-1]=n,i=0,n=0;n<16;n++)for(F[n]=i,t=0;t<1<<T[n];t++)I[i++]=n;for(i>>=7;n<v;n++)for(F[n]=i<<7,t=0;t<1<<T[n]-7;t++)I[256+i++]=n;for(e=0;e<=_;e++)o[e]=0;for(t=0;t<=143;)R[2*t+1]=8,t++,o[8]++;for(;t<=255;)R[2*t+1]=9,t++,o[9]++;for(;t<=279;)R[2*t+1]=7,t++,o[7]++;for(;t<=287;)R[2*t+1]=8,t++,o[8]++;for(X(R,p+1,o),t=0;t<v;t++)C[2*t+1]=5,C[2*t]=H(t,5);N=new D(R,A,d+1,p,_),O=new D(C,T,0,v,_),B=new D(new Array(0),k,0,g,y)}(),tt=!0),t.l_desc=new U(t.dyn_ltree,N),t.d_desc=new U(t.dyn_dtree,O),t.bl_desc=new U(t.bl_tree,B),t.bi_buf=0,t.bi_valid=0,W(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,r,n){var u,h,c=0;t.level>0?(t.strm.data_type===s&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return a;for(e=32;e<d;e++)if(0!==t.dyn_ltree[2*e])return a;return o}(t)),Q(t,t.l_desc),Q(t,t.d_desc),c=function(t){var e;for(J(t,t.dyn_ltree,t.l_desc.max_code),J(t,t.dyn_dtree,t.d_desc.max_code),Q(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),u=t.opt_len+3+7>>>3,(h=t.static_len+3+7>>>3)<=u&&(u=h)):u=h=r+5,r+4<=u&&-1!==e?et(t,e,r,n):t.strategy===i||h===u?(V(t,(f<<1)+(n?1:0),3),K(t,R,C)):(V(t,(l<<1)+(n?1:0),3),function(t,e,r,n){var i;for(V(t,e-257,5),V(t,r-1,5),V(t,n-4,4),i=0;i<n;i++)V(t,t.bl_tree[2*S[i]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),n&&G(t)},e._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(L[r]+d+1)]++,t.dyn_dtree[2*j(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){V(t,f<<1,3),q(t,w,R),function(t){16===t.bi_valid?(z(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,r){"use strict";var n=r(165),i=r(6),o=r(74),a=r(76),s=r(43),u=r(75),h=r(168),f=Object.prototype.toString;function l(t){if(!(this instanceof l))return new l(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,e.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new h,n.inflateGetHeader(this.strm,this.header)}function c(t,e){var r=new l(e);if(r.push(t,!0),r.err)throw r.msg||s[r.err];return r.result}l.prototype.push=function(t,e){var r,s,u,h,l,c,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof t?d.input=o.binstring2buf(t):"[object ArrayBuffer]"===f.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(r=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&v&&(c="string"==typeof v?o.string2buf(v):"[object ArrayBuffer]"===f.call(v)?new Uint8Array(v):v,r=n.inflateSetDictionary(this.strm,c)),r===a.Z_BUF_ERROR&&!0===g&&(r=a.Z_OK,g=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(u=o.utf8border(d.output,d.next_out),h=d.next_out-u,l=o.buf2string(d.output,u),d.next_out=h,d.avail_out=p-h,h&&i.arraySet(d.output,d.output,u,h,0),this.onData(l)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},l.prototype.onData=function(t){this.chunks.push(t)},l.prototype.onEnd=function(t){t===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=l,e.inflate=c,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.ungzip=c},function(t,e,r){"use strict";var n=r(6),i=r(72),o=r(73),a=r(166),s=r(167),u=0,h=1,f=2,l=4,c=5,d=6,p=0,v=1,g=2,m=-2,_=-3,b=-4,y=-5,w=8,x=1,M=2,E=3,A=4,T=5,k=6,S=7,R=8,C=9,I=10,L=11,P=12,N=13,O=14,B=15,F=16,D=17,U=18,j=19,z=20,V=21,q=22,H=23,X=24,W=25,G=26,Y=27,Z=28,K=29,Q=30,J=31,$=32,tt=852,et=592,rt=15;function nt(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function it(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=x,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new n.Buf32(tt),e.distcode=e.distdyn=new n.Buf32(et),e.sane=1,e.back=-1,p):m}function ot(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,it(t)):m}function at(t,e){var r,n;return t&&t.state?(n=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?m:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,ot(t))):m}function st(t,e){var r,i;return t?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=i,i.window=null,(r=at(t,e))!==p&&(t.state=null),r):m}var ut,ht,ft=!0;function lt(t){if(ft){var e;for(ut=new n.Buf32(512),ht=new n.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(h,t.lens,0,288,ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(f,t.lens,0,32,ht,0,t.work,{bits:5}),ft=!1}t.lencode=ut,t.lenbits=9,t.distcode=ht,t.distbits=5}function ct(t,e,r,i){var o,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,e,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),n.arraySet(a.window,e,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,e,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}e.inflateReset=ot,e.inflateReset2=at,e.inflateResetKeep=it,e.inflateInit=function(t){return st(t,rt)},e.inflateInit2=st,e.inflate=function(t,e){var r,tt,et,rt,it,ot,at,st,ut,ht,ft,dt,pt,vt,gt,mt,_t,bt,yt,wt,xt,Mt,Et,At,Tt=0,kt=new n.Buf8(4),St=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return m;(r=t.state).mode===P&&(r.mode=N),it=t.next_out,et=t.output,at=t.avail_out,rt=t.next_in,tt=t.input,ot=t.avail_in,st=r.hold,ut=r.bits,ht=ot,ft=at,Mt=p;t:for(;;)switch(r.mode){case x:if(0===r.wrap){r.mode=N;break}for(;ut<16;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(2&r.wrap&&35615===st){r.check=0,kt[0]=255&st,kt[1]=st>>>8&255,r.check=o(r.check,kt,2,0),st=0,ut=0,r.mode=M;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&st)<<8)+(st>>8))%31){t.msg="incorrect header check",r.mode=Q;break}if((15&st)!==w){t.msg="unknown compression method",r.mode=Q;break}if(ut-=4,xt=8+(15&(st>>>=4)),0===r.wbits)r.wbits=xt;else if(xt>r.wbits){t.msg="invalid window size",r.mode=Q;break}r.dmax=1<<xt,t.adler=r.check=1,r.mode=512&st?I:P,st=0,ut=0;break;case M:for(;ut<16;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(r.flags=st,(255&r.flags)!==w){t.msg="unknown compression method",r.mode=Q;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Q;break}r.head&&(r.head.text=st>>8&1),512&r.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,r.check=o(r.check,kt,2,0)),st=0,ut=0,r.mode=E;case E:for(;ut<32;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}r.head&&(r.head.time=st),512&r.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,kt[2]=st>>>16&255,kt[3]=st>>>24&255,r.check=o(r.check,kt,4,0)),st=0,ut=0,r.mode=A;case A:for(;ut<16;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}r.head&&(r.head.xflags=255&st,r.head.os=st>>8),512&r.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,r.check=o(r.check,kt,2,0)),st=0,ut=0,r.mode=T;case T:if(1024&r.flags){for(;ut<16;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}r.length=st,r.head&&(r.head.extra_len=st),512&r.flags&&(kt[0]=255&st,kt[1]=st>>>8&255,r.check=o(r.check,kt,2,0)),st=0,ut=0}else r.head&&(r.head.extra=null);r.mode=k;case k:if(1024&r.flags&&((dt=r.length)>ot&&(dt=ot),dt&&(r.head&&(xt=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,tt,rt,dt,xt)),512&r.flags&&(r.check=o(r.check,tt,dt,rt)),ot-=dt,rt+=dt,r.length-=dt),r.length))break t;r.length=0,r.mode=S;case S:if(2048&r.flags){if(0===ot)break t;dt=0;do{xt=tt[rt+dt++],r.head&&xt&&r.length<65536&&(r.head.name+=String.fromCharCode(xt))}while(xt&&dt<ot);if(512&r.flags&&(r.check=o(r.check,tt,dt,rt)),ot-=dt,rt+=dt,xt)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=R;case R:if(4096&r.flags){if(0===ot)break t;dt=0;do{xt=tt[rt+dt++],r.head&&xt&&r.length<65536&&(r.head.comment+=String.fromCharCode(xt))}while(xt&&dt<ot);if(512&r.flags&&(r.check=o(r.check,tt,dt,rt)),ot-=dt,rt+=dt,xt)break t}else r.head&&(r.head.comment=null);r.mode=C;case C:if(512&r.flags){for(;ut<16;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(st!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Q;break}st=0,ut=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=P;break;case I:for(;ut<32;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}t.adler=r.check=nt(st),st=0,ut=0,r.mode=L;case L:if(0===r.havedict)return t.next_out=it,t.avail_out=at,t.next_in=rt,t.avail_in=ot,r.hold=st,r.bits=ut,g;t.adler=r.check=1,r.mode=P;case P:if(e===c||e===d)break t;case N:if(r.last){st>>>=7&ut,ut-=7&ut,r.mode=Y;break}for(;ut<3;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}switch(r.last=1&st,ut-=1,3&(st>>>=1)){case 0:r.mode=O;break;case 1:if(lt(r),r.mode=z,e===d){st>>>=2,ut-=2;break t}break;case 2:r.mode=D;break;case 3:t.msg="invalid block type",r.mode=Q}st>>>=2,ut-=2;break;case O:for(st>>>=7&ut,ut-=7&ut;ut<32;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if((65535&st)!=(st>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Q;break}if(r.length=65535&st,st=0,ut=0,r.mode=B,e===d)break t;case B:r.mode=F;case F:if(dt=r.length){if(dt>ot&&(dt=ot),dt>at&&(dt=at),0===dt)break t;n.arraySet(et,tt,rt,dt,it),ot-=dt,rt+=dt,at-=dt,it+=dt,r.length-=dt;break}r.mode=P;break;case D:for(;ut<14;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(r.nlen=257+(31&st),st>>>=5,ut-=5,r.ndist=1+(31&st),st>>>=5,ut-=5,r.ncode=4+(15&st),st>>>=4,ut-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Q;break}r.have=0,r.mode=U;case U:for(;r.have<r.ncode;){for(;ut<3;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}r.lens[St[r.have++]]=7&st,st>>>=3,ut-=3}for(;r.have<19;)r.lens[St[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Et={bits:r.lenbits},Mt=s(u,r.lens,0,19,r.lencode,0,r.work,Et),r.lenbits=Et.bits,Mt){t.msg="invalid code lengths set",r.mode=Q;break}r.have=0,r.mode=j;case j:for(;r.have<r.nlen+r.ndist;){for(;mt=(Tt=r.lencode[st&(1<<r.lenbits)-1])>>>16&255,_t=65535&Tt,!((gt=Tt>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(_t<16)st>>>=gt,ut-=gt,r.lens[r.have++]=_t;else{if(16===_t){for(At=gt+2;ut<At;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(st>>>=gt,ut-=gt,0===r.have){t.msg="invalid bit length repeat",r.mode=Q;break}xt=r.lens[r.have-1],dt=3+(3&st),st>>>=2,ut-=2}else if(17===_t){for(At=gt+3;ut<At;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}ut-=gt,xt=0,dt=3+(7&(st>>>=gt)),st>>>=3,ut-=3}else{for(At=gt+7;ut<At;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}ut-=gt,xt=0,dt=11+(127&(st>>>=gt)),st>>>=7,ut-=7}if(r.have+dt>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Q;break}for(;dt--;)r.lens[r.have++]=xt}}if(r.mode===Q)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Q;break}if(r.lenbits=9,Et={bits:r.lenbits},Mt=s(h,r.lens,0,r.nlen,r.lencode,0,r.work,Et),r.lenbits=Et.bits,Mt){t.msg="invalid literal/lengths set",r.mode=Q;break}if(r.distbits=6,r.distcode=r.distdyn,Et={bits:r.distbits},Mt=s(f,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Et),r.distbits=Et.bits,Mt){t.msg="invalid distances set",r.mode=Q;break}if(r.mode=z,e===d)break t;case z:r.mode=V;case V:if(ot>=6&&at>=258){t.next_out=it,t.avail_out=at,t.next_in=rt,t.avail_in=ot,r.hold=st,r.bits=ut,a(t,ft),it=t.next_out,et=t.output,at=t.avail_out,rt=t.next_in,tt=t.input,ot=t.avail_in,st=r.hold,ut=r.bits,r.mode===P&&(r.back=-1);break}for(r.back=0;mt=(Tt=r.lencode[st&(1<<r.lenbits)-1])>>>16&255,_t=65535&Tt,!((gt=Tt>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(mt&&0==(240&mt)){for(bt=gt,yt=mt,wt=_t;mt=(Tt=r.lencode[wt+((st&(1<<bt+yt)-1)>>bt)])>>>16&255,_t=65535&Tt,!(bt+(gt=Tt>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}st>>>=bt,ut-=bt,r.back+=bt}if(st>>>=gt,ut-=gt,r.back+=gt,r.length=_t,0===mt){r.mode=G;break}if(32&mt){r.back=-1,r.mode=P;break}if(64&mt){t.msg="invalid literal/length code",r.mode=Q;break}r.extra=15&mt,r.mode=q;case q:if(r.extra){for(At=r.extra;ut<At;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}r.length+=st&(1<<r.extra)-1,st>>>=r.extra,ut-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=H;case H:for(;mt=(Tt=r.distcode[st&(1<<r.distbits)-1])>>>16&255,_t=65535&Tt,!((gt=Tt>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(0==(240&mt)){for(bt=gt,yt=mt,wt=_t;mt=(Tt=r.distcode[wt+((st&(1<<bt+yt)-1)>>bt)])>>>16&255,_t=65535&Tt,!(bt+(gt=Tt>>>24)<=ut);){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}st>>>=bt,ut-=bt,r.back+=bt}if(st>>>=gt,ut-=gt,r.back+=gt,64&mt){t.msg="invalid distance code",r.mode=Q;break}r.offset=_t,r.extra=15&mt,r.mode=X;case X:if(r.extra){for(At=r.extra;ut<At;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}r.offset+=st&(1<<r.extra)-1,st>>>=r.extra,ut-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Q;break}r.mode=W;case W:if(0===at)break t;if(dt=ft-at,r.offset>dt){if((dt=r.offset-dt)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Q;break}dt>r.wnext?(dt-=r.wnext,pt=r.wsize-dt):pt=r.wnext-dt,dt>r.length&&(dt=r.length),vt=r.window}else vt=et,pt=it-r.offset,dt=r.length;dt>at&&(dt=at),at-=dt,r.length-=dt;do{et[it++]=vt[pt++]}while(--dt);0===r.length&&(r.mode=V);break;case G:if(0===at)break t;et[it++]=r.length,at--,r.mode=V;break;case Y:if(r.wrap){for(;ut<32;){if(0===ot)break t;ot--,st|=tt[rt++]<<ut,ut+=8}if(ft-=at,t.total_out+=ft,r.total+=ft,ft&&(t.adler=r.check=r.flags?o(r.check,et,ft,it-ft):i(r.check,et,ft,it-ft)),ft=at,(r.flags?st:nt(st))!==r.check){t.msg="incorrect data check",r.mode=Q;break}st=0,ut=0}r.mode=Z;case Z:if(r.wrap&&r.flags){for(;ut<32;){if(0===ot)break t;ot--,st+=tt[rt++]<<ut,ut+=8}if(st!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Q;break}st=0,ut=0}r.mode=K;case K:Mt=v;break t;case Q:Mt=_;break t;case J:return b;case $:default:return m}return t.next_out=it,t.avail_out=at,t.next_in=rt,t.avail_in=ot,r.hold=st,r.bits=ut,(r.wsize||ft!==t.avail_out&&r.mode<Q&&(r.mode<Y||e!==l))&&ct(t,t.output,t.next_out,ft-t.avail_out)?(r.mode=J,b):(ht-=t.avail_in,ft-=t.avail_out,t.total_in+=ht,t.total_out+=ft,r.total+=ft,r.wrap&&ft&&(t.adler=r.check=r.flags?o(r.check,et,ft,t.next_out-ft):i(r.check,et,ft,t.next_out-ft)),t.data_type=r.bits+(r.last?64:0)+(r.mode===P?128:0)+(r.mode===z||r.mode===B?256:0),(0===ht&&0===ft||e===l)&&Mt===p&&(Mt=y),Mt)},e.inflateEnd=function(t){if(!t||!t.state)return m;var e=t.state;return e.window&&(e.window=null),t.state=null,p},e.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?m:(r.head=e,e.done=!1,p):m},e.inflateSetDictionary=function(t,e){var r,n=e.length;return t&&t.state?0!==(r=t.state).wrap&&r.mode!==L?m:r.mode===L&&i(1,e,n,0)!==r.check?_:ct(t,e,n,n)?(r.mode=J,b):(r.havedict=1,p):m},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,r){"use strict";t.exports=function(t,e){var r,n,i,o,a,s,u,h,f,l,c,d,p,v,g,m,_,b,y,w,x,M,E,A,T;r=t.state,n=t.next_in,A=t.input,i=n+(t.avail_in-5),o=t.next_out,T=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),u=r.dmax,h=r.wsize,f=r.whave,l=r.wnext,c=r.window,d=r.hold,p=r.bits,v=r.lencode,g=r.distcode,m=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;t:do{p<15&&(d+=A[n++]<<p,p+=8,d+=A[n++]<<p,p+=8),b=v[d&m];e:for(;;){if(d>>>=y=b>>>24,p-=y,0===(y=b>>>16&255))T[o++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=v[(65535&b)+(d&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg="invalid literal/length code",r.mode=30;break t}w=65535&b,(y&=15)&&(p<y&&(d+=A[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=A[n++]<<p,p+=8,d+=A[n++]<<p,p+=8),b=g[d&_];r:for(;;){if(d>>>=y=b>>>24,p-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=g[(65535&b)+(d&(1<<y)-1)];continue r}t.msg="invalid distance code",r.mode=30;break t}if(x=65535&b,p<(y&=15)&&(d+=A[n++]<<p,(p+=8)<y&&(d+=A[n++]<<p,p+=8)),(x+=d&(1<<y)-1)>u){t.msg="invalid distance too far back",r.mode=30;break t}if(d>>>=y,p-=y,x>(y=o-a)){if((y=x-y)>f&&r.sane){t.msg="invalid distance too far back",r.mode=30;break t}if(M=0,E=c,0===l){if(M+=h-y,y<w){w-=y;do{T[o++]=c[M++]}while(--y);M=o-x,E=T}}else if(l<y){if(M+=h+l-y,(y-=l)<w){w-=y;do{T[o++]=c[M++]}while(--y);if(M=0,l<w){w-=y=l;do{T[o++]=c[M++]}while(--y);M=o-x,E=T}}}else if(M+=l-y,y<w){w-=y;do{T[o++]=c[M++]}while(--y);M=o-x,E=T}for(;w>2;)T[o++]=E[M++],T[o++]=E[M++],T[o++]=E[M++],w-=3;w&&(T[o++]=E[M++],w>1&&(T[o++]=E[M++]))}else{M=o-x;do{T[o++]=T[M++],T[o++]=T[M++],T[o++]=T[M++],w-=3}while(w>2);w&&(T[o++]=T[M++],w>1&&(T[o++]=T[M++]))}break}}break}}while(n<i&&o<s);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=o<s?s-o+257:257-(o-s),r.hold=d,r.bits=p}},function(t,e,r){"use strict";var n=r(6),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,r,u,h,f,l,c){var d,p,v,g,m,_,b,y,w,x=c.bits,M=0,E=0,A=0,T=0,k=0,S=0,R=0,C=0,I=0,L=0,P=null,N=0,O=new n.Buf16(16),B=new n.Buf16(16),F=null,D=0;for(M=0;M<=15;M++)O[M]=0;for(E=0;E<u;E++)O[e[r+E]]++;for(k=x,T=15;T>=1&&0===O[T];T--);if(k>T&&(k=T),0===T)return h[f++]=20971520,h[f++]=20971520,c.bits=1,0;for(A=1;A<T&&0===O[A];A++);for(k<A&&(k=A),C=1,M=1;M<=15;M++)if(C<<=1,(C-=O[M])<0)return-1;if(C>0&&(0===t||1!==T))return-1;for(B[1]=0,M=1;M<15;M++)B[M+1]=B[M]+O[M];for(E=0;E<u;E++)0!==e[r+E]&&(l[B[e[r+E]]++]=E);if(0===t?(P=F=l,_=19):1===t?(P=i,N-=257,F=o,D-=257,_=256):(P=a,F=s,_=-1),L=0,E=0,M=A,m=f,S=k,R=0,v=-1,g=(I=1<<k)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){b=M-R,l[E]<_?(y=0,w=l[E]):l[E]>_?(y=F[D+l[E]],w=P[N+l[E]]):(y=96,w=0),d=1<<M-R,A=p=1<<S;do{h[m+(L>>R)+(p-=d)]=b<<24|y<<16|w|0}while(0!==p);for(d=1<<M-1;L&d;)d>>=1;if(0!==d?(L&=d-1,L+=d):L=0,E++,0==--O[M]){if(M===T)break;M=e[r+l[E]]}if(M>k&&(L&g)!==v){for(0===R&&(R=k),m+=A,C=1<<(S=M-R);S+R<T&&!((C-=O[S+R])<=0);)S++,C<<=1;if(I+=1<<S,1===t&&I>852||2===t&&I>592)return 1;h[v=L&g]=k<<24|S<<16|m-f|0}}return 0!==L&&(h[m+L]=M-R<<24|64<<16|0),c.bits=k,0}},function(t,e,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,r){"use strict";var n=r(0),i=r(1),o=r(13),a=r(42),s=r(77),u=function(t,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&t),t>>>=8;return n},h=function(t,e,r,i,h,f){var l,c,d=t.file,p=t.compression,v=f!==o.utf8encode,g=n.transformTo("string",f(d.name)),m=n.transformTo("string",o.utf8encode(d.name)),_=d.comment,b=n.transformTo("string",f(_)),y=n.transformTo("string",o.utf8encode(_)),w=m.length!==d.name.length,x=y.length!==_.length,M="",E="",A="",T=d.dir,k=d.date,S={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(S.crc32=t.crc32,S.compressedSize=t.compressedSize,S.uncompressedSize=t.uncompressedSize);var R=0;e&&(R|=8),v||!w&&!x||(R|=2048);var C=0,I=0;T&&(C|=16),"UNIX"===h?(I=798,C|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(d.unixPermissions,T)):(I=20,C|=function(t,e){return 63&(t||0)}(d.dosPermissions)),l=k.getUTCHours(),l<<=6,l|=k.getUTCMinutes(),l<<=5,l|=k.getUTCSeconds()/2,c=k.getUTCFullYear()-1980,c<<=4,c|=k.getUTCMonth()+1,c<<=5,c|=k.getUTCDate(),w&&(E=u(1,1)+u(a(g),4)+m,M+="up"+u(E.length,2)+E),x&&(A=u(1,1)+u(a(b),4)+y,M+="uc"+u(A.length,2)+A);var L="";return L+="\n\0",L+=u(R,2),L+=p.magic,L+=u(l,2),L+=u(c,2),L+=u(S.crc32,4),L+=u(S.compressedSize,4),L+=u(S.uncompressedSize,4),L+=u(g.length,2),L+=u(M.length,2),{fileRecord:s.LOCAL_FILE_HEADER+L+g+M,dirRecord:s.CENTRAL_FILE_HEADER+u(I,2)+L+u(b.length,2)+"\0\0\0\0"+u(C,4)+u(i,4)+g+M+b}};function f(t,e,r,n){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}n.inherits(f,i),f.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,i.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},f.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=h(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=h(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return s.DATA_DESCRIPTOR+u(t.crc32,4)+u(t.compressedSize,4)+u(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,o){var a=n.transformTo("string",o(i));return s.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(t,2)+u(t,2)+u(e,4)+u(r,4)+u(a.length,2)+a}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},f.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(t){var e=this._sources;if(!i.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},f.prototype.lock=function(){i.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=f},function(t,e,r){"use strict";var n=r(0),i=r(1);function o(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}n.inherits(o,i),o.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},function(t,e,r){"use strict";var n=r(0),i=r(21),o=r(13),a=(n=r(0),r(172)),s=r(70),u=r(28);function h(t){return new i.Promise(function(e,r){var n=t.decompressed.getContentWorker().pipe(new s);n.on("error",function(t){r(t)}).on("end",function(){n.streamInfo.crc32!==t.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}t.exports=function(t,e){var r=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var r=new a(e);return r.load(t),r}).then(function(t){var r=[i.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var o=0;o<n.length;o++)r.push(h(n[o]));return i.Promise.all(r)}).then(function(t){for(var n=t.shift(),i=n.files,o=0;o<i.length;o++){var a=i[o];r.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return n.zipComment.length&&(r.comment=n.zipComment),r})}},function(t,e,r){"use strict";var n=r(78),i=r(0),o=r(77),a=r(175),s=(r(13),r(5));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var n=this.reader.readString(4)===e;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",r=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,n=this.zip64EndOfCentralSize-44;0<n;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=e-r;if(n>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=u},function(t,e,r){"use strict";var n=r(80);function i(t){n.call(this,t)}r(0).inherits(i,n),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";var n=r(81);function i(t){n.call(this,t)}r(0).inherits(i,n),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=i},function(t,e,r){"use strict";var n=r(78),i=r(0),o=r(41),a=r(42),s=r(13),u=r(71),h=r(5);function f(t,e){this.options=t,this.loadOptions=e}f.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,n,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<i;)e=t.readInt(2),r=t.readInt(2),n=t.readData(r),this.extraFields[e]={id:e,length:r,value:n}},handleUTF8:function(){var t=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=i.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=i.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},t.exports=f},function(t,e,r){"use strict";t.exports=function(t,e){t=t||document.body,e=e||{};var r=[.01,1/0];"distanceLimits"in e&&(r[0]=e.distanceLimits[0],r[1]=e.distanceLimits[1]);"zoomMin"in e&&(r[0]=e.zoomMin);"zoomMax"in e&&(r[1]=e.zoomMax);var h=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||"orbit",distanceLimits:r}),f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=0,c=t.clientWidth,d=t.clientHeight,p={view:h,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:h.modes,tick:function(){var e=n(),r=this.delay;h.idle(e-r),h.flush(e-(100+2*r));var i=e-2*r;h.recalcMatrix(i);for(var o=!0,a=h.computedMatrix,s=0;s<16;++s)o=o&&f[s]===a[s],f[s]=a[s];var u=t.clientWidth===c&&t.clientHeight===d;return c=t.clientWidth,d=t.clientHeight,o?!u:(l=Math.exp(h.computedRadius[0]),!0)},lookAt:function(t,e,r){h.lookAt(h.lastT(),t,e,r)},rotate:function(t,e,r){h.rotate(h.lastT(),t,e,r)},pan:function(t,e,r){h.pan(h.lastT(),t,e,r)},translate:function(t,e,r){h.translate(h.lastT(),t,e,r)}};Object.defineProperties(p,{matrix:{get:function(){return h.computedMatrix},set:function(t){return h.setMatrix(h.lastT(),t),h.computedMatrix},enumerable:!0},mode:{get:function(){return h.getMode()},set:function(t){return h.setMode(t),h.getMode()},enumerable:!0},center:{get:function(){return h.computedCenter},set:function(t){return h.lookAt(h.lastT(),t),h.computedCenter},enumerable:!0},eye:{get:function(){return h.computedEye},set:function(t){return h.lookAt(h.lastT(),null,t),h.computedEye},enumerable:!0},up:{get:function(){return h.computedUp},set:function(t){return h.lookAt(h.lastT(),null,null,t),h.computedUp},enumerable:!0},distance:{get:function(){return l},set:function(t){return h.setDistance(h.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return h.getDistanceLimits(r)},set:function(t){return h.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener("contextmenu",function(t){return t.preventDefault(),!1});var v=0,g=0,m={shift:!1,control:!1,alt:!1,meta:!1};function _(e,r,i,o){var a=1/t.clientHeight,s=a*(r-v),u=a*(i-g),f=p.flipX?1:-1,c=p.flipY?1:-1,d=Math.PI*p.rotateSpeed,_=n();if(1&e)o.shift?h.rotate(_,0,0,-s*d):h.rotate(_,f*d*s,-c*d*u,0);else if(2&e)h.pan(_,-p.translateSpeed*s*l,p.translateSpeed*u*l,0);else if(4&e){var b=p.zoomSpeed*u/window.innerHeight*(_-h.lastT())*50;h.pan(_,0,0,l*(Math.exp(b)-1))}v=r,g=i,m=o}return o(t,_),t.addEventListener("touchstart",function(e){var r=s(e.changedTouches[0],t);_(0,r[0],r[1],m),_(1,r[0],r[1],m),e.preventDefault()},!!u&&{passive:!1}),t.addEventListener("touchmove",function(e){var r=s(e.changedTouches[0],t);_(1,r[0],r[1],m),e.preventDefault()},!!u&&{passive:!1}),t.addEventListener("touchend",function(e){s(e.changedTouches[0],t),_(0,v,g,m),e.preventDefault()},!!u&&{passive:!1}),a(t,function(t,e,r){var i=p.flipX?1:-1,o=p.flipY?1:-1,a=n();if(Math.abs(t)>Math.abs(e))h.rotate(a,0,0,-t*i*Math.PI*p.rotateSpeed/window.innerWidth);else{var s=p.zoomSpeed*o*e/window.innerHeight*(a-h.lastT())/100;h.pan(a,0,0,l*(Math.exp(s)-1))}},!0),p};var n=r(177),i=r(178),o=r(92),a=r(200),s=r(203),u=r(204)},function(t,e,r){(function(e){t.exports=e.performance&&e.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,r(3))},function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).eye||[0,0,1],r=t.center||[0,0,0],s=t.up||[0,1,0],u=t.distanceLimits||[0,1/0],h=t.mode||"turntable",f=n(),l=i(),c=o();return f.setDistanceLimits(u[0],u[1]),f.lookAt(0,e,r,s),l.setDistanceLimits(u[0],u[1]),l.lookAt(0,e,r,s),c.setDistanceLimits(u[0],u[1]),c.lookAt(0,e,r,s),new a({turntable:f,orbit:l,matrix:c},h)};var n=r(179),i=r(182),o=r(185);function a(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map(function(e){return t[e]}),this._mode=e,this._active=t[e],this._active||(this._mode="turntable",this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=a.prototype;[["flush",1],["idle",1],["lookAt",4],["rotate",4],["pan",4],["translate",4],["setMatrix",2],["setDistanceLimits",2],["setDistance",2]].forEach(function(t){for(var e=t[0],r=[],n=0;n<t[1];++n)r.push("a"+n);var i="var cc=this._controllerList;for(var i=0;i<cc.length;++i){cc[i]."+t[0]+"("+r.join()+")}";s[e]=Function.apply(null,r.concat(i))}),s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e<0)){var r=this._active,n=this._controllerList[e],i=Math.max(r.lastT(),n.lastT());r.recalcMatrix(i),n.setMatrix(i,r.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.up||[0,1,0],n=t.right||l(r),i=t.radius||1,o=t.theta||0,f=t.phi||0;if(e=[].slice.call(e,0,3),r=[].slice.call(r,0,3),s(r,r),n=[].slice.call(n,0,3),s(n,n),"eye"in t){var d=t.eye,p=[d[0]-e[0],d[1]-e[1],d[2]-e[2]];a(n,p,r),h(n[0],n[1],n[2])<1e-6?n=l(r):s(n,n),i=h(p[0],p[1],p[2]);var v=u(r,p)/i,g=u(n,p)/i;f=Math.acos(v),o=Math.acos(g)}return i=Math.log(i),new c(t.zoomMin,t.zoomMax,e,r,n,i,o,f)};var n=r(82),i=r(17),o=r(181),a=r(83),s=r(44),u=r(84);function h(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function f(t){return Math.min(1,Math.max(-1,t))}function l(t){var e=Math.abs(t[0]),r=Math.abs(t[1]),n=Math.abs(t[2]),i=[0,0,0];e>Math.max(r,n)?i[2]=1:r>Math.max(e,n)?i[0]=1:i[1]=1;for(var o=0,a=0,u=0;u<3;++u)o+=t[u]*t[u],a+=i[u]*t[u];for(u=0;u<3;++u)i[u]-=a/o*t[u];return s(i,i),i}function c(t,e,r,i,o,a,s,u){this.center=n(r),this.up=n(i),this.right=n(o),this.radius=n([a]),this.angle=n([s,u]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(t,e),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var h=0;h<16;++h)this.computedMatrix[h]=.5;this.recalcMatrix(0)}var d=c.prototype;d.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},d.getDistanceLimits=function(t){var e=this.radius.bounds[0];return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},d.recalcMatrix=function(t){this.center.curve(t),this.up.curve(t),this.right.curve(t),this.radius.curve(t),this.angle.curve(t);for(var e=this.computedUp,r=this.computedRight,n=0,i=0,o=0;o<3;++o)i+=e[o]*r[o],n+=e[o]*e[o];var u=Math.sqrt(n),f=0;for(o=0;o<3;++o)r[o]-=e[o]*i/n,f+=r[o]*r[o],e[o]/=u;var l=Math.sqrt(f);for(o=0;o<3;++o)r[o]/=l;var c=this.computedToward;a(c,e,r),s(c,c);var d=Math.exp(this.computedRadius[0]),p=this.computedAngle[0],v=this.computedAngle[1],g=Math.cos(p),m=Math.sin(p),_=Math.cos(v),b=Math.sin(v),y=this.computedCenter,w=g*_,x=m*_,M=b,E=-g*b,A=-m*b,T=_,k=this.computedEye,S=this.computedMatrix;for(o=0;o<3;++o){var R=w*r[o]+x*c[o]+M*e[o];S[4*o+1]=E*r[o]+A*c[o]+T*e[o],S[4*o+2]=R,S[4*o+3]=0}var C=S[1],I=S[5],L=S[9],P=S[2],N=S[6],O=S[10],B=I*O-L*N,F=L*P-C*O,D=C*N-I*P,U=h(B,F,D);B/=U,F/=U,D/=U,S[0]=B,S[4]=F,S[8]=D;for(o=0;o<3;++o)k[o]=y[o]+S[2+4*o]*d;for(o=0;o<3;++o){f=0;for(var j=0;j<3;++j)f+=S[o+4*j]*k[j];S[12+o]=-f}S[15]=1},d.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r};var p=[0,0,0];d.rotate=function(t,e,r,n){if(this.angle.move(t,e,r),n){this.recalcMatrix(t);var i=this.computedMatrix;p[0]=i[2],p[1]=i[6],p[2]=i[10];for(var a=this.computedUp,s=this.computedRight,u=this.computedToward,h=0;h<3;++h)i[4*h]=a[h],i[4*h+1]=s[h],i[4*h+2]=u[h];o(i,i,n,p);for(h=0;h<3;++h)a[h]=i[4*h],s[h]=i[4*h+1];this.up.set(t,a[0],a[1],a[2]),this.right.set(t,s[0],s[1],s[2])}},d.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var i=this.computedMatrix,o=(Math.exp(this.computedRadius[0]),i[1]),a=i[5],s=i[9],u=h(o,a,s);o/=u,a/=u,s/=u;var f=i[0],l=i[4],c=i[8],d=f*o+l*a+c*s,p=h(f-=o*d,l-=a*d,c-=s*d),v=(f/=p)*e+o*r,g=(l/=p)*e+a*r,m=(c/=p)*e+s*r;this.center.move(t,v,g,m);var _=Math.exp(this.computedRadius[0]);_=Math.max(1e-4,_+n),this.radius.set(t,Math.log(_))},d.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},d.setMatrix=function(t,e,r,n){var o=1;"number"==typeof r&&(o=0|r),(o<0||o>3)&&(o=1);var a=(o+2)%3;e||(this.recalcMatrix(t),e=this.computedMatrix);var s=e[o],u=e[o+4],l=e[o+8];if(n){var c=Math.abs(s),d=Math.abs(u),p=Math.abs(l),v=Math.max(c,d,p);c===v?(s=s<0?-1:1,u=l=0):p===v?(l=l<0?-1:1,s=u=0):(u=u<0?-1:1,s=l=0)}else{var g=h(s,u,l);s/=g,u/=g,l/=g}var m,_,b=e[a],y=e[a+4],w=e[a+8],x=b*s+y*u+w*l,M=h(b-=s*x,y-=u*x,w-=l*x),E=u*(w/=M)-l*(y/=M),A=l*(b/=M)-s*w,T=s*y-u*b,k=h(E,A,T);if(E/=k,A/=k,T/=k,this.center.jump(t,H,X,W),this.radius.idle(t),this.up.jump(t,s,u,l),this.right.jump(t,b,y,w),2===o){var S=e[1],R=e[5],C=e[9],I=S*b+R*y+C*w,L=S*E+R*A+C*T;m=B<0?-Math.PI/2:Math.PI/2,_=Math.atan2(L,I)}else{var P=e[2],N=e[6],O=e[10],B=P*s+N*u+O*l,F=P*b+N*y+O*w,D=P*E+N*A+O*T;m=Math.asin(f(B)),_=Math.atan2(D,F)}this.angle.jump(t,_,m),this.recalcMatrix(t);var U=e[2],j=e[6],z=e[10],V=this.computedMatrix;i(V,e);var q=V[15],H=V[12]/q,X=V[13]/q,W=V[14]/q,G=Math.exp(this.computedRadius[0]);this.center.jump(t,H-U*G,X-j*G,W-z*G)},d.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},d.idle=function(t){this.center.idle(t),this.up.idle(t),this.right.idle(t),this.radius.idle(t),this.angle.idle(t)},d.flush=function(t){this.center.flush(t),this.up.flush(t),this.right.flush(t),this.radius.flush(t),this.angle.flush(t)},d.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},d.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||this.computedCenter;var i=(n=n||this.computedUp)[0],o=n[1],a=n[2],s=h(i,o,a);if(!(s<1e-6)){i/=s,o/=s,a/=s;var u=e[0]-r[0],l=e[1]-r[1],c=e[2]-r[2],d=h(u,l,c);if(!(d<1e-6)){u/=d,l/=d,c/=d;var p=this.computedRight,v=p[0],g=p[1],m=p[2],_=i*v+o*g+a*m,b=h(v-=_*i,g-=_*o,m-=_*a);if(!(b<.01&&(b=h(v=o*c-a*l,g=a*u-i*c,m=i*l-o*u))<1e-6)){v/=b,g/=b,m/=b,this.up.set(t,i,o,a),this.right.set(t,v,g,m),this.center.set(t,r[0],r[1],r[2]),this.radius.set(t,Math.log(d));var y=o*m-a*g,w=a*v-i*m,x=i*g-o*v,M=h(y,w,x),E=i*u+o*l+a*c,A=v*u+g*l+m*c,T=(y/=M)*u+(w/=M)*l+(x/=M)*c,k=Math.asin(f(E)),S=Math.atan2(T,A),R=this.angle._state,C=R[R.length-1],I=R[R.length-2];C%=2*Math.PI;var L=Math.abs(C+2*Math.PI-S),P=Math.abs(C-S),N=Math.abs(C-2*Math.PI-S);L<P&&(C+=2*Math.PI),N<P&&(C-=2*Math.PI),this.angle.jump(this.angle.lastT(),C,I),this.angle.set(t,S,k)}}}}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i,o){var a=i-1,s=i*i,u=a*a,h=(1+2*i)*u,f=i*u,l=s*(3-2*i),c=s*a;if(t.length){o||(o=new Array(t.length));for(var d=t.length-1;d>=0;--d)o[d]=h*t[d]+f*e[d]+l*r[d]+c*n[d];return o}return h*t+f*e+l*r+c*n},t.exports.derivative=function(t,e,r,n,i,o){var a=6*i*i-6*i,s=3*i*i-4*i+1,u=-6*i*i+6*i,h=3*i*i-2*i;if(t.length){o||(o=new Array(t.length));for(var f=t.length-1;f>=0;--f)o[f]=a*t[f]+s*e[f]+u*r[f]+h*n[f];return o}return a*t+s*e+u*r[f]+h*n}},function(t,e){t.exports=function(t,e,r,n){var i,o,a,s,u,h,f,l,c,d,p,v,g,m,_,b,y,w,x,M,E,A,T,k,S=n[0],R=n[1],C=n[2],I=Math.sqrt(S*S+R*R+C*C);if(Math.abs(I)<1e-6)return null;S*=I=1/I,R*=I,C*=I,i=Math.sin(r),o=Math.cos(r),a=1-o,s=e[0],u=e[1],h=e[2],f=e[3],l=e[4],c=e[5],d=e[6],p=e[7],v=e[8],g=e[9],m=e[10],_=e[11],b=S*S*a+o,y=R*S*a+C*i,w=C*S*a-R*i,x=S*R*a-C*i,M=R*R*a+o,E=C*R*a+S*i,A=S*C*a+R*i,T=R*C*a-S*i,k=C*C*a+o,t[0]=s*b+l*y+v*w,t[1]=u*b+c*y+g*w,t[2]=h*b+d*y+m*w,t[3]=f*b+p*y+_*w,t[4]=s*x+l*M+v*E,t[5]=u*x+c*M+g*E,t[6]=h*x+d*M+m*E,t[7]=f*x+p*M+_*E,t[8]=s*A+l*T+v*k,t[9]=u*A+c*T+g*k,t[10]=h*A+d*T+m*k,t[11]=f*A+p*T+_*k,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},function(t,e,r){"use strict";t.exports=function(t){var e=(t=t||{}).center||[0,0,0],r=t.rotation||[0,0,0,1],n=t.radius||1;e=[].slice.call(e,0,3),f(r=[].slice.call(r,0,4),r);var i=new l(r,e,Math.log(n));i.setDistanceLimits(t.zoomMin,t.zoomMax),("eye"in t||"up"in t)&&i.lookAt(0,t.eye,t.center,t.up);return i};var n=r(82),i=r(85),o=r(183),a=r(17),s=r(184);function u(t,e,r){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2))}function h(t,e,r,n){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2)+Math.pow(r,2)+Math.pow(n,2))}function f(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=h(r,n,i,o);a>1e-6?(t[0]=r/a,t[1]=n/a,t[2]=i/a,t[3]=o/a):(t[0]=t[1]=t[2]=0,t[3]=1)}function l(t,e,r){this.radius=n([r]),this.center=n(e),this.rotation=n(t),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var c=l.prototype;c.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},c.recalcMatrix=function(t){this.radius.curve(t),this.center.curve(t),this.rotation.curve(t);var e=this.computedRotation;f(e,e);var r=this.computedMatrix;o(r,e);var n=this.computedCenter,i=this.computedEye,a=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=n[0]+s*r[2],i[1]=n[1]+s*r[6],i[2]=n[2]+s*r[10],a[0]=r[1],a[1]=r[5],a[2]=r[9];for(var u=0;u<3;++u){for(var h=0,l=0;l<3;++l)h+=r[u+4*l]*i[l];r[12+u]=-h}},c.getMatrix=function(t,e){this.recalcMatrix(t);var r=this.computedMatrix;if(e){for(var n=0;n<16;++n)e[n]=r[n];return e}return r},c.idle=function(t){this.center.idle(t),this.radius.idle(t),this.rotation.idle(t)},c.flush=function(t){this.center.flush(t),this.radius.flush(t),this.rotation.flush(t)},c.pan=function(t,e,r,n){e=e||0,r=r||0,n=n||0,this.recalcMatrix(t);var i=this.computedMatrix,o=i[1],a=i[5],s=i[9],h=u(o,a,s);o/=h,a/=h,s/=h;var f=i[0],l=i[4],c=i[8],d=f*o+l*a+c*s,p=u(f-=o*d,l-=a*d,c-=s*d);f/=p,l/=p,c/=p;var v=i[2],g=i[6],m=i[10],_=v*o+g*a+m*s,b=v*f+g*l+m*c,y=u(v-=_*o+b*f,g-=_*a+b*l,m-=_*s+b*c);v/=y,g/=y,m/=y;var w=f*e+o*r,x=l*e+a*r,M=c*e+s*r;this.center.move(t,w,x,M);var E=Math.exp(this.computedRadius[0]);E=Math.max(1e-4,E+n),this.radius.set(t,Math.log(E))},c.rotate=function(t,e,r,n){this.recalcMatrix(t),e=e||0,r=r||0;var i=this.computedMatrix,o=i[0],a=i[4],s=i[8],f=i[1],l=i[5],c=i[9],d=i[2],p=i[6],v=i[10],g=e*o+r*f,m=e*a+r*l,_=e*s+r*c,b=-(p*_-v*m),y=-(v*g-d*_),w=-(d*m-p*g),x=Math.sqrt(Math.max(0,1-Math.pow(b,2)-Math.pow(y,2)-Math.pow(w,2))),M=h(b,y,w,x);M>1e-6?(b/=M,y/=M,w/=M,x/=M):(b=y=w=0,x=1);var E=this.computedRotation,A=E[0],T=E[1],k=E[2],S=E[3],R=A*x+S*b+T*w-k*y,C=T*x+S*y+k*b-A*w,I=k*x+S*w+A*y-T*b,L=S*x-A*b-T*y-k*w;if(n){b=d,y=p,w=v;var P=Math.sin(n)/u(b,y,w);b*=P,y*=P,w*=P,L=L*(x=Math.cos(e))-(R=R*x+L*b+C*w-I*y)*b-(C=C*x+L*y+I*b-R*w)*y-(I=I*x+L*w+R*y-C*b)*w}var N=h(R,C,I,L);N>1e-6?(R/=N,C/=N,I/=N,L/=N):(R=C=I=0,L=1),this.rotation.set(t,R,C,I,L)},c.lookAt=function(t,e,r,n){this.recalcMatrix(t),r=r||this.computedCenter,e=e||this.computedEye,n=n||this.computedUp;var o=this.computedMatrix;i(o,e,r,n);var a=this.computedRotation;s(a,o[0],o[1],o[2],o[4],o[5],o[6],o[8],o[9],o[10]),f(a,a),this.rotation.set(t,a[0],a[1],a[2],a[3]);for(var u=0,h=0;h<3;++h)u+=Math.pow(r[h]-e[h],2);this.radius.set(t,.5*Math.log(Math.max(u,1e-6))),this.center.set(t,r[0],r[1],r[2])},c.translate=function(t,e,r,n){this.center.move(t,e||0,r||0,n||0)},c.setMatrix=function(t,e){var r=this.computedRotation;s(r,e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]),f(r,r),this.rotation.set(t,r[0],r[1],r[2],r[3]);var n=this.computedMatrix;a(n,e);var i=n[15];if(Math.abs(i)>1e-6){var o=n[12]/i,u=n[13]/i,h=n[14]/i;this.recalcMatrix(t);var l=Math.exp(this.computedRadius[0]);this.center.set(t,o-n[2]*l,u-n[6]*l,h-n[10]*l),this.radius.idle(t)}else this.center.idle(t),this.radius.idle(t)},c.setDistance=function(t,e){e>0&&this.radius.set(t,Math.log(e))},c.setDistanceLimits=function(t,e){t=t>0?Math.log(t):-1/0,e=e>0?Math.log(e):1/0,e=Math.max(e,t),this.radius.bounds[0][0]=t,this.radius.bounds[1][0]=e},c.getDistanceLimits=function(t){var e=this.radius.bounds;return t?(t[0]=Math.exp(e[0][0]),t[1]=Math.exp(e[1][0]),t):[Math.exp(e[0][0]),Math.exp(e[1][0])]},c.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},c.fromJSON=function(t){var e=this.lastT(),r=t.center;r&&this.center.set(e,r[0],r[1],r[2]);var n=t.rotation;n&&this.rotation.set(e,n[0],n[1],n[2],n[3]);var i=t.distance;i&&i>0&&this.radius.set(e,Math.log(i)),this.setDistanceLimits(t.zoomMin,t.zoomMax)}},function(t,e){t.exports=function(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,h=r*a,f=n*a,l=n*s,c=i*a,d=i*s,p=i*u,v=o*a,g=o*s,m=o*u;return t[0]=1-l-p,t[1]=f+m,t[2]=c-g,t[3]=0,t[4]=f-m,t[5]=1-h-p,t[6]=d+v,t[7]=0,t[8]=c+g,t[9]=d-v,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i,o,a,s,u,h){var f=e+o+h;if(l>0){var l=Math.sqrt(f+1);t[0]=.5*(a-u)/l,t[1]=.5*(s-n)/l,t[2]=.5*(r-o)/l,t[3]=.5*l}else{var c=Math.max(e,o,h),l=Math.sqrt(2*c-f+1);e>=c?(t[0]=.5*l,t[1]=.5*(i+r)/l,t[2]=.5*(s+n)/l,t[3]=.5*(a-u)/l):o>=c?(t[0]=.5*(r+i)/l,t[1]=.5*l,t[2]=.5*(u+a)/l,t[3]=.5*(s-n)/l):(t[0]=.5*(n+s)/l,t[1]=.5*(a+u)/l,t[2]=.5*l,t[3]=.5*(r-i)/l)}return t}},function(t,e,r){"use strict";var n=r(16),i=r(186),o=r(17),a=r(196),s=r(197),u=r(198),h=r(85),f=r(87),l=(r(89),r(44)),c=[0,0,0];function d(t){this._components=t.slice(),this._time=[0],this.prevMatrix=t.slice(),this.nextMatrix=t.slice(),this.computedMatrix=t.slice(),this.computedInverse=t.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}t.exports=function(t){return new d((t=t||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var p=d.prototype;p.recalcMatrix=function(t){var e=this._time,r=n.le(e,t),a=this.computedMatrix;if(!(r<0)){var s=this._components;if(r===e.length-1)for(var u=16*r,h=0;h<16;++h)a[h]=s[u++];else{var f=e[r+1]-e[r],c=(u=16*r,this.prevMatrix),d=!0;for(h=0;h<16;++h)c[h]=s[u++];var p=this.nextMatrix;for(h=0;h<16;++h)p[h]=s[u++],d=d&&c[h]===p[h];if(f<1e-6||d)for(h=0;h<16;++h)a[h]=c[h];else i(a,c,p,(t-e[r])/f)}var v=this.computedUp;v[0]=a[1],v[1]=a[5],v[2]=a[9],l(v,v);var g=this.computedInverse;o(g,a);var m=this.computedEye,_=g[15];m[0]=g[12]/_,m[1]=g[13]/_,m[2]=g[14]/_;var b=this.computedCenter,y=Math.exp(this.computedRadius[0]);for(h=0;h<3;++h)b[h]=m[h]-a[2+4*h]*y}},p.idle=function(t){if(!(t<this.lastT())){for(var e=this._components,r=e.length-16,n=0;n<16;++n)e.push(e[r++]);this._time.push(t)}},p.flush=function(t){var e=n.gt(this._time,t)-2;e<0||(this._time.splice(0,e),this._components.splice(0,16*e))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(t,e,r,n){this.recalcMatrix(t),e=e||this.computedEye,r=r||c,n=n||this.computedUp,this.setMatrix(t,h(this.computedMatrix,e,r,n));for(var i=0,o=0;o<3;++o)i+=Math.pow(r[o]-e[o],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(t,e,r,n){this.recalcMatrix(t);var i=this.computedInverse;e&&s(i,i,e),r&&a(i,i,r),n&&u(i,i,n),this.setMatrix(t,o(this.computedMatrix,i))};var v=[0,0,0];p.pan=function(t,e,r,n){v[0]=-(e||0),v[1]=-(r||0),v[2]=-(n||0),this.recalcMatrix(t);var i=this.computedInverse;f(i,i,v),this.setMatrix(t,o(i,i))},p.translate=function(t,e,r,n){v[0]=e||0,v[1]=r||0,v[2]=n||0,this.recalcMatrix(t);var i=this.computedMatrix;f(i,i,v),this.setMatrix(t,i)},p.setMatrix=function(t,e){if(!(t<this.lastT())){this._time.push(t);for(var r=0;r<16;++r)this._components.push(e[r])}},p.setDistance=function(t,e){this.computedRadius[0]=e},p.setDistanceLimits=function(t,e){var r=this._limits;r[0]=t,r[1]=e},p.getDistanceLimits=function(t){var e=this._limits;return t?(t[0]=e[0],t[1]=e[1],t):e}},function(t,e,r){var n=r(187),i=r(188),o=r(190),a=r(90),s=r(194),u=l(),h=l(),f=l();function l(){return{translate:c(),scale:c(1),skew:c(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function c(t){return[t||0,t||0,t||0]}t.exports=function(t,e,r,l){if(0===a(e)||0===a(r))return!1;var c=o(e,u.translate,u.scale,u.skew,u.perspective,u.quaternion),d=o(r,h.translate,h.scale,h.skew,h.perspective,h.quaternion);return!(!c||!d||(n(f.translate,u.translate,h.translate,l),n(f.skew,u.skew,h.skew,l),n(f.scale,u.scale,h.scale,l),n(f.perspective,u.perspective,h.perspective,l),s(f.quaternion,u.quaternion,h.quaternion,l),i(t,f.translate,f.scale,f.skew,f.perspective,f.quaternion),0))}},function(t,e){t.exports=function(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t}},function(t,e,r){var n={identity:r(86),translate:r(87),multiply:r(30),create:r(88),scale:r(89),fromRotationTranslation:r(189)},i=(n.create(),n.create());t.exports=function(t,e,r,o,a,s){return n.identity(t),n.fromRotationTranslation(t,s,e),t[3]=a[0],t[7]=a[1],t[11]=a[2],t[15]=a[3],n.identity(i),0!==o[2]&&(i[9]=o[2],n.multiply(t,t,i)),0!==o[1]&&(i[9]=0,i[8]=o[1],n.multiply(t,t,i)),0!==o[0]&&(i[8]=0,i[4]=o[0],n.multiply(t,t,i)),n.scale(t,t,r),t}},function(t,e){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=n+n,u=i+i,h=o+o,f=n*s,l=n*u,c=n*h,d=i*u,p=i*h,v=o*h,g=a*s,m=a*u,_=a*h;return t[0]=1-(d+v),t[1]=l+_,t[2]=c-m,t[3]=0,t[4]=l-_,t[5]=1-(f+v),t[6]=p+g,t[7]=0,t[8]=c+m,t[9]=p-g,t[10]=1-(f+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},function(t,e,r){var n=r(191),i=r(88),o=r(192),a=r(90),s=r(17),u=r(91),h={length:r(193),normalize:r(44),dot:r(84),cross:r(83)},f=i(),l=i(),c=[0,0,0,0],d=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];function v(t,e,r,n,i){t[0]=e[0]*n+r[0]*i,t[1]=e[1]*n+r[1]*i,t[2]=e[2]*n+r[2]*i}t.exports=function(t,e,r,i,g,m){if(e||(e=[0,0,0]),r||(r=[0,0,0]),i||(i=[0,0,0]),g||(g=[0,0,0,1]),m||(m=[0,0,0,1]),!n(f,t))return!1;if(o(l,f),l[3]=0,l[7]=0,l[11]=0,l[15]=1,Math.abs(a(l)<1e-8))return!1;var _=f[3],b=f[7],y=f[11],w=f[12],x=f[13],M=f[14],E=f[15];if(0!==_||0!==b||0!==y){if(c[0]=_,c[1]=b,c[2]=y,c[3]=E,!s(l,l))return!1;u(l,l),function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a}(g,c,l)}else g[0]=g[1]=g[2]=0,g[3]=1;if(e[0]=w,e[1]=x,e[2]=M,function(t,e){t[0][0]=e[0],t[0][1]=e[1],t[0][2]=e[2],t[1][0]=e[4],t[1][1]=e[5],t[1][2]=e[6],t[2][0]=e[8],t[2][1]=e[9],t[2][2]=e[10]}(d,f),r[0]=h.length(d[0]),h.normalize(d[0],d[0]),i[0]=h.dot(d[0],d[1]),v(d[1],d[1],d[0],1,-i[0]),r[1]=h.length(d[1]),h.normalize(d[1],d[1]),i[0]/=r[1],i[1]=h.dot(d[0],d[2]),v(d[2],d[2],d[0],1,-i[1]),i[2]=h.dot(d[1],d[2]),v(d[2],d[2],d[1],1,-i[2]),r[2]=h.length(d[2]),h.normalize(d[2],d[2]),i[1]/=r[2],i[2]/=r[2],h.cross(p,d[1],d[2]),h.dot(d[0],p)<0)for(var A=0;A<3;A++)r[A]*=-1,d[A][0]*=-1,d[A][1]*=-1,d[A][2]*=-1;return m[0]=.5*Math.sqrt(Math.max(1+d[0][0]-d[1][1]-d[2][2],0)),m[1]=.5*Math.sqrt(Math.max(1-d[0][0]+d[1][1]-d[2][2],0)),m[2]=.5*Math.sqrt(Math.max(1-d[0][0]-d[1][1]+d[2][2],0)),m[3]=.5*Math.sqrt(Math.max(1+d[0][0]+d[1][1]+d[2][2],0)),d[2][1]>d[1][2]&&(m[0]=-m[0]),d[0][2]>d[2][0]&&(m[1]=-m[1]),d[1][0]>d[0][1]&&(m[2]=-m[2]),!0}},function(t,e){t.exports=function(t,e){var r=e[15];if(0===r)return!1;for(var n=1/r,i=0;i<16;i++)t[i]=e[i]*n;return!0}},function(t,e){t.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},function(t,e){t.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},function(t,e,r){t.exports=r(195)},function(t,e){t.exports=function(t,e,r,n){var i,o,a,s,u,h=e[0],f=e[1],l=e[2],c=e[3],d=r[0],p=r[1],v=r[2],g=r[3];(o=h*d+f*p+l*v+c*g)<0&&(o=-o,d=-d,p=-p,v=-v,g=-g);1-o>1e-6?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-n)*i)/a,u=Math.sin(n*i)/a):(s=1-n,u=n);return t[0]=s*h+u*d,t[1]=s*f+u*p,t[2]=s*l+u*v,t[3]=s*c+u*g,t}},function(t,e){t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],s=e[6],u=e[7],h=e[8],f=e[9],l=e[10],c=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=o*i+h*n,t[5]=a*i+f*n,t[6]=s*i+l*n,t[7]=u*i+c*n,t[8]=h*i-o*n,t[9]=f*i-a*n,t[10]=l*i-s*n,t[11]=c*i-u*n,t}},function(t,e){t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],u=e[3],h=e[8],f=e[9],l=e[10],c=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i-h*n,t[1]=a*i-f*n,t[2]=s*i-l*n,t[3]=u*i-c*n,t[8]=o*n+h*i,t[9]=a*n+f*i,t[10]=s*n+l*i,t[11]=u*n+c*i,t}},function(t,e){t.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],u=e[3],h=e[4],f=e[5],l=e[6],c=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=o*i+h*n,t[1]=a*i+f*n,t[2]=s*i+l*n,t[3]=u*i+c*n,t[4]=h*i-o*n,t[5]=f*i-a*n,t[6]=l*i-s*n,t[7]=c*i-u*n,t}},function(t,e,r){"use strict";function n(t){return t.target||t.srcElement||window}e.buttons=function(t){if("object"==typeof t){if("buttons"in t)return t.buttons;if("which"in t){if(2===(e=t.which))return 4;if(3===e)return 2;if(e>0)return 1<<e-1}else if("button"in t){var e;if(1===(e=t.button))return 4;if(2===e)return 2;if(e>=0)return 1<<e}}return 0},e.element=n,e.x=function(t){if("object"==typeof t){if("offsetX"in t)return t.offsetX;var e=n(t).getBoundingClientRect();return t.clientX-e.left}return 0},e.y=function(t){if("object"==typeof t){if("offsetY"in t)return t.offsetY;var e=n(t).getBoundingClientRect();return t.clientY-e.top}return 0}},function(t,e,r){"use strict";var n=r(201);t.exports=function(t,e,r){"function"==typeof t&&(r=!!e,e=t,t=window);var i=n("ex",t),o=function(t){r&&t.preventDefault();var n=t.deltaX||0,o=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,u=1;switch(s){case 1:u=i;break;case 2:u=window.innerHeight}if(o*=u,a*=u,(n*=u)||o||a)return e(n,o,a,t)};return t.addEventListener("wheel",o),o}},function(t,e,r){"use strict";var n=r(202);t.exports=a;var i=96;function o(t,e){var r=n(getComputedStyle(t).getPropertyValue(e));return r[0]*a(r[1],t)}function a(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var r=document.createElement("div");r.style["font-size"]="128"+t,e.appendChild(r);var n=o(r,"font-size")/128;return e.removeChild(r),n}(t,e);case"em":return o(e,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return i;case"cm":return i/2.54;case"mm":return i/25.4;case"pt":return i/72;case"pc":return i/6}return 1}},function(t,e){t.exports=function(t,e){e||(e=[0,""]),t=String(t);var r=parseFloat(t,10);return e[0]=r,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},function(t,e){var r={left:0,top:0};t.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var i=t.clientX||0,o=t.clientY||0,a=function(t){return t===window||t===document||t===document.body?r:t.getBoundingClientRect()}(e);return n[0]=i-a.left,n[1]=o-a.top,n}},function(t,e,r){"use strict";var n=r(205);t.exports=n&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){t=!1}return t}()},function(t,e){t.exports=!0},function(t,e,r){"use strict";t.exports=function(t,e){var r=new f(t);return r.update(e),r};var n=r(207),i=r(289),o=r(290),a=r(110),s=r(292),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function f(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=o(t)}var l=f.prototype;function c(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}l.update=function(t){function e(e,r,n){if(n in t){var i,o=t[n],a=this[n];(e?Array.isArray(o)&&Array.isArray(o[0]):Array.isArray(o))?this[n]=i=[r(o[0]),r(o[1]),r(o[2])]:this[n]=i=[r(o),r(o),r(o)];for(var s=0;s<3;++s)if(i[s]!==a[s])return!0}return!1}t=t||{};var r,o=e.bind(this,!1,Number),a=e.bind(this,!1,Boolean),u=e.bind(this,!1,String),h=e.bind(this,!0,function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]}),f=!1,l=!1;if("bounds"in t)for(var c=t.bounds,d=0;d<2;++d)for(var p=0;p<3;++p)c[d][p]!==this.bounds[d][p]&&(l=!0),this.bounds[d][p]=c[d][p];if("ticks"in t){r=t.ticks,f=!0,this.autoTicks=!1;for(d=0;d<3;++d)this.tickSpacing[d]=0}else o("tickSpacing")&&(this.autoTicks=!0,l=!0);if(this._firstInit&&("ticks"in t||"tickSpacing"in t||(this.autoTicks=!0),l=!0,f=!0,this._firstInit=!1),l&&this.autoTicks&&(r=s.create(this.bounds,this.tickSpacing),f=!0),f){for(d=0;d<3;++d)r[d].sort(function(t,e){return t.x-e.x});s.equal(r,this.ticks)?f=!1:this.ticks=r}a("tickEnable"),u("tickFont")&&(f=!0),o("tickSize"),o("tickAngle"),o("tickPad"),h("tickColor");var v=u("labels");u("labelFont")&&(v=!0),a("labelEnable"),o("labelSize"),o("labelPad"),h("labelColor"),a("lineEnable"),a("lineMirror"),o("lineWidth"),h("lineColor"),a("lineTickEnable"),a("lineTickMirror"),o("lineTickLength"),o("lineTickWidth"),h("lineTickColor"),a("gridEnable"),o("gridWidth"),h("gridColor"),a("zeroEnable"),h("zeroLineColor"),o("zeroLineWidth"),a("backgroundEnable"),h("backgroundColor"),this._text?this._text&&(v||f)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=n(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&f&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var d=[new c,new c,new c];function p(t,e,r,n,i){for(var o=t.primalOffset,a=t.primalMinor,s=t.mirrorOffset,u=t.mirrorMinor,h=n[e],f=0;f<3;++f)if(e!==f){var l=o,c=s,d=a,p=u;h&1<<f&&(l=s,c=o,d=u,p=a),l[f]=r[0][f],c[f]=r[1][f],i[f]>0?(d[f]=-1,p[f]=0):(d[f]=0,p[f]=1)}}var v=[0,0,0],g={model:u,view:u,projection:u};l.isOpaque=function(){return!0},l.isTransparent=function(){return!1},l.drawTransparent=function(t){};var m=[0,0,0],_=[0,0,0],b=[0,0,0];l.draw=function(t){t=t||g;for(var e=this.gl,r=t.model||u,n=t.view||u,i=t.projection||u,o=this.bounds,s=a(r,n,i,o),f=s.cubeEdges,l=s.axis,c=n[12],y=n[13],w=n[14],x=n[15],M=this.pixelRatio*(i[3]*c+i[7]*y+i[11]*w+i[15]*x)/e.drawingBufferHeight,E=0;E<3;++E)this.lastCubeProps.cubeEdges[E]=f[E],this.lastCubeProps.axis[E]=l[E];var A=d;for(E=0;E<3;++E)p(d[E],E,this.bounds,f,l);e=this.gl;var T=v;for(E=0;E<3;++E)this.backgroundEnable[E]?T[E]=l[E]:T[E]=0;this._background.draw(r,n,i,o,T,this.backgroundColor),this._lines.bind(r,n,i,this);for(E=0;E<3;++E){var k=[0,0,0];l[E]>0?k[E]=o[1][E]:k[E]=o[0][E];for(var S=0;S<2;++S){var R=(E+1+S)%3,C=(E+1+(1^S))%3;this.gridEnable[R]&&this._lines.drawGrid(R,C,this.bounds,k,this.gridColor[R],this.gridWidth[R]*this.pixelRatio)}for(S=0;S<2;++S){R=(E+1+S)%3,C=(E+1+(1^S))%3;this.zeroEnable[C]&&o[0][C]<=0&&o[1][C]>=0&&this._lines.drawZero(R,C,this.bounds,k,this.zeroLineColor[C],this.zeroLineWidth[C]*this.pixelRatio)}}for(E=0;E<3;++E){this.lineEnable[E]&&this._lines.drawAxisLine(E,this.bounds,A[E].primalOffset,this.lineColor[E],this.lineWidth[E]*this.pixelRatio),this.lineMirror[E]&&this._lines.drawAxisLine(E,this.bounds,A[E].mirrorOffset,this.lineColor[E],this.lineWidth[E]*this.pixelRatio);var I=h(m,A[E].primalMinor),L=h(_,A[E].mirrorMinor),P=this.lineTickLength;for(S=0;S<3;++S){var N=M/r[5*S];I[S]*=P[S]*N,L[S]*=P[S]*N}this.lineTickEnable[E]&&this._lines.drawAxisTicks(E,A[E].primalOffset,I,this.lineTickColor[E],this.lineTickWidth[E]*this.pixelRatio),this.lineTickMirror[E]&&this._lines.drawAxisTicks(E,A[E].mirrorOffset,L,this.lineTickColor[E],this.lineTickWidth[E]*this.pixelRatio)}this._lines.unbind(),this._text.bind(r,n,i,this.pixelRatio);for(E=0;E<3;++E){var O=A[E].primalMinor,B=h(b,A[E].primalOffset);for(S=0;S<3;++S)this.lineTickEnable[E]&&(B[S]+=M*O[S]*Math.max(this.lineTickLength[S],0)/r[5*S]);if(this.tickEnable[E]){for(S=0;S<3;++S)B[S]+=M*O[S]*this.tickPad[S]/r[5*S];this._text.drawTicks(E,this.tickSize[E],this.tickAngle[E],B,this.tickColor[E])}if(this.labelEnable[E]){for(S=0;S<3;++S)B[S]+=M*O[S]*this.labelPad[S]/r[5*S];B[E]+=.5*(o[0][E]+o[1][E]),this._text.drawLabel(E,this.labelSize[E],this.labelAngle[E],B,this.labelColor[E])}}this._text.unbind()},l.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},function(t,e,r){"use strict";(function(e){t.exports=function(t,e,r,o,s,u){var f=n(t),l=i(t,[{buffer:f,size:3}]),c=a(t);c.attributes.position.location=0;var d=new h(t,c,f,l);return d.update(e,r,o,s,u),d};var n=r(18),i=r(19),o=r(213),a=r(51).text,s=window||e.global||{},u=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function h(t,e,r,n){this.gl=t,this.shader=e,this.buffer=r,this.vao=n,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var f=h.prototype,l=[0,0];f.bind=function(t,e,r,n){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=t,i.view=e,i.projection=r,i.pixelScale=n,l[0]=this.gl.drawingBufferWidth,l[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=l},f.unbind=function(){this.vao.unbind()},f.update=function(t,e,r,n,i){this.gl;var a=[];function s(t,e,r,n){var i=u[r];i||(i=u[r]={});var s=i[e];s||(s=i[e]=function(t,e){try{return o(t,e)}catch(t){return console.warn("error vectorizing text:",t),{cells:[],positions:[]}}}(e,{triangles:!0,font:r,textAlign:"center",textBaseline:"middle"}));for(var h=(n||12)/12,f=s.positions,l=s.cells,c=0,d=l.length;c<d;++c)for(var p=l[c],v=2;v>=0;--v){var g=f[p[v]];a.push(h*g[0],-h*g[1],t)}}for(var h=[0,0,0],f=[0,0,0],l=[0,0,0],c=[0,0,0],d=0;d<3;++d){l[d]=a.length/3|0,s(.5*(t[0][d]+t[1][d]),e[d],r),c[d]=(a.length/3|0)-l[d],h[d]=a.length/3|0;for(var p=0;p<n[d].length;++p)n[d][p].text&&s(n[d][p].x,n[d][p].text,n[d][p].font||i,n[d][p].fontSize||12);f[d]=(a.length/3|0)-h[d]}this.buffer.update(a),this.tickOffset=h,this.tickCount=f,this.labelOffset=l,this.labelCount=c};var c=[0,0,0];f.drawTicks=function(t,e,r,n,i){if(this.tickCount[t]){var o=c;o[0]=o[1]=o[2]=0,o[t]=1,this.shader.uniforms.axis=o,this.shader.uniforms.color=i,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}};var d=[0,0,0];f.drawLabel=function(t,e,r,n,i){this.labelCount[t]&&(this.shader.uniforms.axis=d,this.shader.uniforms.color=i,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this,r(15))},function(t,e,r){"use strict";var n=r(209);t.exports=function(t){var e=["'use strict'","var CACHED={}"],r=[],i=t.funcName+"_cwise_thunk";e.push(["return function ",i,"(",t.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],h=[],f=0;f<t.arrayArgs.length;++f){var l=t.arrayArgs[f];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),o.push("t"+l),o.push("r"+l),a.push("t"+l),a.push("r"+l+".join()"),s.push("array"+l+".data"),s.push("array"+l+".stride"),s.push("array"+l+".offset|0"),f>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[f]))),h.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[f])+"]"))}for(t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),f=0;f<t.scalarArgs.length;++f)s.push("scalar"+t.scalarArgs[f]);return r.push(["type=[",a.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),t.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(n.bind(void 0,t))}},function(t,e,r){"use strict";var n=r(46);function i(t,e,r){var n,i,o=t.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,u=[],h=[],f=0,l=0;for(n=0;n<o;++n)h.push(["i",n,"=0"].join(""));for(i=0;i<a;++i)for(n=0;n<o;++n)l=f,f=t[n],0===n?h.push(["d",i,"s",n,"=t",i,"p",f].join("")):h.push(["d",i,"s",n,"=(t",i,"p",f,"-s",l,"*t",i,"p",l,")"].join(""));for(h.length>0&&u.push("var "+h.join(",")),n=o-1;n>=0;--n)f=t[n],u.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(u.push(r),n=0;n<o;++n){for(l=f,f=t[n],i=0;i<a;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",l,"]-=s",l].join("")),u.push(["++index[",f,"]"].join(""))),u.push("}")}return u.join("\n")}function o(t,e,r){for(var n=t.body,i=[],o=[],a=0;a<t.args.length;++a){var s=t.args[a];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),h="",f=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var l=e.offsetArgIndex.indexOf(a);f=e.offsetArgs[l].array,h="+q"+l;case"array":h="p"+f+h;var c="l"+a,d="a"+f;if(0===e.arrayBlockIndices[f])1===s.count?"generic"===r[f]?s.lvalue?(i.push(["var ",c,"=",d,".get(",h,")"].join("")),n=n.replace(u,c),o.push([d,".set(",h,",",c,")"].join(""))):n=n.replace(u,[d,".get(",h,")"].join("")):n=n.replace(u,[d,"[",h,"]"].join("")):"generic"===r[f]?(i.push(["var ",c,"=",d,".get(",h,")"].join("")),n=n.replace(u,c),s.lvalue&&o.push([d,".set(",h,",",c,")"].join(""))):(i.push(["var ",c,"=",d,"[",h,"]"].join("")),n=n.replace(u,c),s.lvalue&&o.push([d,"[",h,"]=",c].join("")));else{for(var p=[s.name],v=[h],g=0;g<Math.abs(e.arrayBlockIndices[f]);g++)p.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(g+1)+"*t"+f+"b"+g);if(u=new RegExp(p.join(""),"g"),h=v.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",h,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(a));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,o.join("\n")].join("\n").trim()}t.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,a=new Array(t.arrayArgs.length),s=new Array(t.arrayArgs.length),u=0;u<t.arrayArgs.length;++u)s[u]=e[2*u],a[u]=e[2*u+1];var h=[],f=[],l=[],c=[],d=[];for(u=0;u<t.arrayArgs.length;++u){t.arrayBlockIndices[u]<0?(l.push(0),c.push(r),h.push(r),f.push(r+t.arrayBlockIndices[u])):(l.push(t.arrayBlockIndices[u]),c.push(t.arrayBlockIndices[u]+r),h.push(0),f.push(t.arrayBlockIndices[u]));for(var p=[],v=0;v<a[u].length;v++)l[u]<=a[u][v]&&a[u][v]<c[u]&&p.push(a[u][v]-l[u]);d.push(p)}var g=["SS"],m=["'use strict'"],_=[];for(v=0;v<r;++v)_.push(["s",v,"=SS[",v,"]"].join(""));for(u=0;u<t.arrayArgs.length;++u){for(g.push("a"+u),g.push("t"+u),g.push("p"+u),v=0;v<r;++v)_.push(["t",u,"p",v,"=t",u,"[",l[u]+v,"]"].join(""));for(v=0;v<Math.abs(t.arrayBlockIndices[u]);++v)_.push(["t",u,"b",v,"=t",u,"[",h[u]+v,"]"].join(""))}for(u=0;u<t.scalarArgs.length;++u)g.push("Y"+u);if(t.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),t.indexArgs.length>0){var b=new Array(r);for(u=0;u<r;++u)b[u]="0";_.push(["index=[",b.join(","),"]"].join(""))}for(u=0;u<t.offsetArgs.length;++u){var y=t.offsetArgs[u],w=[];for(v=0;v<y.offset.length;++v)0!==y.offset[v]&&(1===y.offset[v]?w.push(["t",y.array,"p",v].join("")):w.push([y.offset[v],"*t",y.array,"p",v].join("")));0===w.length?_.push("q"+u+"=0"):_.push(["q",u,"=",w.join("+")].join(""))}var x=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((_=_.concat(x)).length>0&&m.push("var "+_.join(",")),u=0;u<t.arrayArgs.length;++u)m.push("p"+u+"|=0");t.pre.body.length>3&&m.push(o(t.pre,t,s));var M=o(t.body,t,s),E=function(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(d);E<r?m.push(function(t,e,r,n){for(var o=e.length,a=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,h=[],f=0;f<a;++f)h.push(["var offset",f,"=p",f].join(""));for(f=t;f<o;++f)h.push(["for(var j"+f+"=SS[",e[f],"]|0;j",f,">0;){"].join("")),h.push(["if(j",f,"<",s,"){"].join("")),h.push(["s",e[f],"=j",f].join("")),h.push(["j",f,"=0"].join("")),h.push(["}else{s",e[f],"=",s].join("")),h.push(["j",f,"-=",s,"}"].join("")),u&&h.push(["index[",e[f],"]=j",f].join(""));for(f=0;f<a;++f){for(var l=["offset"+f],c=t;c<o;++c)l.push(["j",c,"*t",f,"p",e[c]].join(""));h.push(["p",f,"=(",l.join("+"),")"].join(""))}for(h.push(i(e,r,n)),f=t;f<o;++f)h.push("}");return h.join("\n")}(E,d[0],t,M)):m.push(i(d[0],t,M)),t.post.body.length>3&&m.push(o(t.post,t,s)),t.debug&&console.log("-----Generated cwise routine for ",e,":\n"+m.join("\n")+"\n----------");var A=[t.funcName||"unnamed","_cwise_loop_",a[0].join("s"),"m",E,function(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+o:e[n]=i.charAt(0)+o,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}(s)].join("");return new Function(["function ",A,"(",g.join(","),"){",m.join("\n"),"} return ",A].join(""))()}},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}},function(t,e,r){"use strict";var n=r(95);function i(t,e,r,n,i,o){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=i,this.d=o}function o(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},o.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},o.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},o.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},o.prototype.update=function(t,e,r){if(this.bind(),n(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var o=0;o<t.length;++o){var a=t[o];"number"==typeof a?this._attribs.push(new i(o,1,a)):Array.isArray(a)&&this._attribs.push(new i(o,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},o.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=function(t,e){return new o(t,e,e.createVertexArrayOES())}},function(t,e,r){"use strict";var n=r(95);function i(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},i.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=function(t){return new i(t)}},function(t,e,r){"use strict";t.exports=function(t,e){"object"==typeof e&&null!==e||(e={});return n(t,e.canvas||i,e.context||o,e)};var n=r(214),i=null,o=null;"undefined"!=typeof document&&((i=document.createElement("canvas")).width=8192,i.height=1024,o=i.getContext("2d"))},function(t,e,r){"use strict";t.exports=function(t,e,r,n){var o=n.size||64,a=n.font||"normal";return r.font=o+"px "+a,r.textAlign="start",r.textBaseline="alphabetic",r.direction="ltr",l(function(t,e,r,n){var o=0|Math.ceil(e.measureText(r).width+2*n);if(o>8192)throw new Error("vectorize-text: String too long (sorry, this will get fixed later)");var a=3*n;t.height<a&&(t.height=a),e.fillStyle="#000",e.fillRect(0,0,t.width,t.height),e.fillStyle="#fff",e.fillText(r,n,2*n);var s=e.getImageData(0,0,o,a);return i(s.data,[a,o,4]).pick(-1,-1,0).transpose(1,0)}(e,r,t,o),n,o)},t.exports.processPixels=l;var n=r(96),i=r(8),o=r(223),a=r(227),s=r(251),u=r(257);function h(t,e){var r=n(t,128);return e?o(r.cells,r.positions,.25):{edges:r.cells,positions:r.positions}}function f(t,e,r,n){var i=h(t,n),o=function(t,e,r){for(var n=e.textAlign||"start",i=e.textBaseline||"alphabetic",o=[1<<30,1<<30],a=[0,0],s=t.length,u=0;u<s;++u)for(var h=t[u],f=0;f<2;++f)o[f]=0|Math.min(o[f],h[f]),a[f]=0|Math.max(a[f],h[f]);var l=0;switch(n){case"center":l=-.5*(o[0]+a[0]);break;case"right":case"end":l=-a[0];break;case"left":case"start":l=-o[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+n+"'")}var c=0;switch(i){case"hanging":case"top":c=-o[1];break;case"middle":c=-.5*(o[1]+a[1]);break;case"alphabetic":case"ideographic":c=-3*r;break;case"bottom":c=-a[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+i+"'")}var d=1/r;return"lineHeight"in e?d*=+e.lineHeight:"width"in e?d=e.width/(a[0]-o[0]):"height"in e&&(d=e.height/(a[1]-o[1])),t.map(function(t){return[d*(t[0]+l),d*(t[1]+c)]})}(i.positions,e,r),f=i.edges,l="ccw"===e.orientation;if(a(o,f),e.polygons||e.polygon||e.polyline){for(var c=u(f,o),d=new Array(c.length),p=0;p<c.length;++p){for(var v=c[p],g=new Array(v.length),m=0;m<v.length;++m){for(var _=v[m],b=new Array(_.length),y=0;y<_.length;++y)b[y]=o[_[y]].slice();l&&b.reverse(),g[m]=b}d[p]=g}return d}return e.triangles||e.triangulate||e.triangle?{cells:s(o,f,{delaunay:!1,exterior:!1,interior:!0}),positions:o}:{edges:f,positions:o}}function l(t,e,r){try{return f(t,e,r,!0)}catch(t){}try{return f(t,e,r,!1)}catch(t){}return e.polygons||e.polyline||e.polygon?[]:e.triangles||e.triangulate||e.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},function(t,e,r){"use strict";var n=r(4);function i(t){return"a"+t}function o(t){return"d"+t}function a(t,e){return"c"+t+"_"+e}function s(t){return"s"+t}function u(t,e){return"t"+t+"_"+e}function h(t){return"o"+t}function f(t){return"x"+t}function l(t){return"p"+t}function c(t,e){return"d"+t+"_"+e}function d(t){return"i"+t}function p(t,e){return"u"+t+"_"+e}function v(t){return"b"+t}function g(t){return"y"+t}function m(t){return"e"+t}function _(t){return"v"+t}t.exports=function(t){function e(t){throw new Error("ndarray-extract-contour: "+t)}"object"!=typeof t&&e("Must specify arguments");var r=t.order;Array.isArray(r)||e("Must specify order");var T=t.arrayArguments||1;T<1&&e("Must have at least one array argument");var k=t.scalarArguments||0;k<0&&e("Scalar arg count must be > 0");"function"!=typeof t.vertex&&e("Must specify vertex creation function");"function"!=typeof t.cell&&e("Must specify cell creation function");"function"!=typeof t.phase&&e("Must specify phase function");for(var S=t.getters||[],R=new Array(T),C=0;C<T;++C)S.indexOf(C)>=0?R[C]=!0:R[C]=!1;return function(t,e,r,T,k,S){var R=S.length,C=k.length;if(C<2)throw new Error("ndarray-extract-contour: Dimension must be at least 2");for(var I="extractContour"+k.join("_"),L=[],P=[],N=[],O=0;O<R;++O)N.push(i(O));for(var O=0;O<T;++O)N.push(f(O));for(var O=0;O<C;++O)P.push(s(O)+"="+i(0)+".shape["+O+"]|0");for(var O=0;O<R;++O){P.push(o(O)+"="+i(O)+".data",h(O)+"="+i(O)+".offset|0");for(var B=0;B<C;++B)P.push(u(O,B)+"="+i(O)+".stride["+B+"]|0")}for(var O=0;O<R;++O){P.push(l(O)+"="+h(O)),P.push(a(O,0));for(var B=1;B<1<<C;++B){for(var F=[],D=0;D<C;++D)B&1<<D&&F.push("-"+u(O,D));P.push(c(O,B)+"=("+F.join("")+")|0"),P.push(a(O,B)+"=0")}}for(var O=0;O<R;++O)for(var B=0;B<C;++B){var U=[u(O,k[B])];B>0&&U.push(u(O,k[B-1])+"*"+s(k[B-1])),P.push(p(O,k[B])+"=("+U.join("-")+")|0")}for(var O=0;O<C;++O)P.push(d(O)+"=0");P.push(w+"=0");for(var j=["2"],O=C-2;O>=0;--O)j.push(s(k[O]));P.push(x+"=("+j.join("*")+")|0",y+"=mallocUint32("+x+")",b+"=mallocUint32("+x+")",M+"=0"),P.push(v(0)+"=0");for(var B=1;B<1<<C;++B){for(var z=[],V=[],D=0;D<C;++D)B&1<<D&&(0===V.length?z.push("1"):z.unshift(V.join("*"))),V.push(s(k[D]));var q="";z[0].indexOf(s(k[C-2]))<0&&(q="-");var H=A(C,B,k);P.push(m(H)+"=(-"+z.join("-")+")|0",g(H)+"=("+q+z.join("-")+")|0",v(H)+"=0")}function X(t,e){L.push("for(",d(k[t]),"=",e,";",d(k[t]),"<",s(k[t]),";","++",d(k[t]),"){")}function W(t){for(var e=0;e<R;++e)L.push(l(e),"+=",p(e,k[t]),";");L.push("}")}function G(){for(var t=1;t<1<<C;++t)L.push(E,"=",m(t),";",m(t),"=",g(t),";",g(t),"=",E,";")}P.push(_(0)+"=0",E+"=0"),function t(e,r){if(e<0)return void function(t){for(var e=0;e<R;++e)S[e]?L.push(a(e,0),"=",o(e),".get(",l(e),");"):L.push(a(e,0),"=",o(e),"[",l(e),"];");for(var r=[],e=0;e<R;++e)r.push(a(e,0));for(var e=0;e<T;++e)r.push(f(e));L.push(v(0),"=",y,"[",M,"]=phase(",r.join(),");");for(var n=1;n<1<<C;++n)L.push(v(n),"=",y,"[",M,"+",m(n),"];");for(var i=[],n=1;n<1<<C;++n)i.push("("+v(0)+"!=="+v(n)+")");L.push("if(",i.join("||"),"){");for(var s=[],e=0;e<C;++e)s.push(d(e));for(var e=0;e<R;++e){s.push(a(e,0));for(var n=1;n<1<<C;++n)S[e]?L.push(a(e,n),"=",o(e),".get(",l(e),"+",c(e,n),");"):L.push(a(e,n),"=",o(e),"[",l(e),"+",c(e,n),"];"),s.push(a(e,n))}for(var e=0;e<1<<C;++e)s.push(v(e));for(var e=0;e<T;++e)s.push(f(e));L.push("vertex(",s.join(),");",_(0),"=",b,"[",M,"]=",w,"++;");for(var u=(1<<C)-1,h=v(u),n=0;n<C;++n)if(0==(t&~(1<<n))){for(var p=u^1<<n,g=v(p),x=[],E=p;E>0;E=E-1&p)x.push(b+"["+M+"+"+m(E)+"]");x.push(_(0));for(var E=0;E<R;++E)1&n?x.push(a(E,u),a(E,p)):x.push(a(E,p),a(E,u));1&n?x.push(h,g):x.push(g,h);for(var E=0;E<T;++E)x.push(f(E));L.push("if(",h,"!==",g,"){","face(",x.join(),")}")}L.push("}",M,"+=1;")}(r);!function(t){for(var e=t-1;e>=0;--e)X(e,0);for(var r=[],e=0;e<R;++e)S[e]?r.push(o(e)+".get("+l(e)+")"):r.push(o(e)+"["+l(e)+"]");for(var e=0;e<T;++e)r.push(f(e));L.push(y,"[",M,"++]=phase(",r.join(),");");for(var e=0;e<t;++e)W(e);for(var n=0;n<R;++n)L.push(l(n),"+=",p(n,k[t]),";")}(e);L.push("if(",s(k[e]),">0){",d(k[e]),"=1;");t(e-1,r|1<<k[e]);for(var n=0;n<R;++n)L.push(l(n),"+=",p(n,k[e]),";");e===C-1&&(L.push(M,"=0;"),G());X(e,2);t(e-1,r);e===C-1&&(L.push("if(",d(k[C-1]),"&1){",M,"=0;}"),G());W(e);L.push("}")}(C-1,0),L.push("freeUint32(",b,");freeUint32(",y,");");var Y=["'use strict';","function ",I,"(",N.join(),"){","var ",P.join(),";",L.join(""),"}","return ",I].join("");return new Function("vertex","face","phase","mallocUint32","freeUint32",Y)(t,e,r,n.mallocUint32,n.freeUint32)}(t.vertex,t.cell,t.phase,k,r,R)};var b="V",y="P",w="N",x="Q",M="X",E="T";function A(t,e,r){for(var n=0,i=0;i<t;++i)e&1<<i&&(n|=1<<r[i]);return n}},function(t,e,r){"use strict";t.exports=function(t){if(t<0)return[];if(0===t)return[[0]];for(var e=0|Math.round(o(t+1)),r=[],a=0;a<e;++a){for(var s=n.unrank(t,a),u=[0],h=0,f=0;f<s.length;++f)h+=1<<s[f],u.push(h);i(s)<1&&(u[0]=h,u[t]=0),r.push(u)}return r};var n=r(217),i=r(219),o=r(220)},function(t,e,r){"use strict";var n=r(4),i=r(218);e.rank=function(t){var e=t.length;switch(e){case 0:case 1:return 0;case 2:return t[1]}var r,o,a,s=n.mallocUint32(e),u=n.mallocUint32(e),h=0;for(i(t,u),a=0;a<e;++a)s[a]=t[a];for(a=e-1;a>0;--a)o=u[a],r=s[a],s[a]=s[o],s[o]=r,u[a]=u[r],u[r]=o,h=(h+r)*a;return n.freeUint32(u),n.freeUint32(s),h},e.unrank=function(t,e,r){switch(t){case 0:return r||[];case 1:return r?(r[0]=0,r):[0];case 2:return r?(e?(r[0]=0,r[1]=1):(r[0]=1,r[1]=0),r):e?[0,1]:[1,0]}var n,i,o,a=1;for((r=r||new Array(t))[0]=0,o=1;o<t;++o)r[o]=o,a=a*o|0;for(o=t-1;o>0;--o)e=e-(n=e/a|0)*a|0,a=a/o|0,i=0|r[o],r[o]=0|r[n],r[n]=0|i;return r}},function(t,e,r){"use strict";t.exports=function(t,e){e=e||new Array(t.length);for(var r=0;r<t.length;++r)e[t[r]]=r;return e}},function(t,e,r){"use strict";t.exports=function(t){var e=t.length;if(e<n){for(var r=1,o=0;o<e;++o)for(var a=0;a<o;++a)if(t[o]<t[a])r=-r;else if(t[o]===t[a])return 0;return r}for(var s=i.mallocUint8(e),o=0;o<e;++o)s[o]=0;for(var r=1,o=0;o<e;++o)if(!s[o]){var u=1;s[o]=1;for(var a=t[o];a!==o;a=t[a]){if(s[a])return i.freeUint8(s),0;u+=1,s[a]=1}1&u||(r=-r)}return i.freeUint8(s),r};var n=32,i=r(4)},function(t,e){var r=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],n=607/128,i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function o(t){if(t<0)return Number("0/0");for(var e=i[0],r=i.length-1;r>0;--r)e+=i[r]/(t+r);var o=t+n+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(o)-o+Math.log(e)-Math.log(t)}t.exports=function t(e){if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*t(1-e));if(e>100)return Math.exp(o(e));e-=1;for(var n=r[0],i=1;i<9;i++)n+=r[i]/(e+i);var a=e+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,e+.5)*Math.exp(-a)*n},t.exports.log=o},function(t,e,r){"use strict";t.exports=function(t,e){var r=[];return e=+e||0,n(t.hi(t.shape[0]-1),r,e),r};var n=r(222)},function(t,e,r){t.exports=r(22)({args:["array",{offset:[1],array:0},"scalar","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\n        var _inline_1_da = _inline_1_arg0_ - _inline_1_arg3_\n        var _inline_1_db = _inline_1_arg1_ - _inline_1_arg3_\n        if((_inline_1_da >= 0) !== (_inline_1_db >= 0)) {\n          _inline_1_arg2_.push(_inline_1_arg4_[0] + 0.5 + 0.5 * (_inline_1_da + _inline_1_db) / (_inline_1_da - _inline_1_db))\n        }\n      }",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_1_da","_inline_1_db"]},funcName:"zeroCrossings"})},function(t,e,r){"use strict";t.exports=function(t,e,r){for(var o=e.length,a=t.length,s=new Array(o),u=new Array(o),h=new Array(o),f=new Array(o),l=0;l<o;++l)s[l]=u[l]=-1,h[l]=1/0,f[l]=!1;for(var l=0;l<a;++l){var c=t[l];if(2!==c.length)throw new Error("Input must be a graph");var d=c[1],p=c[0];-1!==u[p]?u[p]=-2:u[p]=d,-1!==s[d]?s[d]=-2:s[d]=p}function v(t){if(f[t])return 1/0;var r=s[t],i=u[t];return r<0||i<0?1/0:function(t,e,r){var i=Math.abs(n(t,e,r)),o=Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2));return i/o}(e[t],e[r],e[i])}function g(t,e){var r=E[t],n=E[e];E[t]=n,E[e]=r,A[r]=e,A[n]=t}function m(t){return h[E[t]]}function _(t){return 1&t?t-1>>1:(t>>1)-1}function b(t){for(var e=m(t);;){var r=e,n=2*t+1,i=2*(t+1),o=t;if(n<k){var a=m(n);a<r&&(o=n,r=a)}if(i<k){var s=m(i);s<r&&(o=i)}if(o===t)return t;g(t,o),t=o}}function y(t){for(var e=m(t);t>0;){var r=_(t);if(r>=0){var n=m(r);if(e<n){g(t,r),t=r;continue}}return t}}function w(){if(k>0){var t=E[0];return g(0,k-1),k-=1,b(0),t}return-1}function x(t,e){var r=E[t];return h[r]===e?t:(h[r]=-1/0,y(t),w(),h[r]=e,y((k+=1)-1))}function M(t){if(!f[t]){f[t]=!0;var e=s[t],r=u[t];s[r]>=0&&(s[r]=e),u[e]>=0&&(u[e]=r),A[e]>=0&&x(A[e],v(e)),A[r]>=0&&x(A[r],v(r))}}for(var E=[],A=new Array(o),l=0;l<o;++l){var T=h[l]=v(l);T<1/0?(A[l]=E.length,E.push(l)):A[l]=-1}for(var k=E.length,l=k>>1;l>=0;--l)b(l);for(;;){var S=w();if(S<0||h[S]>r)break;M(S)}for(var R=[],l=0;l<o;++l)f[l]||(A[l]=R.length,R.push(e[l].slice()));R.length;function C(t,e){if(t[e]<0)return e;var r=e,n=e;do{var i=t[n];if(!f[n]||i<0||i===n)break;if(i=t[n=i],!f[n]||i<0||i===n)break;n=i,r=t[r]}while(r!==n);for(var o=e;o!==n;o=t[o])t[o]=n;return n}var I=[];return t.forEach(function(t){var e=C(s,t[0]),r=C(u,t[1]);if(e>=0&&r>=0&&e!==r){var n=A[e],i=A[r];n!==i&&I.push([n,i])}}),i.unique(i.normalize(I)),{positions:R,edges:I}};var n=r(7),i=r(224)},function(t,e,r){"use strict";"use restrict";var n=r(225),i=r(226);function o(t,e){var r=t.length,n=t.length-e.length,i=Math.min;if(n)return n;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:return(s=t[0]+t[1]-e[0]-e[1])||i(t[0],t[1])-i(e[0],e[1]);case 3:var o=t[0]+t[1],a=e[0]+e[1];if(s=o+t[2]-(a+e[2]))return s;var s,u=i(t[0],t[1]),h=i(e[0],e[1]);return(s=i(u,t[2])-i(h,e[2]))||i(u+t[2],o)-i(h+e[2],a);default:var f=t.slice(0);f.sort();var l=e.slice(0);l.sort();for(var c=0;c<r;++c)if(n=f[c]-l[c])return n;return 0}}function a(t,e){return o(t[0],e[0])}function s(t,e){if(e){for(var r=t.length,n=new Array(r),i=0;i<r;++i)n[i]=[t[i],e[i]];n.sort(a);for(i=0;i<r;++i)t[i]=n[i][0],e[i]=n[i][1];return t}return t.sort(o),t}function u(t){if(0===t.length)return[];for(var e=1,r=t.length,n=1;n<r;++n){var i=t[n];if(o(i,t[n-1])){if(n===e){e++;continue}t[e++]=i}}return t.length=e,t}function h(t,e){for(var r=0,n=t.length-1,i=-1;r<=n;){var a=r+n>>1,s=o(t[a],e);s<=0?(0===s&&(i=a),r=a+1):s>0&&(n=a-1)}return i}function f(t,e){for(var r=new Array(t.length),i=0,a=r.length;i<a;++i)r[i]=[];for(var s=[],u=(i=0,e.length);i<u;++i)for(var f=e[i],l=f.length,c=1,d=1<<l;c<d;++c){s.length=n.popCount(c);for(var p=0,v=0;v<l;++v)c&1<<v&&(s[p++]=f[v]);var g=h(t,s);if(!(g<0))for(;r[g++].push(i),!(g>=t.length||0!==o(t[g],s)););}return r}function l(t,e){if(e<0)return[];for(var r=[],i=(1<<e+1)-1,o=0;o<t.length;++o)for(var a=t[o],u=i;u<1<<a.length;u=n.nextCombination(u)){for(var h=new Array(e+1),f=0,l=0;l<a.length;++l)u&1<<l&&(h[f++]=a[l]);r.push(h)}return s(r)}e.dimension=function(t){for(var e=0,r=Math.max,n=0,i=t.length;n<i;++n)e=r(e,t[n].length);return e-1},e.countVertices=function(t){for(var e=-1,r=Math.max,n=0,i=t.length;n<i;++n)for(var o=t[n],a=0,s=o.length;a<s;++a)e=r(e,o[a]);return e+1},e.cloneCells=function(t){for(var e=new Array(t.length),r=0,n=t.length;r<n;++r)e[r]=t[r].slice(0);return e},e.compareCells=o,e.normalize=s,e.unique=u,e.findCell=h,e.incidence=f,e.dual=function(t,e){if(!e)return f(u(l(t,0)),t);for(var r=new Array(e),n=0;n<e;++n)r[n]=[];n=0;for(var i=t.length;n<i;++n)for(var o=t[n],a=0,s=o.length;a<s;++a)r[o[a]].push(n);return r},e.explode=function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0|i.length,a=1,u=1<<o;a<u;++a){for(var h=[],f=0;f<o;++f)a>>>f&1&&h.push(i[f]);e.push(h)}return s(e)},e.skeleton=l,e.boundary=function(t){for(var e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;++o){for(var u=new Array(i.length-1),h=0,f=0;h<a;++h)h!==o&&(u[f++]=i[h]);e.push(u)}return s(e)},e.connectedComponents=function(t,e){return e?function(t,e){for(var r=new i(e),n=0;n<t.length;++n)for(var o=t[n],a=0;a<o.length;++a)for(var s=a+1;s<o.length;++s)r.link(o[a],o[s]);var u=[],h=r.ranks;for(n=0;n<h.length;++n)h[n]=-1;for(n=0;n<t.length;++n){var f=r.find(t[n][0]);h[f]<0?(h[f]=u.length,u.push([t[n].slice(0)])):u[h[f]].push(t[n].slice(0))}return u}(t,e):function(t){for(var e=u(s(l(t,0))),r=new i(e.length),n=0;n<t.length;++n)for(var o=t[n],a=0;a<o.length;++a)for(var f=h(e,[o[a]]),c=a+1;c<o.length;++c)r.link(f,h(e,[o[c]]));var d=[],p=r.ranks;for(n=0;n<p.length;++n)p[n]=-1;for(n=0;n<t.length;++n){var v=r.find(h(e,[t[n][0]]));p[v]<0?(p[v]=d.length,d.push([t[n].slice(0)])):d[p[v]].push(t[n].slice(0))}return d}(t)}},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,e|=r=((t>>>=e)>255)<<3,e|=r=((t>>>=r)>15)<<2,(e|=r=((t>>>=r)>3)<<1)|(t>>>=r)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";"use restrict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=n,n.prototype.length=function(){return this.roots.length},n.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},n.prototype.find=function(t){for(var e=this.roots;e[t]!==t;){var r=e[t];e[t]=e[r],t=r}return t},n.prototype.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var i=this.ranks,o=this.roots,a=i[r],s=i[n];a<s?o[r]=n:s<a?o[n]=r:(o[n]=r,++i[r])}}},function(t,e,r){"use strict";t.exports=function(t,e,r){var n;if(r){n=e;for(var i=new Array(e.length),o=0;o<e.length;++o){var a=e[o];i[o]=[a[0],a[1],r[o]]}e=i}var s=function(t,e,r){var n=p(t,[],d(t));return m(e,n,r),!!n}(t,e,!!r);for(;_(t,e,!!r);)s=!0;if(r&&s){n.length=0,r.length=0;for(var o=0;o<e.length;++o){var a=e[o];n.push([a[0],a[1]]),r.push(a[2])}}return s};var n=r(228),i=r(229),o=r(234),a=r(48),s=r(239),u=r(240),h=r(243),f=r(244),l=r(245);function c(t){var e=u(t);return[f(e,-1/0),f(e,1/0)]}function d(t){for(var e=new Array(t.length),r=0;r<t.length;++r){var n=t[r];e[r]=[f(n[0],-1/0),f(n[1],-1/0),f(n[0],1/0),f(n[1],1/0)]}return e}function p(t,e,r){for(var o=e.length,a=new n(o),s=[],u=0;u<e.length;++u){var h=e[u],l=c(h[0]),d=c(h[1]);s.push([f(l[0],-1/0),f(d[0],-1/0),f(l[1],1/0),f(d[1],1/0)])}i(s,function(t,e){a.link(t,e)});var p=!0,v=new Array(o);for(u=0;u<o;++u){(m=a.find(u))!==u&&(p=!1,t[m]=[Math.min(t[u][0],t[m][0]),Math.min(t[u][1],t[m][1])])}if(p)return null;var g=0;for(u=0;u<o;++u){var m;(m=a.find(u))===u?(v[u]=g,t[g++]=t[u]):v[u]=-1}t.length=g;for(u=0;u<o;++u)v[u]<0&&(v[u]=v[a.find(u)]);return v}function v(t,e){return t[0]-e[0]||t[1]-e[1]}function g(t,e){var r=t[0]-e[0]||t[1]-e[1];return r||(t[2]<e[2]?-1:t[2]>e[2]?1:0)}function m(t,e,r){if(0!==t.length){if(e)for(var n=0;n<t.length;++n){var i=e[(a=t[n])[0]],o=e[a[1]];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}else for(n=0;n<t.length;++n){var a;i=(a=t[n])[0],o=a[1];a[0]=Math.min(i,o),a[1]=Math.max(i,o)}r?t.sort(g):t.sort(v);var s=1;for(n=1;n<t.length;++n){var u=t[n-1],h=t[n];(h[0]!==u[0]||h[1]!==u[1]||r&&h[2]!==u[2])&&(t[s++]=h)}t.length=s}}function _(t,e,r){var n=function(t,e){for(var r=new Array(e.length),n=0;n<e.length;++n){var i=e[n],o=t[i[0]],a=t[i[1]];r[n]=[f(Math.min(o[0],a[0]),-1/0),f(Math.min(o[1],a[1]),-1/0),f(Math.max(o[0],a[0]),1/0),f(Math.max(o[1],a[1]),1/0)]}return r}(t,e),c=function(t,e,r){var n=[];return i(r,function(r,i){var a=e[r],s=e[i];if(a[0]!==s[0]&&a[0]!==s[1]&&a[1]!==s[0]&&a[1]!==s[1]){var u=t[a[0]],h=t[a[1]],f=t[s[0]],l=t[s[1]];o(u,h,f,l)&&n.push([r,i])}}),n}(t,e,n),v=d(t),g=function(t,e,r,n){var a=[];return i(r,n,function(r,n){var i=e[r];if(i[0]!==n&&i[1]!==n){var s=t[n],u=t[i[0]],h=t[i[1]];o(u,h,s,s)&&a.push([r,n])}}),a}(t,e,n,v),_=p(t,function(t,e,r,n,i){var o,f,c=t.map(function(t){return[a(t[0]),a(t[1])]});for(o=0;o<r.length;++o){var d=r[o];f=d[0];var p=d[1],v=e[f],g=e[p],m=l(h(t[v[0]]),h(t[v[1]]),h(t[g[0]]),h(t[g[1]]));if(m){var _=t.length;t.push([u(m[0]),u(m[1])]),c.push(m),n.push([f,_],[p,_])}}for(n.sort(function(t,e){if(t[0]!==e[0])return t[0]-e[0];var r=c[t[1]],n=c[e[1]];return s(r[0],n[0])||s(r[1],n[1])}),o=n.length-1;o>=0;--o){var b=e[f=(k=n[o])[0]],y=b[0],w=b[1],x=t[y],M=t[w];if((x[0]-M[0]||x[1]-M[1])<0){var E=y;y=w,w=E}b[0]=y;var A,T=b[1]=k[1];for(i&&(A=b[2]);o>0&&n[o-1][0]===f;){var k,S=(k=n[--o])[1];i?e.push([T,S,A]):e.push([T,S]),T=S}i?e.push([T,w,A]):e.push([T,w])}return c}(t,e,c,g,r));return m(e,_,r),!!_||(c.length>0||g.length>0)}},function(t,e,r){"use strict";"use restrict";function n(t){this.roots=new Array(t),this.ranks=new Array(t);for(var e=0;e<t;++e)this.roots[e]=e,this.ranks[e]=0}t.exports=n;var i=n.prototype;Object.defineProperty(i,"length",{get:function(){return this.roots.length}}),i.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},i.find=function(t){for(var e=t,r=this.roots;r[t]!==t;)t=r[t];for(;r[e]!==t;){var n=r[e];r[e]=t,e=n}return t},i.link=function(t,e){var r=this.find(t),n=this.find(e);if(r!==n){var i=this.ranks,o=this.roots,a=i[r],s=i[n];a<s?o[r]=n:s<a?o[n]=r:(o[n]=r,++i[r])}}},function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 1:return function(t){return n=[],h(t,t,f,!0),n}(t);case 2:return"function"==typeof e?h(t,t,e,!0):function(t,e){return n=[],h(t,e,f,!1),n}(t,e);case 3:return h(t,e,r,!1);default:throw new Error("box-intersect: Invalid arguments")}};var n,i=r(4),o=r(99),a=r(231);function s(t,e){for(var r=0;r<t;++r)if(!(e[r]<=e[r+t]))return!0;return!1}function u(t,e,r,n){for(var i=0,o=0,a=0,u=t.length;a<u;++a){var h=t[a];if(!s(e,h)){for(var f=0;f<2*e;++f)r[i++]=h[f];n[o++]=a}}return o}function h(t,e,r,n){var s=t.length,h=e.length;if(!(s<=0||h<=0)){var f=t[0].length>>>1;if(!(f<=0)){var l,c=i.mallocDouble(2*f*s),d=i.mallocInt32(s);if((s=u(t,f,c,d))>0){if(1===f&&n)o.init(s),l=o.sweepComplete(f,r,0,s,c,d,0,s,c,d);else{var p=i.mallocDouble(2*f*h),v=i.mallocInt32(h);(h=u(e,f,p,v))>0&&(o.init(s+h),l=1===f?o.sweepBipartite(f,r,0,s,c,d,0,h,p,v):a(f,r,n,s,c,d,h,p,v),i.free(p),i.free(v))}i.free(c),i.free(d)}return l}}}function f(t,e){n.push([t,e])}},function(t,e,r){"use strict";t.exports=function(t,e){e<=4*n?i(0,e-1,t):function t(e,r,l){var c=(r-e+1)/6|0,d=e+c,p=r-c,v=e+r>>1,g=v-c,m=v+c,_=d,b=g,y=v,w=m,x=p,M=e+1,E=r-1,A=0;h(_,b,l)&&(A=_,_=b,b=A);h(w,x,l)&&(A=w,w=x,x=A);h(_,y,l)&&(A=_,_=y,y=A);h(b,y,l)&&(A=b,b=y,y=A);h(_,w,l)&&(A=_,_=w,w=A);h(y,w,l)&&(A=y,y=w,w=A);h(b,x,l)&&(A=b,b=x,x=A);h(b,y,l)&&(A=b,b=y,y=A);h(w,x,l)&&(A=w,w=x,x=A);var T=l[2*b];var k=l[2*b+1];var S=l[2*w];var R=l[2*w+1];var C=2*_;var I=2*y;var L=2*x;var P=2*d;var N=2*v;var O=2*p;for(var B=0;B<2;++B){var F=l[C+B],D=l[I+B],U=l[L+B];l[P+B]=F,l[N+B]=D,l[O+B]=U}a(g,e,l);a(m,r,l);for(var j=M;j<=E;++j)if(f(j,T,k,l))j!==M&&o(j,M,l),++M;else if(!f(j,S,R,l))for(;;){if(f(E,S,R,l)){f(E,T,k,l)?(s(j,M,E,l),++M,--E):(o(j,E,l),--E);break}if(--E<j)break}u(e,M-1,T,k,l);u(r,E+1,S,R,l);M-2-e<=n?i(e,M-2,l):t(e,M-2,l);r-(E+2)<=n?i(E+2,r,l):t(E+2,r,l);E-M<=n?i(M,E,l):t(M,E,l)}(0,e-1,t)};var n=32;function i(t,e,r){for(var n=2*(t+1),i=t+1;i<=e;++i){for(var o=r[n++],a=r[n++],s=i,u=n-2;s-- >t;){var h=r[u-2],f=r[u-1];if(h<o)break;if(h===o&&f<a)break;r[u]=h,r[u+1]=f,u-=2}r[u]=o,r[u+1]=a}}function o(t,e,r){e*=2;var n=r[t*=2],i=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=n,r[e+1]=i}function a(t,e,r){e*=2,r[t*=2]=r[e],r[t+1]=r[e+1]}function s(t,e,r,n){e*=2,r*=2;var i=n[t*=2],o=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=n[r],n[e+1]=n[r+1],n[r]=i,n[r+1]=o}function u(t,e,r,n,i){e*=2,i[t*=2]=i[e],i[e]=r,i[t+1]=i[e+1],i[e+1]=n}function h(t,e,r){e*=2;var n=r[t*=2],i=r[e];return!(n<i)&&(n!==i||r[t+1]>r[e+1])}function f(t,e,r,n){var i=n[t*=2];return i<e||i===e&&n[t+1]<r}},function(t,e,r){"use strict";t.exports=function(t,e,r,o,f,k,S,R,C){!function(t,e){var r=8*i.log2(e+1)*(t+1)|0,o=i.nextPow2(y*r);x.length<o&&(n.free(x),x=n.mallocInt32(o));var a=i.nextPow2(w*r);M<a&&(n.free(M),M=n.mallocDouble(a))}(t,o+S);var I,L=0,P=2*t;E(L++,0,0,o,0,S,r?16:0,-1/0,1/0),r||E(L++,0,0,S,0,o,1,-1/0,1/0);for(;L>0;){var N=(L-=1)*y,O=x[N],B=x[N+1],F=x[N+2],D=x[N+3],U=x[N+4],j=x[N+5],z=L*w,V=M[z],q=M[z+1],H=1&j,X=!!(16&j),W=f,G=k,Y=R,Z=C;if(H&&(W=R,G=C,Y=f,Z=k),!(2&j&&(F=g(t,O,B,F,W,G,q),B>=F)||4&j&&(B=m(t,O,B,F,W,G,V))>=F)){var K=F-B,Q=U-D;if(X){if(t*K*(K+Q)<d){if(void 0!==(I=u.scanComplete(t,O,e,B,F,W,G,D,U,Y,Z)))return I;continue}}else{if(t*Math.min(K,Q)<l){if(void 0!==(I=a(t,O,e,H,B,F,W,G,D,U,Y,Z)))return I;continue}if(t*K*Q<c){if(void 0!==(I=u.scanBipartite(t,O,e,H,B,F,W,G,D,U,Y,Z)))return I;continue}}var J=p(t,O,B,F,W,G,V,q);if(B<J)if(t*(J-B)<l){if(void 0!==(I=s(t,O+1,e,B,J,W,G,D,U,Y,Z)))return I}else if(O===t-2){if(void 0!==(I=H?u.sweepBipartite(t,e,D,U,Y,Z,B,J,W,G):u.sweepBipartite(t,e,B,J,W,G,D,U,Y,Z)))return I}else E(L++,O+1,B,J,D,U,H,-1/0,1/0),E(L++,O+1,D,U,B,J,1^H,-1/0,1/0);if(J<F){var $=h(t,O,D,U,Y,Z),tt=Y[P*$+O],et=v(t,O,$,U,Y,Z,tt);if(et<U&&E(L++,O,J,F,et,U,(4|H)+(X?16:0),tt,q),D<$&&E(L++,O,J,F,D,$,(2|H)+(X?16:0),V,tt),$+1===et){if(void 0!==(I=X?T(t,O,e,J,F,W,G,$,Y,Z[$]):A(t,O,e,H,J,F,W,G,$,Y,Z[$])))return I}else if($<et){var rt;if(X){if(rt=_(t,O,J,F,W,G,tt),J<rt){var nt=v(t,O,J,rt,W,G,tt);if(O===t-2){if(J<nt&&void 0!==(I=u.sweepComplete(t,e,J,nt,W,G,$,et,Y,Z)))return I;if(nt<rt&&void 0!==(I=u.sweepBipartite(t,e,nt,rt,W,G,$,et,Y,Z)))return I}else J<nt&&E(L++,O+1,J,nt,$,et,16,-1/0,1/0),nt<rt&&(E(L++,O+1,nt,rt,$,et,0,-1/0,1/0),E(L++,O+1,$,et,nt,rt,1,-1/0,1/0))}}else rt=H?b(t,O,J,F,W,G,tt):_(t,O,J,F,W,G,tt),J<rt&&(O===t-2?I=H?u.sweepBipartite(t,e,$,et,Y,Z,J,rt,W,G):u.sweepBipartite(t,e,J,rt,W,G,$,et,Y,Z):(E(L++,O+1,J,rt,$,et,H,-1/0,1/0),E(L++,O+1,$,et,J,rt,1^H,-1/0,1/0)))}}}}};var n=r(4),i=r(11),o=r(232),a=o.partial,s=o.full,u=r(99),h=r(233),f=r(100),l=128,c=1<<22,d=1<<22,p=f("!(lo>=p0)&&!(p1>=hi)",["p0","p1"]),v=f("lo===p0",["p0"]),g=f("lo<p0",["p0"]),m=f("hi<=p0",["p0"]),_=f("lo<=p0&&p0<=hi",["p0"]),b=f("lo<p0&&p0<=hi",["p0"]),y=6,w=2,x=n.mallocInt32(1024),M=n.mallocDouble(1024);function E(t,e,r,n,i,o,a,s,u){var h=y*t;x[h]=e,x[h+1]=r,x[h+2]=n,x[h+3]=i,x[h+4]=o,x[h+5]=a;var f=w*t;M[f]=s,M[f+1]=u}function A(t,e,r,n,i,o,a,s,u,h,f){var l=2*t,c=u*l,d=h[c+e];t:for(var p=i,v=i*l;p<o;++p,v+=l){var g=a[v+e],m=a[v+e+t];if(!(d<g||m<d)&&(!n||d!==g)){for(var _,b=s[p],y=e+1;y<t;++y){g=a[v+y],m=a[v+y+t];var w=h[c+y],x=h[c+y+t];if(m<w||x<g)continue t}if(void 0!==(_=n?r(f,b):r(b,f)))return _}}}function T(t,e,r,n,i,o,a,s,u,h){var f=2*t,l=s*f,c=u[l+e];t:for(var d=n,p=n*f;d<i;++d,p+=f){var v=a[d];if(v!==h){var g=o[p+e],m=o[p+e+t];if(!(c<g||m<c)){for(var _=e+1;_<t;++_){g=o[p+_],m=o[p+_+t];var b=u[l+_],y=u[l+_+t];if(m<b||y<g)continue t}var w=r(v,h);if(void 0!==w)return w}}}}},function(t,e,r){"use strict";var n="d",i="ax",o="vv",a="fp",s="es",u="rs",h="re",f="rb",l="ri",c="rp",d="bs",p="be",v="bb",g="bi",m="bp",_="rv",b="Q",y=[n,i,o,u,h,f,l,d,p,v,g];function w(t){var e="bruteForce"+(t?"Full":"Partial"),r=[],w=y.slice();t||w.splice(3,0,a);var x=["function "+e+"("+w.join()+"){"];function M(e,a){var w=function(t,e,r){var a="bruteForce"+(t?"Red":"Blue")+(e?"Flip":"")+(r?"Full":""),w=["function ",a,"(",y.join(),"){","var ",s,"=2*",n,";"],x="for(var i="+u+","+c+"="+s+"*"+u+";i<"+h+";++i,"+c+"+="+s+"){var x0="+f+"["+i+"+"+c+"],x1="+f+"["+i+"+"+c+"+"+n+"],xi="+l+"[i];",M="for(var j="+d+","+m+"="+s+"*"+d+";j<"+p+";++j,"+m+"+="+s+"){var y0="+v+"["+i+"+"+m+"],"+(r?"y1="+v+"["+i+"+"+m+"+"+n+"],":"")+"yi="+g+"[j];";return t?w.push(x,b,":",M):w.push(M,b,":",x),r?w.push("if(y1<x0||x1<y0)continue;"):e?w.push("if(y0<=x0||x1<y0)continue;"):w.push("if(y0<x0||x1<y0)continue;"),w.push("for(var k="+i+"+1;k<"+n+";++k){var r0="+f+"[k+"+c+"],r1="+f+"[k+"+n+"+"+c+"],b0="+v+"[k+"+m+"],b1="+v+"[k+"+n+"+"+m+"];if(r1<b0||b1<r0)continue "+b+";}var "+_+"="+o+"("),e?w.push("yi,xi"):w.push("xi,yi"),w.push(");if("+_+"!==void 0)return "+_+";}}}"),{name:a,code:w.join("")}}(e,a,t);r.push(w.code),x.push("return "+w.name+"("+y.join()+");")}x.push("if("+h+"-"+u+">"+p+"-"+d+"){"),t?(M(!0,!1),x.push("}else{"),M(!1,!1)):(x.push("if("+a+"){"),M(!0,!0),x.push("}else{"),M(!0,!1),x.push("}}else{if("+a+"){"),M(!1,!0),x.push("}else{"),M(!1,!1),x.push("}")),x.push("}}return "+e);var E=r.join("")+x.join("");return new Function(E)()}e.partial=w(!1),e.full=w(!0)},function(t,e,r){"use strict";t.exports=function(t,e,r,a,s,u){if(a<=r+1)return r;var h=r,f=a,l=a+r>>>1,c=2*t,d=l,p=s[c*l+e];for(;h<f;){if(f-h<i){o(t,e,h,f,s,u),p=s[c*l+e];break}var v=f-h,g=Math.random()*v+h|0,m=s[c*g+e],_=Math.random()*v+h|0,b=s[c*_+e],y=Math.random()*v+h|0,w=s[c*y+e];m<=b?w>=b?(d=_,p=b):m>=w?(d=g,p=m):(d=y,p=w):b>=w?(d=_,p=b):w>=m?(d=g,p=m):(d=y,p=w);for(var x=c*(f-1),M=c*d,E=0;E<c;++E,++x,++M){var A=s[x];s[x]=s[M],s[M]=A}var T=u[f-1];u[f-1]=u[d],u[d]=T,d=n(t,e,h,f-1,s,u,p);for(var x=c*(f-1),M=c*d,E=0;E<c;++E,++x,++M){var A=s[x];s[x]=s[M],s[M]=A}var T=u[f-1];if(u[f-1]=u[d],u[d]=T,l<d){for(f=d-1;h<f&&s[c*(f-1)+e]===p;)f-=1;f+=1}else{if(!(d<l))break;for(h=d+1;h<f&&s[c*h+e]===p;)h+=1}}return n(t,e,r,l,s,u,s[c*l+e])};var n=r(100)("lo<p0",["p0"]),i=8;function o(t,e,r,n,i,o){for(var a=2*t,s=a*(r+1)+e,u=r+1;u<n;++u,s+=a)for(var h=i[s],f=u,l=a*(u-1);f>r&&i[l+e]>h;--f,l-=a){for(var c=l,d=l+a,p=0;p<a;++p,++c,++d){var v=i[c];i[c]=i[d],i[d]=v}var g=o[f];o[f]=o[f-1],o[f-1]=g}}},function(t,e,r){"use strict";t.exports=function(t,e,r,i){var o=n(t,r,i),a=n(e,r,i);if(o>0&&a>0||o<0&&a<0)return!1;var s=n(r,t,e),u=n(i,t,e);if(s>0&&u>0||s<0&&u<0)return!1;if(0===o&&0===a&&0===s&&0===u)return function(t,e,r,n){for(var i=0;i<2;++i){var o=t[i],a=e[i],s=Math.min(o,a),u=Math.max(o,a),h=r[i],f=n[i],l=Math.min(h,f),c=Math.max(h,f);if(c<s||u<l)return!1}return!0}(t,e,r,i);return!0};var n=r(7)[3]},function(t,e,r){"use strict";var n=r(101);t.exports=function(t){return Array.isArray(t)&&2===t.length&&n(t[0])&&n(t[1])}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){},function(t,e,r){"use strict";var n=r(31);t.exports=function(t){return new n(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}},function(t,e,r){"use strict";var n=r(241),i=r(242);t.exports=function(t){var e=t[0],r=t[1];if(0===e.cmpn(0))return 0;var o=e.abs().divmod(r.abs()),a=o.div,s=n(a),u=o.mod,h=e.negative!==r.negative?-1:1;if(0===u.cmpn(0))return h*s;if(s){var f=i(s)+4,l=n(u.ushln(f).divRound(r));return h*(s+l*Math.pow(2,-f))}var c=r.bitLength()-u.bitLength()+53,l=n(u.ushln(c).divRound(r));return c<1023?h*l*Math.pow(2,-c):(l*=Math.pow(2,-1023),h*l*Math.pow(2,1023-c))}},function(t,e,r){"use strict";var n=r(50);t.exports=function(t){var e=t.length,r=t.words,i=0;if(1===e)i=r[0];else if(2===e)i=r[0]+67108864*r[1];else for(var o=0;o<e;o++){var a=r[o];i+=a*Math.pow(67108864,o)}return n(t)*i}},function(t,e,r){"use strict";var n=r(49),i=r(11).countTrailingZeros;t.exports=function(t){var e=i(n.lo(t));if(e<32)return e;var r=i(n.hi(t));if(r>20)return 52;return r+32}},function(t,e,r){"use strict";t.exports=function(t){for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=n(t[r]);return e};var n=r(48)},function(t,e,r){"use strict";var n=r(49),i=Math.pow(2,-1074),o=-1>>>0;t.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-i:i;var r=n.hi(t),a=n.lo(t);e>t==t>0?a===o?(r+=1,a=0):a+=1:0===a?(a=o,r-=1):a-=1;return n.pack(a,r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n){var o=s(e,t),l=s(n,r),c=f(o,l);if(0===a(c))return null;var d=s(t,r),p=f(l,d),v=i(p,c),g=h(o,v);return u(t,g)};var n=r(104),i=r(103),o=r(105),a=r(246),s=r(247),u=r(248),h=r(250);function f(t,e){return o(n(t[0],e[1]),n(t[1],e[0]))}},function(t,e,r){"use strict";var n=r(50);t.exports=function(t){return n(t[0])*n(t[1])}},function(t,e,r){"use strict";var n=r(105);t.exports=function(t,e){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=n(t[o],e[o]);return i}},function(t,e,r){"use strict";var n=r(249);t.exports=function(t,e){for(var r=t.length,i=new Array(r),o=0;o<r;++o)i[o]=n(t[o],e[o]);return i}},function(t,e,r){"use strict";var n=r(24);t.exports=function(t,e){return n(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}},function(t,e,r){"use strict";var n=r(48),i=r(104);t.exports=function(t,e){for(var r=n(e),o=t.length,a=new Array(o),s=0;s<o;++s)a[s]=i(t[s],r);return a}},function(t,e,r){"use strict";var n=r(252),i=r(253),o=r(254),a=r(256);function s(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function u(t,e){return t[0]-e[0]||t[1]-e[1]}function h(t,e,r){return e in t?t[e]:r}t.exports=function(t,e,r){Array.isArray(e)?(r=r||{},e=e||[]):(r=e||{},e=[]);var f=!!h(r,"delaunay",!0),l=!!h(r,"interior",!0),c=!!h(r,"exterior",!0),d=!!h(r,"infinity",!1);if(!l&&!c||0===t.length)return[];var p=n(t,e);if(f||l!==c||d){for(var v=i(t.length,function(t){return t.map(s).sort(u)}(e)),g=0;g<p.length;++g){var m=p[g];v.addTriangle(m[0],m[1],m[2])}return f&&o(t,v),c?l?d?a(v,0,d):v.cells():a(v,1,d):a(v,-1)}return p}},function(t,e,r){"use strict";var n=r(32),i=r(7)[3],o=0,a=1,s=2;function u(t,e,r,n,i){this.a=t,this.b=e,this.idx=r,this.lowerIds=n,this.upperIds=i}function h(t,e,r,n){this.a=t,this.b=e,this.type=r,this.idx=n}function f(t,e){var r=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return r||(t.type!==o&&(r=i(t.a,t.b,e.b))?r:t.idx-e.idx)}function l(t,e){return i(t.a,t.b,e)}function c(t,e,r,o,a){for(var s=n.lt(e,o,l),u=n.gt(e,o,l),h=s;h<u;++h){for(var f=e[h],c=f.lowerIds,d=c.length;d>1&&i(r[c[d-2]],r[c[d-1]],o)>0;)t.push([c[d-1],c[d-2],a]),d-=1;c.length=d,c.push(a);var p=f.upperIds;for(d=p.length;d>1&&i(r[p[d-2]],r[p[d-1]],o)<0;)t.push([p[d-2],p[d-1],a]),d-=1;p.length=d,p.push(a)}}function d(t,e){var r;return(r=t.a[0]<e.a[0]?i(t.a,t.b,e.a):i(e.b,e.a,t.a))?r:(r=e.b[0]<t.b[0]?i(t.a,t.b,e.b):i(e.b,e.a,t.b))||t.idx-e.idx}function p(t,e,r){var i=n.le(t,r,d),o=t[i],a=o.upperIds,s=a[a.length-1];o.upperIds=[s],t.splice(i+1,0,new u(r.a,r.b,r.idx,[s],a))}function v(t,e,r){var i=r.a;r.a=r.b,r.b=i;var o=n.eq(t,r,d),a=t[o];t[o-1].upperIds=a.upperIds,t.splice(o,1)}t.exports=function(t,e){for(var r=t.length,n=e.length,i=[],l=0;l<r;++l)i.push(new h(t[l],null,o,l));for(var l=0;l<n;++l){var d=e[l],g=t[d[0]],m=t[d[1]];g[0]<m[0]?i.push(new h(g,m,s,l),new h(m,g,a,l)):g[0]>m[0]&&i.push(new h(m,g,s,l),new h(g,m,a,l))}i.sort(f);for(var _=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),b=[new u([_,1],[_,0],-1,[],[],[],[])],y=[],l=0,w=i.length;l<w;++l){var x=i[l],M=x.type;M===o?c(y,b,t,x.a,x.idx):M===s?p(b,t,x):v(b,t,x)}return y}},function(t,e,r){"use strict";var n=r(32);function i(t,e){this.stars=t,this.edges=e}t.exports=function(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=[];return new i(r,e)};var o=i.prototype;function a(t,e,r){for(var n=1,i=t.length;n<i;n+=2)if(t[n-1]===e&&t[n]===r)return t[n-1]=t[i-2],t[n]=t[i-1],void(t.length=i-2)}o.isConstraint=function(){var t=[0,0];function e(t,e){return t[0]-e[0]||t[1]-e[1]}return function(r,i){return t[0]=Math.min(r,i),t[1]=Math.max(r,i),n.eq(this.edges,t,e)>=0}}(),o.removeTriangle=function(t,e,r){var n=this.stars;a(n[t],e,r),a(n[e],r,t),a(n[r],t,e)},o.addTriangle=function(t,e,r){var n=this.stars;n[t].push(e,r),n[e].push(r,t),n[r].push(t,e)},o.opposite=function(t,e){for(var r=this.stars[e],n=1,i=r.length;n<i;n+=2)if(r[n]===t)return r[n-1];return-1},o.flip=function(t,e){var r=this.opposite(t,e),n=this.opposite(e,t);this.removeTriangle(t,e,r),this.removeTriangle(e,t,n),this.addTriangle(t,n,r),this.addTriangle(e,r,n)},o.edges=function(){for(var t=this.stars,e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;o+=2)e.push([i[o],i[o+1]]);return e},o.cells=function(){for(var t=this.stars,e=[],r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length;o<a;o+=2){var s=i[o],u=i[o+1];r<Math.min(s,u)&&e.push([r,s,u])}return e}},function(t,e,r){"use strict";var n=r(255)[4];r(32);function i(t,e,r,i,o,a){var s=e.opposite(i,o);if(!(s<0)){if(o<i){var u=i;i=o,o=u,u=a,a=s,s=u}e.isConstraint(i,o)||n(t[i],t[o],t[a],t[s])<0&&r.push(i,o)}}t.exports=function(t,e){for(var r=[],o=t.length,a=e.stars,s=0;s<o;++s)for(var u=a[s],h=1;h<u.length;h+=2){var f=u[h];if(!(f<s)&&!e.isConstraint(s,f)){for(var l=u[h-1],c=-1,d=1;d<u.length;d+=2)if(u[d-1]===f){c=u[d];break}c<0||n(t[s],t[f],t[l],t[c])<0&&r.push(s,f)}}for(;r.length>0;){for(var f=r.pop(),s=r.pop(),l=-1,c=-1,u=a[s],p=1;p<u.length;p+=2){var v=u[p-1],g=u[p];v===f?c=g:g===f&&(l=v)}l<0||c<0||(n(t[s],t[f],t[l],t[c])>=0||(e.flip(s,f),i(t,e,r,l,s,c),i(t,e,r,s,c,l),i(t,e,r,c,f,l),i(t,e,r,f,l,c)))}}},function(t,e,r){"use strict";var n=r(23),i=r(12),o=r(98),a=r(47),s=6;function u(t,e){for(var r=new Array(t.length-1),n=1;n<t.length;++n)for(var i=r[n-1]=new Array(t.length-1),o=0,a=0;o<t.length;++o)o!==e&&(i[a++]=t[n][o]);return r}function h(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",h(t.slice(0,e)),",",h(t.slice(e)),")"].join("")}function f(t,e){if("m"===t.charAt(0)){if("w"===e.charAt(0)){var r=t.split("[");return["w",e.substr(1),"m",r[0].substr(1)].join("")}return["prod(",t,",",e,")"].join("")}return f(e,t)}function l(t){return!0&t?"-":""}function c(t){if(2===t.length)return[["diff(",f(t[0][0],t[1][1]),",",f(t[1][0],t[0][1]),")"].join("")];for(var e=[],r=0;r<t.length;++r)e.push(["scale(",h(c(u(t,r))),",",l(r),t[0][r],")"].join(""));return e}function d(t,e){for(var r=[],n=0;n<e-2;++n)r.push(["prod(m",t,"[",n,"],m",t,"[",n,"])"].join(""));return h(r)}function p(t){for(var e=[],r=[],s=function(t){for(var e=new Array(t),r=0;r<t;++r){e[r]=new Array(t);for(var n=0;n<t;++n)e[r][n]=["m",n,"[",t-r-2,"]"].join("")}return e}(t),f=0;f<t;++f)s[0][f]="1",s[t-1][f]="w"+f;for(f=0;f<t;++f)0==(1&f)?e.push.apply(e,c(u(s,f))):r.push.apply(r,c(u(s,f)));var l=h(e),p=h(r),v="exactInSphere"+t,g=[];for(f=0;f<t;++f)g.push("m"+f);var m=["function ",v,"(",g.join(),"){"];for(f=0;f<t;++f){m.push("var w",f,"=",d(f,t),";");for(var _=0;_<t;++_)_!==f&&m.push("var w",f,"m",_,"=scale(w",f,",m",_,"[0]);")}return m.push("var p=",l,",n=",p,",d=diff(p,n);return d[d.length-1];}return ",v),new Function("sum","diff","prod","scale",m.join(""))(i,o,n,a)}var v=[function(){return 0},function(){return 0},function(){return 0}];!function(){for(;v.length<=s;)v.push(p(v.length));for(var e=[],r=["slow"],n=0;n<=s;++n)e.push("a"+n),r.push("o"+n);var i=["function testInSphere(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(n=2;n<=s;++n)i.push("case ",n,":return o",n,"(",e.slice(0,n).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return testInSphere"),r.push(i.join(""));var o=Function.apply(void 0,r);for(t.exports=o.apply(void 0,[function(t){var e=v[t.length];return e||(e=v[t.length]=p(t.length)),e.apply(void 0,t)}].concat(v)),n=0;n<=s;++n)t.exports[n]=v[n]}()},function(t,e,r){"use strict";var n=r(32);function i(t,e,r,n,i,o,a){this.cells=t,this.neighbor=e,this.flags=n,this.constraint=r,this.active=i,this.next=o,this.boundary=a}function o(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}t.exports=function(t,e,r){var n=function(t,e){for(var r=t.cells(),n=r.length,a=0;a<n;++a){var s=r[a],u=s[0],h=s[1],f=s[2];h<f?h<u&&(s[0]=h,s[1]=f,s[2]=u):f<u&&(s[0]=f,s[1]=u,s[2]=h)}r.sort(o);for(var l=new Array(n),a=0;a<l.length;++a)l[a]=0;var c=[],d=[],p=new Array(3*n),v=new Array(3*n),g=null;e&&(g=[]);for(var m=new i(r,p,v,l,c,d,g),a=0;a<n;++a)for(var s=r[a],_=0;_<3;++_){var u=s[_],h=s[(_+1)%3],b=p[3*a+_]=m.locate(h,u,t.opposite(h,u)),y=v[3*a+_]=t.isConstraint(u,h);b<0&&(y?d.push(a):(c.push(a),l[a]=1),e&&g.push([h,u,-1]))}return m}(t,r);if(0===e)return r?n.cells.concat(n.boundary):n.cells;var a=1,s=n.active,u=n.next,h=n.flags,f=n.cells,l=n.constraint,c=n.neighbor;for(;s.length>0||u.length>0;){for(;s.length>0;){var d=s.pop();if(h[d]!==-a){h[d]=a;f[d];for(var p=0;p<3;++p){var v=c[3*d+p];v>=0&&0===h[v]&&(l[3*d+p]?u.push(v):(s.push(v),h[v]=a))}}}var g=u;u=s,s=g,u.length=0,a=-a}var m=function(t,e,r){for(var n=0,i=0;i<t.length;++i)e[i]===r&&(t[n++]=t[i]);return t.length=n,t}(f,h,e);if(r)return m.concat(n.boundary);return m},i.prototype.locate=function(){var t=[0,0,0];return function(e,r,i){var a=e,s=r,u=i;return r<i?r<e&&(a=r,s=i,u=e):i<e&&(a=i,s=e,u=r),a<0?-1:(t[0]=a,t[1]=s,t[2]=u,n.eq(this.cells,t,o))}}()},function(t,e,r){"use strict";t.exports=function(t,e){var r=h(t,e);t=r[0];for(var l=(e=r[1]).length,c=(t.length,n(t,e.length)),d=0;d<l;++d)if(c[d].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var p=i(t,e);for(var v=(p=p.filter(function(t){for(var r=t.length,n=[0],i=0;i<r;++i){var o=e[t[i]],u=e[t[(i+1)%r]],h=a(-o[0],o[1]),f=a(-o[0],u[1]),l=a(u[0],o[1]),c=a(u[0],u[1]);n=s(n,s(s(h,f),s(l,c)))}return n[n.length-1]>0})).length,g=new Array(v),m=new Array(v),d=0;d<v;++d){g[d]=d;var _=new Array(v),b=p[d].map(function(t){return e[t]}),y=o([b]),w=0;t:for(var x=0;x<v;++x)if(_[x]=0,d!==x){for(var M=p[x],E=M.length,A=0;A<E;++A){var T=y(e[M[A]]);if(0!==T){T<0&&(_[x]=1,w+=1);continue t}}_[x]=1,w+=1}m[d]=[w,d,_]}m.sort(function(t,e){return e[0]-t[0]});for(var d=0;d<v;++d)for(var _=m[d],k=_[1],S=_[2],x=0;x<v;++x)S[x]&&(g[x]=k);for(var R=function(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=[];return e}(v),d=0;d<v;++d)R[d].push(g[d]),R[g[d]].push(d);for(var C={},I=f(l,!1),d=0;d<v;++d)for(var M=p[d],E=M.length,x=0;x<E;++x){var L=M[x],P=M[(x+1)%E],N=Math.min(L,P)+":"+Math.max(L,P);if(N in C){var O=C[N];R[O].push(d),R[d].push(O),I[L]=I[P]=!0}else C[N]=d}function B(t){for(var e=t.length,r=0;r<e;++r)if(!I[t[r]])return!1;return!0}for(var F=[],D=f(v,-1),d=0;d<v;++d)g[d]!==d||B(p[d])?D[d]=-1:(F.push(d),D[d]=0);var r=[];for(;F.length>0;){var U=F.pop(),j=R[U];u(j,function(t,e){return t-e});var z,V=j.length,q=D[U];if(0===q){var M=p[U];z=[M]}for(var d=0;d<V;++d){var H=j[d];if(!(D[H]>=0)&&(D[H]=1^q,F.push(H),0===q)){var M=p[H];B(M)||(M.reverse(),z.push(M))}}0===q&&r.push(z)}return r};var n=r(106),i=r(258),o=r(262),a=r(23),s=r(12),u=r(46),h=r(267);function f(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=0|e.length,i=t.length,o=[new Array(r),new Array(r)],a=0;a<r;++a)o[0][a]=[],o[1][a]=[];for(var a=0;a<i;++a){var s=t[a];o[0][s[0]].push(s),o[1][s[1]].push(s)}for(var u=[],a=0;a<r;++a)o[0][a].length+o[1][a].length===0&&u.push([a]);function h(t,e){var r=o[e][t[e]];r.splice(r.indexOf(t),1)}function f(t,r,i){for(var a,s,u,f=0;f<2;++f)if(o[f][r].length>0){a=o[f][r][0],u=f;break}s=a[1^u];for(var l=0;l<2;++l)for(var c=o[l][r],d=0;d<c.length;++d){var p=c[d],v=p[1^l],g=n(e[t],e[r],e[s],e[v]);g>0&&(a=p,s=v,u=l)}return i?s:(a&&h(a,u),s)}function l(t,r){var i=o[r][t][0],a=[t];h(i,r);for(var s=i[1^r];;){for(;s!==t;)a.push(s),s=f(a[a.length-2],s,!1);if(o[0][t].length+o[1][t].length===0)break;var u=a[a.length-1],l=t,c=a[1],d=f(u,l,!0);if(n(e[u],e[l],e[c],e[d])<0)break;a.push(t),s=f(u,l)}return a}function c(t,e){return e[1]===e[e.length-1]}for(var a=0;a<r;++a)for(var d=0;d<2;++d){for(var p=[];o[d][a].length>0;){o[0][a].length;var v=l(a,d);c(p,v)?p.push.apply(p,v):(p.length>0&&u.push(p),p=v)}p.length>0&&u.push(p)}return u};var n=r(259)},function(t,e,r){"use strict";t.exports=function(t,e,r,o){var a=n(e,r,o);if(0===a){var s=i(n(t,e,r)),h=i(n(t,e,o));if(s===h){if(0===s){var f=u(t,e,r),l=u(t,e,o);return f===l?0:f?1:-1}return 0}return 0===h?s>0?-1:u(t,e,o)?-1:1:0===s?h>0?1:u(t,e,r)?1:-1:i(h-s)}var c=n(t,e,r);if(c>0)return a>0&&n(t,e,o)>0?1:-1;if(c<0)return a>0||n(t,e,o)>0?1:-1;var d=n(t,e,o);return d>0?1:u(t,e,r)?1:-1};var n=r(7),i=r(260),o=r(97),a=r(261),s=r(12);function u(t,e,r){var n=o(t[0],-e[0]),i=o(t[1],-e[1]),u=o(r[0],-e[0]),h=o(r[1],-e[1]),f=s(a(n,u),a(i,h));return f[f.length-1]>=0}},function(t,e,r){"use strict";t.exports=function(t){return t<0?-1:t>0?1:0}},function(t,e,r){"use strict";var n=r(12),i=r(47);t.exports=function(t,e){if(1===t.length)return i(e,t[0]);if(1===e.length)return i(t,e[0]);if(0===t.length||0===e.length)return[0];var r=[0];if(t.length<e.length)for(var o=0;o<t.length;++o)r=n(r,i(e,t[o]));else for(var o=0;o<e.length;++o)r=n(r,i(t,e[o]));return r}},function(t,e,r){t.exports=function(t){for(var e=t.length,r=[],o=[],s=0;s<e;++s)for(var f=t[s],l=f.length,c=l-1,d=0;d<l;c=d++){var p=f[c],v=f[d];p[0]===v[0]?o.push([p,v]):r.push([p,v])}if(0===r.length)return 0===o.length?h:function(t){return function(e){return t(e[0],e[1])?0:1}}(u(o));var g=i(r),m=function(t,e){return function(r){var i=a.le(e,r[0]);if(i<0)return 1;var o=t[i];if(!o){if(!(i>0&&e[i]===r[0]))return 1;o=t[i-1]}for(var s=1;o;){var u=o.key,h=n(r,u[0],u[1]);if(u[0][0]<u[1][0])if(h<0)o=o.left;else{if(!(h>0))return 0;s=-1,o=o.right}else if(h>0)o=o.left;else{if(!(h<0))return 0;s=1,o=o.right}}return s}}(g.slabs,g.coordinates);return 0===o.length?m:function(t,e){return function(r){return t(r[0],r[1])?0:e(r)}}(u(o),m)};var n=r(7)[3],i=r(263),o=r(266),a=r(16);function s(){return!0}function u(t){for(var e={},r=0;r<t.length;++r){var n=t[r],i=n[0][0],a=n[0][1],u=n[1][1],h=[Math.min(a,u),Math.max(a,u)];i in e?e[i].push(h):e[i]=[h]}var f={},l=Object.keys(e);for(r=0;r<l.length;++r){var c=e[l[r]];f[l[r]]=o(c)}return function(t){return function(e,r){var n=t[e];return!!n&&!!n.queryPoint(r,s)}}(f)}function h(t){return 1}},function(t,e,r){"use strict";t.exports=function(t){for(var e=t.length,r=2*e,n=new Array(r),o=0;o<e;++o){var u=t[o],h=u[0][0]<u[1][0];n[2*o]=new l(u[0][0],u,h,o),n[2*o+1]=new l(u[1][0],u,!h,o)}n.sort(function(t,e){var r=t.x-e.x;return r||((r=t.create-e.create)||Math.min(t.segment[0][1],t.segment[1][1])-Math.min(e.segment[0][1],e.segment[1][1]))});for(var c=i(a),d=[],p=[],v=[],o=0;o<r;){for(var g=n[o].x,m=[];o<r;){var _=n[o];if(_.x!==g)break;o+=1,_.segment[0][0]===_.x&&_.segment[1][0]===_.x?_.create&&(_.segment[0][1]<_.segment[1][1]?(m.push(new f(_.segment[0][1],_.index,!0,!0)),m.push(new f(_.segment[1][1],_.index,!1,!1))):(m.push(new f(_.segment[1][1],_.index,!0,!1)),m.push(new f(_.segment[0][1],_.index,!1,!0)))):c=_.create?c.insert(_.segment,_.index):c.remove(_.segment)}d.push(c.root),p.push(g),v.push(m)}return new s(d,p,v)};var n=r(16),i=r(264),o=r(7),a=r(265);function s(t,e,r){this.slabs=t,this.coordinates=e,this.horizontal=r}function u(t,e){return t.y-e}function h(t,e){for(var r=null;t;){var n,i,a=t.key;a[0][0]<a[1][0]?(n=a[0],i=a[1]):(n=a[1],i=a[0]);var s=o(n,i,e);if(s<0)t=t.left;else if(s>0)if(e[0]!==a[1][0])r=t,t=t.right;else{if(u=h(t.right,e))return u;t=t.left}else{if(e[0]!==a[1][0])return t;var u;if(u=h(t.right,e))return u;t=t.left}}return r}function f(t,e,r,n){this.y=t,this.index=e,this.start=r,this.closed=n}function l(t,e,r,n){this.x=t,this.segment=e,this.create=r,this.index=n}s.prototype.castUp=function(t){var e=n.le(this.coordinates,t[0]);if(e<0)return-1;this.slabs[e];var r=h(this.slabs[e],t),i=-1;if(r&&(i=r.value),this.coordinates[e]===t[0]){var s=null;if(r&&(s=r.key),e>0){var f=h(this.slabs[e-1],t);f&&(s?a(f.key,s)>0&&(s=f.key,i=f.value):(i=f.value,s=f.key))}var l=this.horizontal[e];if(l.length>0){var c=n.ge(l,t[1],u);if(c<l.length){var d=l[c];if(t[1]===d.y){if(d.closed)return d.index;for(;c<l.length-1&&l[c+1].y===t[1];)if((d=l[c+=1]).closed)return d.index;if(d.y===t[1]&&!d.start){if((c+=1)>=l.length)return i;d=l[c]}}if(d.start)if(s){var p=o(s[0],s[1],[t[0],d.y]);s[0][0]>s[1][0]&&(p=-p),p>0&&(i=d.index)}else i=d.index;else d.y!==t[1]&&(i=d.index)}}}return i}},function(t,e,r){"use strict";t.exports=function(t){return new h(t||p,null)};var n=0,i=1;function o(t,e,r,n,i,o){this._color=t,this.key=e,this.value=r,this.left=n,this.right=i,this._count=o}function a(t){return new o(t._color,t.key,t.value,t.left,t.right,t._count)}function s(t,e){return new o(t,e.key,e.value,e.left,e.right,e._count)}function u(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function h(t,e){this._compare=t,this.root=e}var f=h.prototype;function l(t,e){this.tree=t,this._stack=e}Object.defineProperty(f,"keys",{get:function(){var t=[];return this.forEach(function(e,r){t.push(e)}),t}}),Object.defineProperty(f,"values",{get:function(){var t=[];return this.forEach(function(e,r){t.push(r)}),t}}),Object.defineProperty(f,"length",{get:function(){return this.root?this.root._count:0}}),f.insert=function(t,e){for(var r=this._compare,a=this.root,f=[],l=[];a;){var c=r(t,a.key);f.push(a),l.push(c),a=c<=0?a.left:a.right}f.push(new o(n,t,e,null,null,1));for(var d=f.length-2;d>=0;--d){a=f[d];l[d]<=0?f[d]=new o(a._color,a.key,a.value,f[d+1],a.right,a._count+1):f[d]=new o(a._color,a.key,a.value,a.left,f[d+1],a._count+1)}for(d=f.length-1;d>1;--d){var p=f[d-1];a=f[d];if(p._color===i||a._color===i)break;var v=f[d-2];if(v.left===p)if(p.left===a){if(!(g=v.right)||g._color!==n){if(v._color=n,v.left=p.right,p._color=i,p.right=v,f[d-2]=p,f[d-1]=a,u(v),u(p),d>=3)(m=f[d-3]).left===v?m.left=p:m.right=p;break}p._color=i,v.right=s(i,g),v._color=n,d-=1}else{if(!(g=v.right)||g._color!==n){if(p.right=a.left,v._color=n,v.left=a.right,a._color=i,a.left=p,a.right=v,f[d-2]=a,f[d-1]=p,u(v),u(p),u(a),d>=3)(m=f[d-3]).left===v?m.left=a:m.right=a;break}p._color=i,v.right=s(i,g),v._color=n,d-=1}else if(p.right===a){if(!(g=v.left)||g._color!==n){if(v._color=n,v.right=p.left,p._color=i,p.left=v,f[d-2]=p,f[d-1]=a,u(v),u(p),d>=3)(m=f[d-3]).right===v?m.right=p:m.left=p;break}p._color=i,v.left=s(i,g),v._color=n,d-=1}else{var g;if(!(g=v.left)||g._color!==n){var m;if(p.left=a.right,v._color=n,v.right=a.left,a._color=i,a.right=p,a.left=v,f[d-2]=a,f[d-1]=p,u(v),u(p),u(a),d>=3)(m=f[d-3]).right===v?m.right=a:m.left=a;break}p._color=i,v.left=s(i,g),v._color=n,d-=1}}return f[0]._color=i,new h(r,f[0])},f.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return function t(e,r){var n;if(r.left&&(n=t(e,r.left)))return n;return(n=e(r.key,r.value))||(r.right?t(e,r.right):void 0)}(t,this.root);case 2:return function t(e,r,n,i){if(r(e,i.key)<=0){var o;if(i.left&&(o=t(e,r,n,i.left)))return o;if(o=n(i.key,i.value))return o}if(i.right)return t(e,r,n,i.right)}(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return function t(e,r,n,i,o){var a,s=n(e,o.key),u=n(r,o.key);if(s<=0){if(o.left&&(a=t(e,r,n,i,o.left)))return a;if(u>0&&(a=i(o.key,o.value)))return a}if(u>0&&o.right)return t(e,r,n,i,o.right)}(e,r,this._compare,t,this.root)}},Object.defineProperty(f,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new l(this,t)}}),Object.defineProperty(f,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new l(this,t)}}),f.at=function(t){if(t<0)return new l(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new l(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new l(this,[])},f.ge=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o<=0&&(i=n.length),r=o<=0?r.left:r.right}return n.length=i,new l(this,n)},f.gt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o<0&&(i=n.length),r=o<0?r.left:r.right}return n.length=i,new l(this,n)},f.lt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o>0&&(i=n.length),r=o<=0?r.left:r.right}return n.length=i,new l(this,n)},f.le=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o>=0&&(i=n.length),r=o<0?r.left:r.right}return n.length=i,new l(this,n)},f.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var i=e(t,r.key);if(n.push(r),0===i)return new l(this,n);r=i<=0?r.left:r.right}return new l(this,[])},f.remove=function(t){var e=this.find(t);return e?e.remove():this},f.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var c=l.prototype;function d(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function p(t,e){return t<e?-1:t>e?1:0}Object.defineProperty(c,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(c,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),c.clone=function(){return new l(this.tree,this._stack.slice())},c.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),r=t[t.length-1];e[e.length-1]=new o(r._color,r.key,r.value,r.left,r.right,r._count);for(var f=t.length-2;f>=0;--f){(r=t[f]).left===t[f+1]?e[f]=new o(r._color,r.key,r.value,e[f+1],r.right,r._count):e[f]=new o(r._color,r.key,r.value,r.left,e[f+1],r._count)}if((r=e[e.length-1]).left&&r.right){var l=e.length;for(r=r.left;r.right;)e.push(r),r=r.right;var c=e[l-1];e.push(new o(r._color,c.key,c.value,r.left,r.right,r._count)),e[l-1].key=r.key,e[l-1].value=r.value;for(f=e.length-2;f>=l;--f)r=e[f],e[f]=new o(r._color,r.key,r.value,r.left,e[f+1],r._count);e[l-1].left=e[l]}if((r=e[e.length-1])._color===n){var p=e[e.length-2];p.left===r?p.left=null:p.right===r&&(p.right=null),e.pop();for(f=0;f<e.length;++f)e[f]._count--;return new h(this.tree._compare,e[0])}if(r.left||r.right){r.left?d(r,r.left):r.right&&d(r,r.right),r._color=i;for(f=0;f<e.length-1;++f)e[f]._count--;return new h(this.tree._compare,e[0])}if(1===e.length)return new h(this.tree._compare,null);for(f=0;f<e.length;++f)e[f]._count--;var v=e[e.length-2];return function(t){for(var e,r,o,h,f=t.length-1;f>=0;--f){if(e=t[f],0===f)return void(e._color=i);if((r=t[f-1]).left===e){if((o=r.right).right&&o.right._color===n)return h=(o=r.right=a(o)).right=a(o.right),r.right=o.left,o.left=r,o.right=h,o._color=r._color,e._color=i,r._color=i,h._color=i,u(r),u(o),f>1&&((l=t[f-2]).left===r?l.left=o:l.right=o),void(t[f-1]=o);if(o.left&&o.left._color===n)return h=(o=r.right=a(o)).left=a(o.left),r.right=h.left,o.left=h.right,h.left=r,h.right=o,h._color=r._color,r._color=i,o._color=i,e._color=i,u(r),u(o),u(h),f>1&&((l=t[f-2]).left===r?l.left=h:l.right=h),void(t[f-1]=h);if(o._color===i){if(r._color===n)return r._color=i,void(r.right=s(n,o));r.right=s(n,o);continue}o=a(o),r.right=o.left,o.left=r,o._color=r._color,r._color=n,u(r),u(o),f>1&&((l=t[f-2]).left===r?l.left=o:l.right=o),t[f-1]=o,t[f]=r,f+1<t.length?t[f+1]=e:t.push(e),f+=2}else{if((o=r.left).left&&o.left._color===n)return h=(o=r.left=a(o)).left=a(o.left),r.left=o.right,o.right=r,o.left=h,o._color=r._color,e._color=i,r._color=i,h._color=i,u(r),u(o),f>1&&((l=t[f-2]).right===r?l.right=o:l.left=o),void(t[f-1]=o);if(o.right&&o.right._color===n)return h=(o=r.left=a(o)).right=a(o.right),r.left=h.right,o.right=h.left,h.right=r,h.left=o,h._color=r._color,r._color=i,o._color=i,e._color=i,u(r),u(o),u(h),f>1&&((l=t[f-2]).right===r?l.right=h:l.left=h),void(t[f-1]=h);if(o._color===i){if(r._color===n)return r._color=i,void(r.left=s(n,o));r.left=s(n,o);continue}var l;o=a(o),r.left=o.right,o.right=r,o._color=r._color,r._color=n,u(r),u(o),f>1&&((l=t[f-2]).right===r?l.right=o:l.left=o),t[f-1]=o,t[f]=r,f+1<t.length?t[f+1]=e:t.push(e),f+=2}}}(e),v.left===r?v.left=null:v.right=null,new h(this.tree._compare,e[0])},Object.defineProperty(c,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(c,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(c,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var n=e.length-2;n>=0;--n)e[n+1]===e[n].right&&(++t,e[n].left&&(t+=e[n].left._count));return t},enumerable:!0}),c.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(c,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),c.update=function(t){var e=this._stack;if(0===e.length)throw new Error("Can't update empty node!");var r=new Array(e.length),n=e[e.length-1];r[r.length-1]=new o(n._color,n.key,t,n.left,n.right,n._count);for(var i=e.length-2;i>=0;--i)(n=e[i]).left===e[i+1]?r[i]=new o(n._color,n.key,n.value,r[i+1],n.right,n._count):r[i]=new o(n._color,n.key,n.value,n.left,r[i+1],n._count);return new h(this.tree._compare,r[0])},c.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(c,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})},function(t,e,r){"use strict";t.exports=function(t,e){var r,o,a,s;if(e[0][0]<e[1][0])r=e[0],o=e[1];else{if(!(e[0][0]>e[1][0]))return i(e,t);r=e[1],o=e[0]}if(t[0][0]<t[1][0])a=t[0],s=t[1];else{if(!(t[0][0]>t[1][0]))return-i(t,e);a=t[1],s=t[0]}var u=n(r,o,s),h=n(r,o,a);if(u<0){if(h<=0)return u}else if(u>0){if(h>=0)return u}else if(h)return h;if(u=n(s,a,o),h=n(s,a,r),u<0){if(h<=0)return u}else if(u>0){if(h>=0)return u}else if(h)return h;return o[0]-s[0]};var n=r(7);function i(t,e){var r,i,o,a;if(e[0][0]<e[1][0])r=e[0],i=e[1];else{if(!(e[0][0]>e[1][0])){var s=Math.min(t[0][1],t[1][1]),u=Math.max(t[0][1],t[1][1]),h=Math.min(e[0][1],e[1][1]),f=Math.max(e[0][1],e[1][1]);return u<h?u-h:s>f?s-f:u-f}r=e[1],i=e[0]}t[0][1]<t[1][1]?(o=t[0],a=t[1]):(o=t[1],a=t[0]);var l=n(i,r,o);return l||((l=n(i,r,a))||a-i)}},function(t,e,r){"use strict";var n=r(16),i=0,o=1;function a(t,e,r,n,i){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=i,this.count=(e?e.count:0)+(r?r.count:0)+n.length}t.exports=function(t){if(!t||0===t.length)return new b(null);return new b(_(t))};var s=a.prototype;function u(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function h(t,e){var r=_(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function f(t,e){var r=t.intervals([]);r.push(e),h(t,r)}function l(t,e){var r=t.intervals([]),n=r.indexOf(e);return n<0?i:(r.splice(n,1),h(t,r),o)}function c(t,e,r){for(var n=0;n<t.length&&t[n][0]<=e;++n){var i=r(t[n]);if(i)return i}}function d(t,e,r){for(var n=t.length-1;n>=0&&t[n][1]>=e;--n){var i=r(t[n]);if(i)return i}}function p(t,e){for(var r=0;r<t.length;++r){var n=e(t[r]);if(n)return n}}function v(t,e){return t-e}function g(t,e){var r=t[0]-e[0];return r||t[1]-e[1]}function m(t,e){var r=t[1]-e[1];return r||t[0]-e[0]}function _(t){if(0===t.length)return null;for(var e=[],r=0;r<t.length;++r)e.push(t[r][0],t[r][1]);e.sort(v);var n=e[e.length>>1],i=[],o=[],s=[];for(r=0;r<t.length;++r){var u=t[r];u[1]<n?i.push(u):n<u[0]?o.push(u):s.push(u)}var h=s,f=s.slice();return h.sort(g),f.sort(m),new a(n,_(i),_(o),h,f)}function b(t){this.root=t}s.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&&this.left.intervals(t),this.right&&this.right.intervals(t),t},s.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?f(this,t):this.left.insert(t):this.left=_([t]);else if(t[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?f(this,t):this.right.insert(t):this.right=_([t]);else{var r=n.ge(this.leftPoints,t,g),i=n.ge(this.rightPoints,t,m);this.leftPoints.splice(r,0,t),this.rightPoints.splice(i,0,t)}},s.remove=function(t){var e=this.count-this.leftPoints;if(t[1]<this.mid){return this.left?4*(this.right?this.right.count:0)>3*(e-1)?l(this,t):2===(h=this.left.remove(t))?(this.left=null,this.count-=1,o):(h===o&&(this.count-=1),h):i}else{if(!(t[0]>this.mid)){if(1===this.count)return this.leftPoints[0]===t?2:i;if(1===this.leftPoints.length&&this.leftPoints[0]===t){if(this.left&&this.right){for(var r=this,a=this.left;a.right;)r=a,a=a.right;if(r===this)a.right=this.right;else{var s=this.left;h=this.right;r.count-=a.count,r.right=a.left,a.left=s,a.right=h}u(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?u(this,this.left):u(this,this.right);return o}for(s=n.ge(this.leftPoints,t,g);s<this.leftPoints.length&&this.leftPoints[s][0]===t[0];++s)if(this.leftPoints[s]===t){this.count-=1,this.leftPoints.splice(s,1);for(h=n.ge(this.rightPoints,t,m);h<this.rightPoints.length&&this.rightPoints[h][1]===t[1];++h)if(this.rightPoints[h]===t)return this.rightPoints.splice(h,1),o}return i}return this.right?4*(this.left?this.left.count:0)>3*(e-1)?l(this,t):2===(h=this.right.remove(t))?(this.right=null,this.count-=1,o):(h===o&&(this.count-=1),h):i;var h}},s.queryPoint=function(t,e){if(t<this.mid){if(this.left)if(r=this.left.queryPoint(t,e))return r;return c(this.leftPoints,t,e)}if(t>this.mid){var r;if(this.right)if(r=this.right.queryPoint(t,e))return r;return d(this.rightPoints,t,e)}return p(this.leftPoints,e)},s.queryInterval=function(t,e,r){var n;if(t<this.mid&&this.left&&(n=this.left.queryInterval(t,e,r)))return n;if(e>this.mid&&this.right&&(n=this.right.queryInterval(t,e,r)))return n;return e<this.mid?c(this.leftPoints,e,r):t>this.mid?d(this.rightPoints,t,r):p(this.leftPoints,r)};var y=b.prototype;y.insert=function(t){this.root?this.root.insert(t):this.root=new a(t[0],null,null,[t],[t])},y.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&&(this.root=null),e!==i}return!1},y.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},y.queryInterval=function(t,e,r){if(t<=e&&this.root)return this.root.queryInterval(t,e,r)},Object.defineProperty(y,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(y,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},function(t,e,r){"use strict";t.exports=function(t,e){for(var r=n(t,e.length),i=new Array(e.length),o=new Array(e.length),a=[],s=0;s<e.length;++s){var u=r[s].length;o[s]=u,i[s]=!0,u<=1&&a.push(s)}for(;a.length>0;){var h=a.pop();i[h]=!1;for(var f=r[h],s=0;s<f.length;++s){var l=f[s];0==--o[l]&&a.push(l)}}for(var c=new Array(e.length),d=[],s=0;s<e.length;++s)if(i[s]){var h=d.length;c[s]=h,d.push(e[s])}else c[s]=-1;for(var p=[],s=0;s<t.length;++s){var v=t[s];i[v[0]]&&i[v[1]]&&p.push([c[v[0]],c[v[1]]])}return[p,d]};var n=r(106)},function(t,e,r){"use strict";var n=r(107),i=r(35);function o(t){return new Function("y","return function(){return y}")(t)}function a(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}t.exports=function(t,e,r,s){function u(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var o=r.charCodeAt(r.length-1)-48;if(o<2||o>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+o+"fv(locations["+e+"],false,obj"+t+")"}throw new i("","Unknown uniform data type for "+name+": "+r)}var o=r.charCodeAt(r.length-1)-48;if(o<2||o>4)throw new i("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+o+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+o+"fv(locations["+e+"],obj"+t+")";default:throw new i("","Unrecognized data type for vector "+name+": "+r)}}}function h(e){for(var n=["return function updateProperty(obj){"],i=function t(e,r){if("object"!=typeof r)return[[e,r]];var n=[];for(var i in r){var o=r[i],a=e;parseInt(i)+""===i?a+="["+i+"]":a+="."+i,"object"==typeof o?n.push.apply(n,t(a,o)):n.push([a,o])}return n}("",e),o=0;o<i.length;++o){var a=i[o],h=a[0],f=a[1];s[f]&&n.push(u(h,f,r[f].type))}n.push("return obj}");var l=new Function("gl","locations",n.join("\n"));return l(t,s)}function f(n,u,f){if("object"==typeof f){var c=l(f);Object.defineProperty(n,u,{get:o(c),set:h(f),enumerable:!0,configurable:!1})}else s[f]?Object.defineProperty(n,u,{get:function(r){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+r+"])}")(t,e,s)}(f),set:h(f),enumerable:!0,configurable:!1}):n[u]=function(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new i("","Invalid data type");return"b"===t.charAt(0)?a(r,!1):a(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new i("","Invalid uniform dimension type for matrix "+name+": "+t);return a(r*r,0)}throw new i("","Unknown uniform data type for "+name+": "+t)}}(r[f].type)}function l(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)f(e,r,t[r])}else for(var n in e={},t)f(e,n,t[n]);return e}var c=n(r,!0);return{get:o(l(c)),set:h(c),enumerable:!0,configurable:!0}}},function(t,e,r){"use strict";t.exports=function(t,e,r,i){for(var o={},u=0,h=r.length;u<h;++u){var f=r[u],l=f.name,c=f.type,d=f.locations;switch(c){case"bool":case"int":case"float":a(t,e,d[0],i,1,o,l);break;default:if(c.indexOf("vec")>=0){var p=c.charCodeAt(c.length-1)-48;if(p<2||p>4)throw new n("","Invalid data type for attribute "+l+": "+c);a(t,e,d[0],i,p,o,l)}else{if(!(c.indexOf("mat")>=0))throw new n("","Unknown data type for attribute "+l+": "+c);var p=c.charCodeAt(c.length-1)-48;if(p<2||p>4)throw new n("","Invalid data type for attribute "+l+": "+c);s(t,e,d,i,p,o,l)}}}return o};var n=r(35);function i(t,e,r,n,i,o){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=o}var o=i.prototype;function a(t,e,r,n,o,a,s){for(var u=["gl","v"],h=[],f=0;f<o;++f)u.push("x"+f),h.push("x"+f);u.push("if(x0.length===void 0){return gl.vertexAttrib"+o+"f(v,"+h.join()+")}else{return gl.vertexAttrib"+o+"fv(v,x0)}");var l=Function.apply(null,u),c=new i(t,e,r,n,o,l);Object.defineProperty(a,s,{set:function(e){return t.disableVertexAttribArray(n[r]),l(t,n[r],e),e},get:function(){return c},enumerable:!0})}function s(t,e,r,n,i,o,s){for(var u=new Array(i),h=new Array(i),f=0;f<i;++f)a(t,e,r[f],n,i,u,f),h[f]=u[f];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<i;++e)h[e].location=t[e];else for(e=0;e<i;++e)h[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e<i;++e)t[e]=n[r[e]];return t},enumerable:!0}),u.pointer=function(e,o,a,s){e=e||t.FLOAT,o=!!o,a=a||i*i,s=s||0;for(var u=0;u<i;++u){var h=n[r[u]];t.vertexAttribPointer(h,i,e,o,a,s+u*i),t.enableVertexAttribArray(h)}};var l=new Array(i),c=t["vertexAttrib"+i+"fv"];Object.defineProperty(o,s,{set:function(e){for(var o=0;o<i;++o){var a=n[r[o]];if(t.disableVertexAttribArray(a),Array.isArray(e[0]))c.call(t,a,e[o]);else{for(var s=0;s<i;++s)l[s]=e[i*o+s];c.call(t,a,l)}}return e},get:function(){return u},enumerable:!0})}o.pointer=function(t,e,r,n){var i=this._gl,o=this._locations[this._index];i.vertexAttribPointer(o,this._dimension,t||i.FLOAT,!!e,r||0,n||0),i.enableVertexAttribArray(o)},o.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(o,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,e,r){"use strict";e.shader=function(t,e,r){return f(t).getShaderReference(e,r)},e.program=function(t,e,r,n,i){return f(t).getProgram(e,r,n,i)};var n=r(35),i=r(271),o=new("undefined"==typeof WeakMap?r(285):WeakMap),a=0;function s(t,e,r,n,i,o,a){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=o,this.programs=[],this.cache=a}function u(t){this.gl=t,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;n<i;++n){var o=t.programs[r[n]];o&&(delete t.programs[n],e.deleteProgram(o))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var h=u.prototype;function f(t){var e=o.get(t);return e||(e=new u(t),o.set(t,e)),e}h.getShaderReference=function(t,e){var r=this.gl,o=this.shaders[t===r.FRAGMENT_SHADER|0],u=o[e];if(u&&r.isShader(u.shader))u.count+=1;else{var h=function(t,e,r){var o=t.createShader(e);if(t.shaderSource(o,r),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(o);try{var s=i(a,r,e)}catch(t){throw console.warn("Failed to format compiler error: "+t),new n(a,"Error compiling shader:\n"+a)}throw new n(a,s.short,s.long)}return o}(r,t,e);u=o[e]=new s(a++,e,t,h,[],1,this)}return u},h.getProgram=function(t,e,r,i){var o=[t.id,e.id,r.join(":"),i.join(":")].join("@"),a=this.programs[o];return a&&this.gl.isProgram(a)||(this.programs[o]=a=function(t,e,r,i,o){var a=t.createProgram();t.attachShader(a,e),t.attachShader(a,r);for(var s=0;s<i.length;++s)t.bindAttribLocation(a,o[s],i[s]);if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS)){var u=t.getProgramInfoLog(a);throw new n(u,"Error linking program: "+u)}return a}(this.gl,t.shader,e.shader,r,i),t.programs.push(o),e.programs.push(o)),a}},function(t,e,r){var n=r(272).sprintf,i=r(273),o=r(275),a=r(282);t.exports=function(t,e,r){"use strict";var s=o(e)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===i.FRAGMENT_SHADER?"fragment":"vertex");for(var h=n("Error compiling %s shader %s:\n",u,s),f=n("%s%s",h,t),l=t.split("\n"),c={},d=0;d<l.length;d++){var p=l[d];if(""!==p&&"\0"!==p){var v=parseInt(p.split(":")[2]);if(isNaN(v))throw new Error(n("Could not parse error: %s",p));c[v]=p}}for(var g=a(e).split("\n"),d=0;d<g.length;d++)if(c[d+3]||c[d+2]||c[d+1]){var m=g[d];if(h+=m+"\n",c[d+1]){var _=c[d+1];_=_.substr(_.split(":",3).join(":").length+1).trim(),h+=n("^^^ %s\n\n",_)}}return{long:h.trim(),short:f.trim()}}},function(t,e,r){var n;!function(){"use strict";var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function o(t){return function(t,e){var r,n,a,s,u,h,f,l,c,d=1,p=t.length,v="";for(n=0;n<p;n++)if("string"==typeof t[n])v+=t[n];else if(Array.isArray(t[n])){if((s=t[n])[2])for(r=e[d],a=0;a<s[2].length;a++){if(!r.hasOwnProperty(s[2][a]))throw new Error(o('[sprintf] property "%s" does not exist',s[2][a]));r=r[s[2][a]]}else r=s[1]?e[s[1]]:e[d++];if(i.not_type.test(s[8])&&i.not_primitive.test(s[8])&&r instanceof Function&&(r=r()),i.numeric_arg.test(s[8])&&"number"!=typeof r&&isNaN(r))throw new TypeError(o("[sprintf] expecting number but found %T",r));switch(i.number.test(s[8])&&(l=r>=0),s[8]){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s[6]?parseInt(s[6]):0);break;case"e":r=s[7]?parseFloat(r).toExponential(s[7]):parseFloat(r).toExponential();break;case"f":r=s[7]?parseFloat(r).toFixed(s[7]):parseFloat(r);break;case"g":r=s[7]?String(Number(r.toPrecision(s[7]))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s[7]?r.substring(0,s[7]):r;break;case"t":r=String(!!r),r=s[7]?r.substring(0,s[7]):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s[7]?r.substring(0,s[7]):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s[7]?r.substring(0,s[7]):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}i.json.test(s[8])?v+=r:(!i.number.test(s[8])||l&&!s[3]?c="":(c=l?"+":"-",r=r.toString().replace(i.sign,"")),h=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",f=s[6]-(c+r).length,u=s[6]&&f>0?h.repeat(f):"",v+=s[5]?c+r+u:"0"===h?c+u+r:u+c+r)}return v}(function(t){if(s[t])return s[t];var e,r=t,n=[],o=0;for(;r;){if(null!==(e=i.text.exec(r)))n.push(e[0]);else if(null!==(e=i.modulo.exec(r)))n.push("%");else{if(null===(e=i.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){o|=1;var a=[],u=e[2],h=[];if(null===(h=i.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(h[1]);""!==(u=u.substring(h[0].length));)if(null!==(h=i.key_access.exec(u)))a.push(h[1]);else{if(null===(h=i.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(h[1])}e[2]=a}else o|=2;if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(e)}r=r.substring(e[0].length)}return s[t]=n}(t),arguments)}function a(t,e){return o.apply(null,[t].concat(e||[]))}var s=Object.create(null);e.sprintf=o,e.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=a,void 0===(n=function(){return{sprintf:o,vsprintf:a}}.call(e,r,e,t))||(t.exports=n))}()},function(t,e,r){var n=r(274);t.exports=function(t){return n[t]}},function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34000:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,r){var n=r(276),i=r(281);t.exports=function(t){for(var e=Array.isArray(t)?t:n(t),r=0;r<e.length;r++){var o=e[r];if("preprocessor"===o.type){var a=o.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],u=a[2];return(s?i(u):u).trim()}}}}},function(t,e,r){var n=r(277);t.exports=function(t,e){var r=n(e),i=[];return i=(i=i.concat(r(t))).concat(r(null))}},function(t,e,r){t.exports=function(t){var e,r,M,E=0,A=0,T=u,k=[],S=[],R=1,C=0,I=0,L=!1,P=!1,N="",O=o,B=n;"300 es"===(t=t||{}).version&&(O=s,B=a);for(var F={},D={},E=0;E<O.length;E++)F[O[E]]=!0;for(var E=0;E<B.length;E++)D[B[E]]=!0;return function(t){return S=[],null!==t?function(t){E=0,t.toString&&(t=t.toString());var r;N+=t.replace(/\r\n/g,"\n"),M=N.length;for(;e=N[E],E<M;){switch(r=E,T){case f:E=q();break;case l:case c:E=V();break;case d:E=H();break;case p:E=G();break;case w:E=W();break;case v:E=Y();break;case h:E=Z();break;case b:E=z();break;case u:E=j()}if(r!==E)switch(N[r]){case"\n":C=0,++R;break;default:++C}}return A+=E,N=N.slice(E),S}(t):function(t){k.length&&U(k.join(""));return T=y,U("(eof)"),S}()};function U(t){t.length&&S.push({type:x[T],data:t,position:I,line:R,column:C})}function j(){return k=k.length?[]:k,"/"===r&&"*"===e?(I=A+E-1,T=f,r=e,E+1):"/"===r&&"/"===e?(I=A+E-1,T=l,r=e,E+1):"#"===e?(T=c,I=A+E,E):/\s/.test(e)?(T=b,I=A+E,E):(L=/\d/.test(e),P=/[^\w_]/.test(e),I=A+E,T=L?p:P?d:h,E)}function z(){return/[^\s]/g.test(e)?(U(k.join("")),T=u,E):(k.push(e),r=e,E+1)}function V(){return"\r"!==e&&"\n"!==e||"\\"===r?(k.push(e),r=e,E+1):(U(k.join("")),T=u,E)}function q(){return"/"===e&&"*"===r?(k.push(e),U(k.join("")),T=u,E+1):(k.push(e),r=e,E+1)}function H(){if("."===r&&/\d/.test(e))return T=v,E;if("/"===r&&"*"===e)return T=f,E;if("/"===r&&"/"===e)return T=l,E;if("."===e&&k.length){for(;X(k););return T=v,E}if(";"===e||")"===e||"("===e){if(k.length)for(;X(k););return U(e),T=u,E+1}var t=2===k.length&&"="!==e;if(/[\w_\d\s]/.test(e)||t){for(;X(k););return T=u,E}return k.push(e),r=e,E+1}function X(t){for(var e,r,n=0;;){if(e=i.indexOf(t.slice(0,t.length+n).join("")),r=i[e],-1===e){if(n--+t.length>0)continue;r=t.slice(0,1).join("")}return U(r),I+=r.length,(k=k.slice(r.length)).length}}function W(){return/[^a-fA-F0-9]/.test(e)?(U(k.join("")),T=u,E):(k.push(e),r=e,E+1)}function G(){return"."===e?(k.push(e),T=v,r=e,E+1):/[eE]/.test(e)?(k.push(e),T=v,r=e,E+1):"x"===e&&1===k.length&&"0"===k[0]?(T=w,k.push(e),r=e,E+1):/[^\d]/.test(e)?(U(k.join("")),T=u,E):(k.push(e),r=e,E+1)}function Y(){return"f"===e&&(k.push(e),r=e,E+=1),/[eE]/.test(e)?(k.push(e),r=e,E+1):("-"!==e&&"+"!==e||!/[eE]/.test(r))&&/[^\d]/.test(e)?(U(k.join("")),T=u,E):(k.push(e),r=e,E+1)}function Z(){if(/[^\d\w_]/.test(e)){var t=k.join("");return T=D[t]?_:F[t]?m:g,U(k.join("")),T=u,E}return k.push(e),r=e,E+1}};var n=r(108),i=r(278),o=r(109),a=r(279),s=r(280),u=999,h=9999,f=0,l=1,c=2,d=3,p=4,v=5,g=6,m=7,_=8,b=9,y=10,w=11,x=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,e){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,e,r){var n=r(108);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,e,r){var n=r(109);n=n.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,e){t.exports=function(t){return atob(t)}},function(t,e,r){var n=r(283);t.exports=function(t,e,r){e="number"==typeof e?e:1,r=r||": ";var i=t.split(/\r?\n/),o=String(i.length+e-1).length;return i.map(function(t,i){var a=i+e,s=String(a).length,u=n(a,o-s);return u+r+t}).join("\n")}},function(t,e,r){"use strict";
/*!
 * pad-left <https://github.com/jonschlinkert/pad-left>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT license.
 */var n=r(284);t.exports=function(t,e,r){return n(r=void 0!==r?r+"":" ",e)+t}},function(t,e,r){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var n,i="";t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(n!==t||void 0===n)n=t,i="";else if(i.length>=r)return i.substr(0,r);for(;r>i.length&&e>1;)1&e&&(i+=t),e>>=1,t+=t;return i=(i+=t).substr(0,r)}},function(t,e,r){var n=r(286);t.exports=function(){var t=n();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}},function(t,e,r){var n=r(287);t.exports=function(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:n(e,t)}}},function(t,e){t.exports=function(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}},function(t,e,r){"use strict";e.uniforms=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=[],i=0;i<r;++i){var a=t.getActiveUniform(e,i);if(a){var s=o(t,a.type);if(a.size>1)for(var u=0;u<a.size;++u)n.push({name:a.name.replace("[0]","["+u+"]"),type:s});else n.push({name:a.name,type:s})}}return n},e.attributes=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=[],i=0;i<r;++i){var a=t.getActiveAttrib(e,i);a&&n.push({name:a.name,type:o(t,a.type)})}return n};var n={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function o(t,e){if(!i){var r=Object.keys(n);i={};for(var o=0;o<r.length;++o){var a=r[o];i[t[a]]=n[a]}}return i[e]}},function(t,e,r){"use strict";t.exports=function(t,e,r){var a=[],s=[0,0,0],u=[0,0,0],h=[0,0,0],f=[0,0,0];a.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var l=0;l<3;++l){for(var c=a.length/3|0,p=0;p<r[l].length;++p){var v=+r[l][p].x;a.push(v,0,1,v,1,1,v,0,-1,v,0,-1,v,1,1,v,1,-1)}var g=a.length/3|0;s[l]=c,u[l]=g-c;for(var c=a.length/3|0,m=0;m<r[l].length;++m){var v=+r[l][m].x;a.push(v,0,1,v,1,1,v,0,-1,v,0,-1,v,1,1,v,1,-1)}var g=a.length/3|0;h[l]=c,f[l]=g-c}var _=n(t,new Float32Array(a)),b=i(t,[{buffer:_,type:t.FLOAT,size:3,stride:0,offset:0}]),y=o(t);return y.attributes.position.location=0,new d(t,_,b,y,u,s,f,h)};var n=r(18),i=r(19),o=r(51).line,a=[0,0,0],s=[0,0,0],u=[0,0,0],h=[0,0,0],f=[1,1];function l(t){return t[0]=t[1]=t[2]=0,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function d(t,e,r,n,i,o,a,s){this.gl=t,this.vertBuffer=e,this.vao=r,this.shader=n,this.tickCount=i,this.tickOffset=o,this.gridCount=a,this.gridOffset=s}var p=d.prototype;p.bind=function(t,e,r){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=r,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(t,e,r,n,i){var o=l(s);this.shader.uniforms.majorAxis=s,o[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=o;var a,f=c(h,r);f[t]+=e[0][t],this.shader.uniforms.offset=f,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=n,(a=l(u))[(t+2)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6),(a=l(u))[(t+1)%3]=1,this.shader.uniforms.screenAxis=a,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(t,e,r,n,i){if(this.tickCount[t]){var o=l(a);o[t]=1,this.shader.uniforms.majorAxis=o,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=r,this.shader.uniforms.color=n,this.shader.uniforms.lineWidth=i;var s=l(u);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},p.drawGrid=function(t,e,r,n,i,o){if(this.gridCount[t]){var f=l(s);f[e]=r[1][e]-r[0][e],this.shader.uniforms.minorAxis=f;var d=c(h,n);d[e]+=r[0][e],this.shader.uniforms.offset=d;var p=l(a);p[t]=1,this.shader.uniforms.majorAxis=p;var v=l(u);v[t]=1,this.shader.uniforms.screenAxis=v,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},p.drawZero=function(t,e,r,n,i,o){var a=l(s);this.shader.uniforms.majorAxis=a,a[t]=r[1][t]-r[0][t],this.shader.uniforms.minorAxis=a;var f=c(h,n);f[t]+=r[0][t],this.shader.uniforms.offset=f;var d=l(u);d[e]=1,this.shader.uniforms.screenAxis=d,this.shader.uniforms.lineWidth=o,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},function(t,e,r){"use strict";t.exports=function(t){for(var e=[],r=[],s=0,u=0;u<3;++u)for(var h=(u+1)%3,f=(u+2)%3,l=[0,0,0],c=[0,0,0],d=-1;d<=1;d+=2){r.push(s,s+2,s+1,s+1,s+2,s+3),l[u]=d,c[u]=d;for(var p=-1;p<=1;p+=2){l[h]=p;for(var v=-1;v<=1;v+=2)l[f]=v,e.push(l[0],l[1],l[2],c[0],c[1],c[2]),s+=1}var g=h;h=f,f=g}var m=n(t,new Float32Array(e)),_=n(t,new Uint16Array(r),t.ELEMENT_ARRAY_BUFFER),b=i(t,[{buffer:m,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:m,type:t.FLOAT,size:3,offset:12,stride:24}],_),y=o(t);return y.attributes.position.location=0,y.attributes.normal.location=1,new a(t,m,b,y)};var n=r(18),i=r(19),o=r(51).bg;function a(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n}var s=a.prototype;s.draw=function(t,e,r,n,i,o){for(var a=!1,s=0;s<3;++s)a=a||i[s];if(a){var u=this.gl;u.enable(u.POLYGON_OFFSET_FILL),u.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:r,bounds:n,enable:i,colors:o},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),u.disable(u.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},function(t,e,r){"use strict";var n=r(23),i=r(12);t.exports=function(t,e){for(var r=n(t[0],e[0]),o=1;o<t.length;++o)r=i(r,n(t[o],e[o]));return r}},function(t,e,r){"use strict";function n(t,e){var r=t+"",n=r.indexOf("."),i=0;n>=0&&(i=r.length-n-1);var o=Math.pow(10,i),a=Math.round(t*e*o),s=a+"";if(s.indexOf("e")>=0)return s;var u=a/o,h=a%o;a<0?(u=0|-Math.ceil(u),h=0|-h):(u=0|Math.floor(u),h|=0);var f=""+u;if(a<0&&(f="-"+f),i){for(var l=""+h;l.length<i;)l="0"+l;return f+"."+l}return f}e.create=function(t,e){for(var r=[],i=0;i<3;++i){for(var o=[],a=(t[0][i],t[1][i],0);a*e[i]<=t[1][i];++a)o.push({x:a*e[i],text:n(e[i],a)});for(var a=-1;a*e[i]>=t[0][i];--a)o.push({x:a*e[i],text:n(e[i],a)});r.push(o)}return r},e.equal=function(t,e){for(var r=0;r<3;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n<t[r].length;++n){var i=t[r][n],o=e[r][n];if(i.x!==o.x||i.text!==o.text||i.font!==o.font||i.fontColor!==o.fontColor||i.fontSize!==o.fontSize||i.dx!==o.dx||i.dy!==o.dy)return!1}}return!0}},function(t,e,r){"use strict";t.exports=function(t,e,r,u,l){var c=e.model||h,d=e.view||h,m=e.projection||h,_=t.bounds,b=(l=l||o(c,d,m,_)).axis;l.edges;a(f,d,c),a(f,m,f);for(var y=v,w=0;w<3;++w)y[w].lo=1/0,y[w].hi=-1/0,y[w].pixelsPerDataUnit=1/0;var x=n(s(f,f));s(f,f);for(var M=0;M<3;++M){var E=(M+1)%3,A=(M+2)%3,T=g;t:for(var w=0;w<2;++w){var k=[];if(b[M]<0!=!!w){T[M]=_[w][M];for(var S=0;S<2;++S){T[E]=_[S^w][E];for(var R=0;R<2;++R)T[A]=_[R^S^w][A],k.push(T.slice())}for(var S=0;S<x.length;++S){if(0===k.length)continue t;k=i.positive(k,x[S])}for(var S=0;S<k.length;++S)for(var A=k[S],C=p(g,f,A,r,u),R=0;R<3;++R)y[R].lo=Math.min(y[R].lo,A[R]),y[R].hi=Math.max(y[R].hi,A[R]),R!==M&&(y[R].pixelsPerDataUnit=Math.min(y[R].pixelsPerDataUnit,Math.abs(C[R])))}}}return y};var n=r(294),i=r(111),o=r(110),a=r(30),s=r(91),u=r(295),h=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function l(t,e,r){this.lo=t,this.hi=e,this.pixelsPerDataUnit=r}var c=[0,0,0,1],d=[0,0,0,1];function p(t,e,r,n,i){for(var o=0;o<3;++o){for(var a=c,s=d,h=0;h<3;++h)s[h]=a[h]=r[h];s[3]=a[3]=1,s[o]+=1,u(s,s,e),s[3]<0&&(t[o]=1/0),a[o]-=1,u(a,a,e),a[3]<0&&(t[o]=1/0);var f=(a[0]/a[3]-s[0]/s[3])*n,l=(a[1]/a[3]-s[1]/s[3])*i;t[o]=.25*Math.sqrt(f*f+l*l)}return t}var v=[new l(1/0,-1/0,1/0),new l(1/0,-1/0,1/0),new l(1/0,-1/0,1/0)],g=[0,0,0]},function(t,e,r){"use strict";t.exports=function(t,e,r){var n=e||0,i=r||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},function(t,e){t.exports=function(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}},function(t,e,r){"use strict";var n=r(18),i=r(19),o=r(297);t.exports=function(t,e){var r=[];function a(t,e,n,i,o,a){var s=[t,e,n,0,0,0,1];s[i+3]=1,s[i]=o,r.push.apply(r,s),s[6]=-1,r.push.apply(r,s),s[i]=a,r.push.apply(r,s),r.push.apply(r,s),s[6]=1,r.push.apply(r,s),s[i]=o,r.push.apply(r,s)}a(0,0,0,0,0,1),a(0,0,0,1,0,1),a(0,0,0,2,0,1),a(1,0,0,1,-1,1),a(1,0,0,2,-1,1),a(0,1,0,0,-1,1),a(0,1,0,2,-1,1),a(0,0,1,0,-1,1),a(0,0,1,1,-1,1);var u=n(t,r),h=i(t,[{type:t.FLOAT,buffer:u,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:u,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:u,size:1,offset:24,stride:28}]),f=o(t);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var l=new s(t,u,h,f);return l.update(e),l};var a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=s.prototype,h=[0,0,0],f=[0,0,0],l=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(t){},u.draw=function(t){var e=this.gl,r=this.vao,n=this.shader;r.bind(),n.bind();var i,o=t.model||a,s=t.view||a,u=t.projection||a;this.axes&&(i=this.axes.lastCubeProps.axis);for(var c=h,d=f,p=0;p<3;++p)i&&i[p]<0?(c[p]=this.bounds[0][p],d[p]=this.bounds[1][p]):(c[p]=this.bounds[1][p],d[p]=this.bounds[0][p]);l[0]=e.drawingBufferWidth,l[1]=e.drawingBufferHeight,n.uniforms.model=o,n.uniforms.view=s,n.uniforms.projection=u,n.uniforms.coordinates=[this.position,c,d],n.uniforms.colors=this.colors,n.uniforms.screenShape=l;for(p=0;p<3;++p)n.uniforms.lineWidth=this.lineWidth[p]*this.pixelRatio,this.enabled[p]&&(r.draw(e.TRIANGLES,6,6*p),this.drawSides[p]&&r.draw(e.TRIANGLES,12,18+12*p));r.unbind()},u.update=function(t){t&&("bounds"in t&&(this.bounds=t.bounds),"position"in t&&(this.position=t.position),"lineWidth"in t&&(this.lineWidth=t.lineWidth),"colors"in t&&(this.colors=t.colors),"enabled"in t&&(this.enabled=t.enabled),"drawSides"in t&&(this.drawSides=t.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},function(t,e,r){"use strict";var n=r(33),i=r(34),o=n(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec3 position, color;\nattribute float weight;\n\nuniform mat4 model, view, projection;\nuniform vec3 coordinates[3];\nuniform vec4 colors[3];\nuniform vec2 screenShape;\nuniform float lineWidth;\n\nvarying vec4 fragColor;\n\nvoid main() {\n  vec3 vertexPosition = mix(coordinates[0],\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\n\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\n  vec2 delta = weight * clipOffset * screenShape;\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\n\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\n}\n"]),a=n(["precision mediump float;\n#define GLSLIFY 1\n\nvarying vec4 fragColor;\n\nvoid main() {\n  gl_FragColor = fragColor;\n}"]);t.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},function(t,e,r){"use strict";t.exports=function(t,e){var r=n(t,e),o=i.mallocUint8(e[0]*e[1]*4);return new u(t,r,o)};var n=r(112),i=r(4),o=r(8),a=r(11).nextPow2,s=r(299)({args:["array",{offset:[0,0,1],array:0},{offset:[0,0,2],array:0},{offset:[0,0,3],array:0},"scalar","scalar","index"],pre:{body:"{this_closestD2=1e8,this_closestX=-1,this_closestY=-1}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},body:{body:"{if(_inline_1_arg0_<255||_inline_1_arg1_<255||_inline_1_arg2_<255||_inline_1_arg3_<255){var _inline_1_l=_inline_1_arg4_-_inline_1_arg6_[0],_inline_1_a=_inline_1_arg5_-_inline_1_arg6_[1],_inline_1_f=_inline_1_l*_inline_1_l+_inline_1_a*_inline_1_a;_inline_1_f<this_closestD2&&(this_closestD2=_inline_1_f,this_closestX=_inline_1_arg6_[0],this_closestY=_inline_1_arg6_[1])}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg6_",lvalue:!1,rvalue:!0,count:4}],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:["_inline_1_a","_inline_1_f","_inline_1_l"]},post:{body:"{return[this_closestX,this_closestY,this_closestD2]}",args:[],thisVars:["this_closestD2","this_closestX","this_closestY"],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function u(t,e,r){this.gl=t,this.fbo=e,this.buffer=r,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&&(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}var h=u.prototype;Object.defineProperty(h,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],r=this.fbo.shape[1];if(r*e*4>this.buffer.length){i.free(this.buffer);for(var n=this.buffer=i.mallocUint8(a(r*e*4)),o=0;o<r*e*4;++o)n[o]=255}return t}}}),h.begin=function(){var t=this.gl;this.shape;t&&(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},h.end=function(){var t=this.gl;t&&(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},h.query=function(t,e,r){if(!this.gl)return null;var n=this.fbo.shape.slice();t|=0,e|=0,"number"!=typeof r&&(r=1);var i=0|Math.min(Math.max(t-r,0),n[0]),a=0|Math.min(Math.max(t+r,0),n[0]),u=0|Math.min(Math.max(e-r,0),n[1]),h=0|Math.min(Math.max(e+r,0),n[1]);if(a<=i||h<=u)return null;var f=[a-i,h-u],l=o(this.buffer,[f[0],f[1],4],[4,4*n[0],1],4*(i+n[0]*u)),c=s(l.hi(f[0],f[1],1),r,r),d=c[0],p=c[1];return d<0||Math.pow(this.radius,2)<c[2]?null:new function(t,e,r,n,i){this.coord=[t,e],this.id=r,this.value=n,this.distance=i}(d+i|0,p+u|0,l.get(d,p,0),[l.get(d,p,1),l.get(d,p,2),l.get(d,p,3)],Math.sqrt(c[2]))},h.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},function(t,e,r){t.exports=r(22)},function(t,e,r){"use strict";var n="undefined"==typeof WeakMap?r(301):WeakMap,i=r(18),o=r(19),a=new n;t.exports=function(t){var e=a.get(t),r=e&&(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!r||!t.isBuffer(r)){var n=i(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=o(t,[{buffer:n,type:t.FLOAT,size:2}]))._triangleBuffer=n,a.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},function(t,e){!function(){"use strict";if("undefined"==typeof ses||!ses.ok||ses.ok()){"undefined"!=typeof ses&&(ses.weakMapPermitHostObjects=g);var e=!1;if("function"==typeof WeakMap){var r=WeakMap;if("undefined"!=typeof navigator&&/Firefox/.test(navigator.userAgent));else{var n=new r,i=Object.freeze({});if(n.set(i,1),1===n.get(i))return void(t.exports=WeakMap);e=!0}}Object.prototype.hasOwnProperty;var o=Object.getOwnPropertyNames,a=Object.defineProperty,s=Object.isExtensible,u="weakmap:",h=u+"ident:"+Math.random()+"___";if("undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues&&"function"==typeof ArrayBuffer&&"function"==typeof Uint8Array){var f=new ArrayBuffer(25),l=new Uint8Array(f);crypto.getRandomValues(l),h=u+"rand:"+Array.prototype.map.call(l,function(t){return(t%36).toString(36)}).join("")+"___"}if(a(Object,"getOwnPropertyNames",{value:function(t){return o(t).filter(m)}}),"getPropertyNames"in Object){var c=Object.getPropertyNames;a(Object,"getPropertyNames",{value:function(t){return c(t).filter(m)}})}!function(){var t=Object.freeze;a(Object,"freeze",{value:function(e){return _(e),t(e)}});var e=Object.seal;a(Object,"seal",{value:function(t){return _(t),e(t)}});var r=Object.preventExtensions;a(Object,"preventExtensions",{value:function(t){return _(t),r(t)}})}();var d=!1,p=0,v=function(){this instanceof v||y();var t=[],e=[],r=p++;return Object.create(v.prototype,{get___:{value:b(function(n,i){var o,a=_(n);return a?r in a?a[r]:i:(o=t.indexOf(n))>=0?e[o]:i})},has___:{value:b(function(e){var n=_(e);return n?r in n:t.indexOf(e)>=0})},set___:{value:b(function(n,i){var o,a=_(n);return a?a[r]=i:(o=t.indexOf(n))>=0?e[o]=i:(o=t.length,e[o]=i,t[o]=n),this})},delete___:{value:b(function(n){var i,o,a=_(n);return a?r in a&&delete a[r]:!((i=t.indexOf(n))<0||(o=t.length-1,t[i]=void 0,e[i]=e[o],t[i]=t[o],t.length=o,e.length=o,0))})}})};v.prototype=Object.create(Object.prototype,{get:{value:function(t,e){return this.get___(t,e)},writable:!0,configurable:!0},has:{value:function(t){return this.has___(t)},writable:!0,configurable:!0},set:{value:function(t,e){return this.set___(t,e)},writable:!0,configurable:!0},delete:{value:function(t){return this.delete___(t)},writable:!0,configurable:!0}}),"function"==typeof r?function(){function n(){this instanceof v||y();var t,n=new r,i=void 0,o=!1;return t=e?function(t,e){return n.set(t,e),n.has(t)||(i||(i=new v),i.set(t,e)),this}:function(t,e){if(o)try{n.set(t,e)}catch(r){i||(i=new v),i.set___(t,e)}else n.set(t,e);return this},Object.create(v.prototype,{get___:{value:b(function(t,e){return i?n.has(t)?n.get(t):i.get___(t,e):n.get(t,e)})},has___:{value:b(function(t){return n.has(t)||!!i&&i.has___(t)})},set___:{value:b(t)},delete___:{value:b(function(t){var e=!!n.delete(t);return i&&i.delete___(t)||e})},permitHostObjects___:{value:b(function(t){if(t!==g)throw new Error("bogus call to permitHostObjects___");o=!0})}})}e&&"undefined"!=typeof Proxy&&(Proxy=void 0),n.prototype=v.prototype,t.exports=n,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():("undefined"!=typeof Proxy&&(Proxy=void 0),t.exports=v)}function g(t){t.permitHostObjects___&&t.permitHostObjects___(g)}function m(t){return!(t.substr(0,u.length)==u&&"___"===t.substr(t.length-3))}function _(t){if(t!==Object(t))throw new TypeError("Not an object: "+t);var e=t[h];if(e&&e.key===t)return e;if(s(t)){e={key:t};try{return a(t,h,{value:e,writable:!1,enumerable:!1,configurable:!1}),e}catch(t){return}}}function b(t){return t.prototype=null,Object.freeze(t)}function y(){d||"undefined"==typeof console||(d=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}}()},function(t,e){t.exports=function(t,e,r,n,i){var o=1/Math.tan(e/2),a=1/(n-i);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}},function(t,e,r){var n=r(33),i=r(34),o=n(["precision mediump float;\n#define GLSLIFY 1\nattribute vec2 position;\nvarying vec2 uv;\nvoid main() {\n  uv = position;\n  gl_Position = vec4(position, 0, 1);\n}"]),a=n(["precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D accumBuffer;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\n  gl_FragColor = min(vec4(1,1,1,1), accum);\n}"]);t.exports=function(t){return i(t,o,a,null,[{name:"position",type:"vec2"}])}},function(t,e){t.exports=function(t){t||"undefined"==typeof navigator||(t=navigator.userAgent);t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]);return"string"==typeof t&&(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))}},function(t,e,r){"use strict";var n=r(306);t.exports=function(t){var e=n();return t.on("tick",function(){var r=t.down("control"),n=t.down("shift"),i=t.down("mouse-left"),o=t.down("mouse-right"),a=t.down("mouse-middle");if(!i||r||n||e.rotate([t.mouseX/t.width-.5,t.mouseY/t.height-.5],[t.prevMouseX/t.width-.5,t.prevMouseY/t.height-.5]),(o||i&&r&&!n)&&e.pan([(t.mouseX-t.prevMouseX)/t.width,(t.mouseY-t.prevMouseY)/t.height]),t.scroll[1]&&(e.distance*=Math.exp(t.scroll[1]/t.height)),a||i&&!r&&n){var s=t.mouseY-t.prevMouseY;s&&(e.distance*=Math.exp(s/t.height))}}),e}},function(t,e,r){"use strict";var n=r(331),i=n.vec3,o=n.mat3,a=n.mat4,s=n.quat,u=new Float32Array(16),h=new Float32Array(16);function f(t,e,r){this.rotation=t,this.center=e,this.distance=r}var l=f.prototype;function c(t,e){var r=e[0],n=e[1],i=(e[2],r*r+n*n);i>1&&(i=1),t[0]=-e[0],t[1]=e[1],t[2]=e[2]||Math.sqrt(1-i),t[3]=0}l.view=function(t){return t||(t=a.create()),h[0]=h[1]=0,h[2]=-this.distance,a.fromRotationTranslation(t,s.conjugate(u,this.rotation),h),a.translate(t,t,i.negate(u,this.center)),t},l.lookAt=function(t,e,r){a.lookAt(u,t,e,r),o.fromMat4(u,u),s.fromMat3(this.rotation,u),i.copy(this.center,e),this.distance=i.distance(t,e)},l.pan=function(t){var e=this.distance;u[0]=-e*(t[0]||0),u[1]=e*(t[1]||0),u[2]=e*(t[2]||0),i.transformQuat(u,u,this.rotation),i.add(this.center,this.center,u)},l.zoom=function(t){this.distance+=t,this.distance<0&&(this.distance=0)},l.rotate=function(t,e){c(u,t),c(h,e),s.invert(h,h),s.multiply(u,u,h),s.length(u)<1e-6||(s.multiply(this.rotation,this.rotation,u),s.normalize(this.rotation,this.rotation))},t.exports=function(t,e,r){t=t||[0,0,-1],e=e||[0,0,0],r=r||[0,1,0];var n=new f(s.create(),i.create(),1);return n.lookAt(t,e,r),n}},function(t,e,r){"use strict";var n=r(308),i=r(309);function o(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function a(t){for(var e,r="#",n=0;n<3;++n)r+=("00"+(e=(e=t[n]).toString(16))).substr(e.length);return r}function s(t){return"rgba("+t.join(",")+")"}t.exports=function(t){var e,r,u,h,f,l,c,d,p,v;t||(t={});d=(t.nshades||72)-1,c=t.format||"hex",(l=t.colormap)||(l="jet");if("string"==typeof l){if(l=l.toLowerCase(),!n[l])throw Error(l+" not a supported colorscale");f=n[l]}else{if(!Array.isArray(l))throw Error("unsupported colormap option",l);f=l.slice()}if(f.length>d)throw new Error(l+" map requires nshades to be at least size "+f.length);p=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():"number"==typeof t.alpha?[t.alpha,t.alpha]:[1,1];e=f.map(function(t){return Math.round(t.index*d)}),p[0]=Math.min(Math.max(p[0],0),1),p[1]=Math.min(Math.max(p[1],0),1);var g=f.map(function(t,e){var r=f[e].index,n=f[e].rgb.slice();return 4===n.length&&n[3]>=0&&n[3]<=1?n:(n[3]=p[0]+(p[1]-p[0])*r,n)}),m=[];for(v=0;v<e.length-1;++v){h=e[v+1]-e[v],r=g[v],u=g[v+1];for(var _=0;_<h;_++){var b=_/h;m.push([Math.round(i(r[0],u[0],b)),Math.round(i(r[1],u[1],b)),Math.round(i(r[2],u[2],b)),i(r[3],u[3],b)])}}m.push(f[f.length-1].rgb.concat(p[1])),"hex"===c?m=m.map(a):"rgbaString"===c?m=m.map(s):"float"===c&&(m=m.map(o));return m}},function(t,e){t.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},function(t,e){t.exports=function(t,e,r){return t*(1-r)+e*r}},function(t,e,r){"use strict";var n=r(8),i=r(311);t.exports=function(t,e){for(var r=[],o=t,a=1;Array.isArray(o);)r.push(o.length),a*=o.length,o=o[0];return 0===r.length?n():(e||(e=n(new Float64Array(a),r)),i(e,t),e)}},function(t,e,r){t.exports=r(22)({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{\nvar _inline_1_v=_inline_1_arg1_,_inline_1_i\nfor(_inline_1_i=0;_inline_1_i<_inline_1_arg2_.length-1;++_inline_1_i) {\n_inline_1_v=_inline_1_v[_inline_1_arg2_[_inline_1_i]]\n}\n_inline_1_arg0_=_inline_1_v[_inline_1_arg2_[_inline_1_arg2_.length-1]]\n}",args:[{name:"_inline_1_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_1_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_1_i","_inline_1_v"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},funcName:"convert",blockSize:64})},function(t,e,r){"use strict";t.exports=function(t,e,r){if(Array.isArray(r)){if(r.length!==e.dimension)throw new Error("ndarray-gradient: invalid boundary conditions")}else r=n(e.dimension,"string"==typeof r?r:"clamp");if(t.dimension!==e.dimension+1)throw new Error("ndarray-gradient: output dimension must be +1 input dimension");if(t.shape[e.dimension]!==e.dimension)throw new Error("ndarray-gradient: output shape must match input shape");for(var i=0;i<e.dimension;++i)if(t.shape[i]!==e.shape[i])throw new Error("ndarray-gradient: shape mismatch");if(0===e.size)return t;if(e.dimension<=0)return t.set(0),t;return function(t){var e=t.join();if(m=a[e])return m;var r=t.length,n=["function gradient(dst,src){var s=src.shape.slice();"];function i(e){for(var i=r-e.length,o=[],a=[],s=[],u=0;u<r;++u)e.indexOf(u+1)>=0?s.push("0"):e.indexOf(-(u+1))>=0?s.push("s["+u+"]-1"):(s.push("-1"),o.push("1"),a.push("s["+u+"]-2"));var h=".lo("+o.join()+").hi("+a.join()+")";if(0===o.length&&(h=""),i>0){n.push("if(1");for(var u=0;u<r;++u)e.indexOf(u+1)>=0||e.indexOf(-(u+1))>=0||n.push("&&s[",u,"]>2");n.push("){grad",i,"(src.pick(",s.join(),")",h);for(var u=0;u<r;++u)e.indexOf(u+1)>=0||e.indexOf(-(u+1))>=0||n.push(",dst.pick(",s.join(),",",u,")",h);n.push(");")}for(var u=0;u<e.length;++u){var f=Math.abs(e[u])-1,l="dst.pick("+s.join()+","+f+")"+h;switch(t[f]){case"clamp":var c=s.slice(),d=s.slice();e[u]<0?c[f]="s["+f+"]-2":d[f]="1",0===i?n.push("if(s[",f,"]>1){dst.set(",s.join(),",",f,",0.5*(src.get(",c.join(),")-src.get(",d.join(),")))}else{dst.set(",s.join(),",",f,",0)};"):n.push("if(s[",f,"]>1){diff(",l,",src.pick(",c.join(),")",h,",src.pick(",d.join(),")",h,");}else{zero(",l,");};");break;case"mirror":0===i?n.push("dst.set(",s.join(),",",f,",0);"):n.push("zero(",l,");");break;case"wrap":var p=s.slice(),v=s.slice();e[u]<0?(p[f]="s["+f+"]-2",v[f]="0"):(p[f]="s["+f+"]-1",v[f]="1"),0===i?n.push("if(s[",f,"]>2){dst.set(",s.join(),",",f,",0.5*(src.get(",p.join(),")-src.get(",v.join(),")))}else{dst.set(",s.join(),",",f,",0)};"):n.push("if(s[",f,"]>2){diff(",l,",src.pick(",p.join(),")",h,",src.pick(",v.join(),")",h,");}else{zero(",l,");};");break;default:throw new Error("ndarray-gradient: Invalid boundary condition")}}i>0&&n.push("};")}for(var s=0;s<1<<r;++s){for(var l=[],c=0;c<r;++c)s&1<<c&&l.push(c+1);for(var d=0;d<1<<l.length;++d){for(var p=l.slice(),c=0;c<l.length;++c)d&1<<c&&(p[c]=-p[c]);i(p)}}n.push("return dst;};return gradient");for(var v=["diff","zero"],g=[u,h],s=1;s<=r;++s)v.push("grad"+s),g.push(f(s));v.push(n.join(""));var m=Function.apply(void 0,v).apply(void 0,g);return o[e]=m,m}(r)(t,e)};var n=r(93),i=r(22),o={},a={},s={body:"",args:[],thisVars:[],localVars:[]},u=i({args:["array","array","array"],pre:s,post:s,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1},{name:"left",lvalue:!1,rvalue:!0,count:1},{name:"right",lvalue:!1,rvalue:!0,count:1}],body:"out=0.5*(left-right)",thisVars:[],localVars:[]},funcName:"cdiff"}),h=i({args:["array"],pre:s,post:s,body:{args:[{name:"out",lvalue:!0,rvalue:!1,count:1}],body:"out=0",thisVars:[],localVars:[]},funcName:"zero"});function f(t){if(t in o)return o[t];for(var e=[],r=0;r<t;++r)e.push("out",r,"s=0.5*(inp",r,"l-inp",r,"r);");var a=["array"],u=["junk"];for(r=0;r<t;++r){a.push("array"),u.push("out"+r+"s");var h=n(t);h[r]=-1,a.push({array:0,offset:h.slice()}),h[r]=1,a.push({array:0,offset:h.slice()}),u.push("inp"+r+"l","inp"+r+"r")}return o[t]=i({args:a,pre:s,post:s,body:{body:e.join(""),args:u.map(function(t){return{name:t,lvalue:0===t.indexOf("out"),rvalue:0===t.indexOf("inp"),count:"junk"!==t|0}}),thisVars:[],localVars:[]},funcName:"fdTemplate"+t})}},function(t,e,r){var n=r(34),i=r(33),o=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute vec3 f;\nattribute vec3 normal;\n\nuniform mat4 model, view, projection, inverseModel;\nuniform vec3 lightPosition, eyePosition;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  worldCoordinate = vec3(uv.zw, f.x);\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\n  vec4 clipPosition = projection * view * worldPosition;\n  gl_Position = clipPosition;\n  kill = f.y;\n  value = f.z;\n  planeCoordinate = uv.xy;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Lighting geometry parameters\n  vec4 cameraCoordinate = view * worldPosition;\n  cameraCoordinate.xyz /= cameraCoordinate.w;\n  lightDirection = lightPosition - cameraCoordinate.xyz;\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\n}\n"]),a=i(["precision mediump float;\n#define GLSLIFY 1\n\nfloat beckmannDistribution(float x, float roughness) {\n  float NdotH = max(x, 0.0001);\n  float cos2Alpha = NdotH * NdotH;\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\n  float roughness2 = roughness * roughness;\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\n  return exp(tan2Alpha / roughness2) / denom;\n}\n\nfloat beckmannSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float roughness) {\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\n}\n\nuniform vec3 lowerBound, upperBound;\nuniform float contourTint;\nuniform vec4 contourColor;\nuniform sampler2D colormap;\nuniform vec3 clipBounds[2];\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\nuniform float vertexColor;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  if (kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n\n  vec3 N = normalize(surfaceNormal);\n  vec3 V = normalize(eyeDirection);\n  vec3 L = normalize(lightDirection);\n\n  if(gl_FrontFacing) {\n    N = -N;\n  }\n\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\n\n  //decide how to interpolate color  in vertex or in fragment\n  vec4 surfaceColor = step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) + step(.5, vertexColor) * vColor;\n\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\n\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\n}\n"]),s=i(["precision mediump float;\n#define GLSLIFY 1\n\nattribute vec4 uv;\nattribute float f;\n\nuniform mat3 permutation;\nuniform mat4 model, view, projection;\nuniform float height, zOffset;\nuniform sampler2D colormap;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\nvarying vec4 vColor;\n\nvoid main() {\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\n  vec4 worldPosition = model * vec4(dataCoordinate, 1.0);\n\n  vec4 clipPosition = projection * view * worldPosition;\n  clipPosition.z = clipPosition.z + zOffset;\n\n  gl_Position = clipPosition;\n  value = f;\n  kill = -1.0;\n  worldCoordinate = dataCoordinate;\n  planeCoordinate = uv.zw;\n\n  vColor = texture2D(colormap, vec2(value, value));\n\n  //Don't do lighting for contours\n  surfaceNormal   = vec3(1,0,0);\n  eyeDirection    = vec3(0,1,0);\n  lightDirection  = vec3(0,0,1);\n}\n"]),u=i(["precision mediump float;\n#define GLSLIFY 1\n\nuniform vec2 shape;\nuniform vec3 clipBounds[2];\nuniform float pickId;\n\nvarying float value, kill;\nvarying vec3 worldCoordinate;\nvarying vec2 planeCoordinate;\nvarying vec3 surfaceNormal;\n\nvec2 splitFloat(float v) {\n  float vh = 255.0 * v;\n  float upper = floor(vh);\n  float lower = fract(vh);\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\n}\n\nvoid main() {\n  if(kill > 0.0 ||\n    any(lessThan(worldCoordinate, clipBounds[0])) || any(greaterThan(worldCoordinate, clipBounds[1]))) {\n    discard;\n  }\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\n}\n"]);e.createShader=function(t){var e=n(t,o,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createPickShader=function(t){var e=n(t,o,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},e.createContourShader=function(t){var e=n(t,s,a,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},e.createPickContourShader=function(t){var e=n(t,s,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},function(t,e,r){"use strict";var n=r(2),i=r(114),o=r(315),a=r(52);function s(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var u=s(a);u.Axios=o,u.create=function(t){return s(n.merge(a,t))},u.Cancel=r(118),u.CancelToken=r(329),u.isCancel=r(117),u.all=function(t){return Promise.all(t)},u.spread=r(330),t.exports=u,t.exports.default=u},function(t,e,r){"use strict";var n=r(52),i=r(2),o=r(324),a=r(325);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=s},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e,r){"use strict";var n=r(116);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(2);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";var n=r(2),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,a={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}}),a):a}},function(t,e,r){"use strict";var n=r(2);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),a="",s=0,u=n;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((r=o.charCodeAt(s+=.75))>255)throw new i;e=e<<8|r}return a}},function(t,e,r){"use strict";var n=r(2);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(2);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(2),i=r(326),o=r(117),a=r(52),s=r(327),u=r(328);function h(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return h(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return h(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(h(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(2);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(118);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"EPSILON",function(){return d}),r.d(n,"ARRAY_TYPE",function(){return p}),r.d(n,"RANDOM",function(){return v}),r.d(n,"setMatrixArrayType",function(){return g}),r.d(n,"toRadian",function(){return _}),r.d(n,"equals",function(){return b});var i={};r.r(i),r.d(i,"create",function(){return y}),r.d(i,"clone",function(){return w}),r.d(i,"copy",function(){return x}),r.d(i,"identity",function(){return M}),r.d(i,"fromValues",function(){return E}),r.d(i,"set",function(){return A}),r.d(i,"transpose",function(){return T}),r.d(i,"invert",function(){return k}),r.d(i,"adjoint",function(){return S}),r.d(i,"determinant",function(){return R}),r.d(i,"multiply",function(){return C}),r.d(i,"rotate",function(){return I}),r.d(i,"scale",function(){return L}),r.d(i,"fromRotation",function(){return P}),r.d(i,"fromScaling",function(){return N}),r.d(i,"str",function(){return O}),r.d(i,"frob",function(){return B}),r.d(i,"LDU",function(){return F}),r.d(i,"add",function(){return D}),r.d(i,"subtract",function(){return U}),r.d(i,"exactEquals",function(){return j}),r.d(i,"equals",function(){return z}),r.d(i,"multiplyScalar",function(){return V}),r.d(i,"multiplyScalarAndAdd",function(){return q}),r.d(i,"mul",function(){return H}),r.d(i,"sub",function(){return X});var o={};r.r(o),r.d(o,"create",function(){return W}),r.d(o,"clone",function(){return G}),r.d(o,"copy",function(){return Y}),r.d(o,"identity",function(){return Z}),r.d(o,"fromValues",function(){return K}),r.d(o,"set",function(){return Q}),r.d(o,"invert",function(){return J}),r.d(o,"determinant",function(){return $}),r.d(o,"multiply",function(){return tt}),r.d(o,"rotate",function(){return et}),r.d(o,"scale",function(){return rt}),r.d(o,"translate",function(){return nt}),r.d(o,"fromRotation",function(){return it}),r.d(o,"fromScaling",function(){return ot}),r.d(o,"fromTranslation",function(){return at}),r.d(o,"str",function(){return st}),r.d(o,"frob",function(){return ut}),r.d(o,"add",function(){return ht}),r.d(o,"subtract",function(){return ft}),r.d(o,"multiplyScalar",function(){return lt}),r.d(o,"multiplyScalarAndAdd",function(){return ct}),r.d(o,"exactEquals",function(){return dt}),r.d(o,"equals",function(){return pt}),r.d(o,"mul",function(){return vt}),r.d(o,"sub",function(){return gt});var a={};r.r(a),r.d(a,"create",function(){return mt}),r.d(a,"fromMat4",function(){return _t}),r.d(a,"clone",function(){return bt}),r.d(a,"copy",function(){return yt}),r.d(a,"fromValues",function(){return wt}),r.d(a,"set",function(){return xt}),r.d(a,"identity",function(){return Mt}),r.d(a,"transpose",function(){return Et}),r.d(a,"invert",function(){return At}),r.d(a,"adjoint",function(){return Tt}),r.d(a,"determinant",function(){return kt}),r.d(a,"multiply",function(){return St}),r.d(a,"translate",function(){return Rt}),r.d(a,"rotate",function(){return Ct}),r.d(a,"scale",function(){return It}),r.d(a,"fromTranslation",function(){return Lt}),r.d(a,"fromRotation",function(){return Pt}),r.d(a,"fromScaling",function(){return Nt}),r.d(a,"fromMat2d",function(){return Ot}),r.d(a,"fromQuat",function(){return Bt}),r.d(a,"normalFromMat4",function(){return Ft}),r.d(a,"projection",function(){return Dt}),r.d(a,"str",function(){return Ut}),r.d(a,"frob",function(){return jt}),r.d(a,"add",function(){return zt}),r.d(a,"subtract",function(){return Vt}),r.d(a,"multiplyScalar",function(){return qt}),r.d(a,"multiplyScalarAndAdd",function(){return Ht}),r.d(a,"exactEquals",function(){return Xt}),r.d(a,"equals",function(){return Wt}),r.d(a,"mul",function(){return Gt}),r.d(a,"sub",function(){return Yt});var s={};r.r(s),r.d(s,"create",function(){return Zt}),r.d(s,"clone",function(){return Kt}),r.d(s,"copy",function(){return Qt}),r.d(s,"fromValues",function(){return Jt}),r.d(s,"set",function(){return $t}),r.d(s,"identity",function(){return te}),r.d(s,"transpose",function(){return ee}),r.d(s,"invert",function(){return re}),r.d(s,"adjoint",function(){return ne}),r.d(s,"determinant",function(){return ie}),r.d(s,"multiply",function(){return oe}),r.d(s,"translate",function(){return ae}),r.d(s,"scale",function(){return se}),r.d(s,"rotate",function(){return ue}),r.d(s,"rotateX",function(){return he}),r.d(s,"rotateY",function(){return fe}),r.d(s,"rotateZ",function(){return le}),r.d(s,"fromTranslation",function(){return ce}),r.d(s,"fromScaling",function(){return de}),r.d(s,"fromRotation",function(){return pe}),r.d(s,"fromXRotation",function(){return ve}),r.d(s,"fromYRotation",function(){return ge}),r.d(s,"fromZRotation",function(){return me}),r.d(s,"fromRotationTranslation",function(){return _e}),r.d(s,"fromQuat2",function(){return be}),r.d(s,"getTranslation",function(){return ye}),r.d(s,"getScaling",function(){return we}),r.d(s,"getRotation",function(){return xe}),r.d(s,"fromRotationTranslationScale",function(){return Me}),r.d(s,"fromRotationTranslationScaleOrigin",function(){return Ee}),r.d(s,"fromQuat",function(){return Ae}),r.d(s,"frustum",function(){return Te}),r.d(s,"perspective",function(){return ke}),r.d(s,"perspectiveFromFieldOfView",function(){return Se}),r.d(s,"ortho",function(){return Re}),r.d(s,"lookAt",function(){return Ce}),r.d(s,"targetTo",function(){return Ie}),r.d(s,"str",function(){return Le}),r.d(s,"frob",function(){return Pe}),r.d(s,"add",function(){return Ne}),r.d(s,"subtract",function(){return Oe}),r.d(s,"multiplyScalar",function(){return Be}),r.d(s,"multiplyScalarAndAdd",function(){return Fe}),r.d(s,"exactEquals",function(){return De}),r.d(s,"equals",function(){return Ue}),r.d(s,"mul",function(){return je}),r.d(s,"sub",function(){return ze});var u={};r.r(u),r.d(u,"create",function(){return Ve}),r.d(u,"clone",function(){return qe}),r.d(u,"length",function(){return He}),r.d(u,"fromValues",function(){return Xe}),r.d(u,"copy",function(){return We}),r.d(u,"set",function(){return Ge}),r.d(u,"add",function(){return Ye}),r.d(u,"subtract",function(){return Ze}),r.d(u,"multiply",function(){return Ke}),r.d(u,"divide",function(){return Qe}),r.d(u,"ceil",function(){return Je}),r.d(u,"floor",function(){return $e}),r.d(u,"min",function(){return tr}),r.d(u,"max",function(){return er}),r.d(u,"round",function(){return rr}),r.d(u,"scale",function(){return nr}),r.d(u,"scaleAndAdd",function(){return ir}),r.d(u,"distance",function(){return or}),r.d(u,"squaredDistance",function(){return ar}),r.d(u,"squaredLength",function(){return sr}),r.d(u,"negate",function(){return ur}),r.d(u,"inverse",function(){return hr}),r.d(u,"normalize",function(){return fr}),r.d(u,"dot",function(){return lr}),r.d(u,"cross",function(){return cr}),r.d(u,"lerp",function(){return dr}),r.d(u,"hermite",function(){return pr}),r.d(u,"bezier",function(){return vr}),r.d(u,"random",function(){return gr}),r.d(u,"transformMat4",function(){return mr}),r.d(u,"transformMat3",function(){return _r}),r.d(u,"transformQuat",function(){return br}),r.d(u,"rotateX",function(){return yr}),r.d(u,"rotateY",function(){return wr}),r.d(u,"rotateZ",function(){return xr}),r.d(u,"angle",function(){return Mr}),r.d(u,"str",function(){return Er}),r.d(u,"exactEquals",function(){return Ar}),r.d(u,"equals",function(){return Tr}),r.d(u,"sub",function(){return kr}),r.d(u,"mul",function(){return Sr}),r.d(u,"div",function(){return Rr}),r.d(u,"dist",function(){return Cr}),r.d(u,"sqrDist",function(){return Ir}),r.d(u,"len",function(){return Lr}),r.d(u,"sqrLen",function(){return Pr}),r.d(u,"forEach",function(){return Nr});var h={};r.r(h),r.d(h,"create",function(){return Or}),r.d(h,"clone",function(){return Br}),r.d(h,"fromValues",function(){return Fr}),r.d(h,"copy",function(){return Dr}),r.d(h,"set",function(){return Ur}),r.d(h,"add",function(){return jr}),r.d(h,"subtract",function(){return zr}),r.d(h,"multiply",function(){return Vr}),r.d(h,"divide",function(){return qr}),r.d(h,"ceil",function(){return Hr}),r.d(h,"floor",function(){return Xr}),r.d(h,"min",function(){return Wr}),r.d(h,"max",function(){return Gr}),r.d(h,"round",function(){return Yr}),r.d(h,"scale",function(){return Zr}),r.d(h,"scaleAndAdd",function(){return Kr}),r.d(h,"distance",function(){return Qr}),r.d(h,"squaredDistance",function(){return Jr}),r.d(h,"length",function(){return $r}),r.d(h,"squaredLength",function(){return tn}),r.d(h,"negate",function(){return en}),r.d(h,"inverse",function(){return rn}),r.d(h,"normalize",function(){return nn}),r.d(h,"dot",function(){return on}),r.d(h,"lerp",function(){return an}),r.d(h,"random",function(){return sn}),r.d(h,"transformMat4",function(){return un}),r.d(h,"transformQuat",function(){return hn}),r.d(h,"str",function(){return fn}),r.d(h,"exactEquals",function(){return ln}),r.d(h,"equals",function(){return cn}),r.d(h,"sub",function(){return dn}),r.d(h,"mul",function(){return pn}),r.d(h,"div",function(){return vn}),r.d(h,"dist",function(){return gn}),r.d(h,"sqrDist",function(){return mn}),r.d(h,"len",function(){return _n}),r.d(h,"sqrLen",function(){return bn}),r.d(h,"forEach",function(){return yn});var f={};r.r(f),r.d(f,"create",function(){return wn}),r.d(f,"identity",function(){return xn}),r.d(f,"setAxisAngle",function(){return Mn}),r.d(f,"getAxisAngle",function(){return En}),r.d(f,"multiply",function(){return An}),r.d(f,"rotateX",function(){return Tn}),r.d(f,"rotateY",function(){return kn}),r.d(f,"rotateZ",function(){return Sn}),r.d(f,"calculateW",function(){return Rn}),r.d(f,"slerp",function(){return Cn}),r.d(f,"random",function(){return In}),r.d(f,"invert",function(){return Ln}),r.d(f,"conjugate",function(){return Pn}),r.d(f,"fromMat3",function(){return Nn}),r.d(f,"fromEuler",function(){return On}),r.d(f,"str",function(){return Bn}),r.d(f,"clone",function(){return Fn}),r.d(f,"fromValues",function(){return Dn}),r.d(f,"copy",function(){return Un}),r.d(f,"set",function(){return jn}),r.d(f,"add",function(){return zn}),r.d(f,"mul",function(){return Vn}),r.d(f,"scale",function(){return qn}),r.d(f,"dot",function(){return Hn}),r.d(f,"lerp",function(){return Xn}),r.d(f,"length",function(){return Wn}),r.d(f,"len",function(){return Gn}),r.d(f,"squaredLength",function(){return Yn}),r.d(f,"sqrLen",function(){return Zn}),r.d(f,"normalize",function(){return Kn}),r.d(f,"exactEquals",function(){return Qn}),r.d(f,"equals",function(){return Jn}),r.d(f,"rotationTo",function(){return $n}),r.d(f,"sqlerp",function(){return ti}),r.d(f,"setAxes",function(){return ei});var l={};r.r(l),r.d(l,"create",function(){return ri}),r.d(l,"clone",function(){return ni}),r.d(l,"fromValues",function(){return ii}),r.d(l,"fromRotationTranslationValues",function(){return oi}),r.d(l,"fromRotationTranslation",function(){return ai}),r.d(l,"fromTranslation",function(){return si}),r.d(l,"fromRotation",function(){return ui}),r.d(l,"fromMat4",function(){return hi}),r.d(l,"copy",function(){return fi}),r.d(l,"identity",function(){return li}),r.d(l,"set",function(){return ci}),r.d(l,"getReal",function(){return di}),r.d(l,"getDual",function(){return pi}),r.d(l,"setReal",function(){return vi}),r.d(l,"setDual",function(){return gi}),r.d(l,"getTranslation",function(){return mi}),r.d(l,"translate",function(){return _i}),r.d(l,"rotateX",function(){return bi}),r.d(l,"rotateY",function(){return yi}),r.d(l,"rotateZ",function(){return wi}),r.d(l,"rotateByQuatAppend",function(){return xi}),r.d(l,"rotateByQuatPrepend",function(){return Mi}),r.d(l,"rotateAroundAxis",function(){return Ei}),r.d(l,"add",function(){return Ai}),r.d(l,"multiply",function(){return Ti}),r.d(l,"mul",function(){return ki}),r.d(l,"scale",function(){return Si}),r.d(l,"dot",function(){return Ri}),r.d(l,"lerp",function(){return Ci}),r.d(l,"invert",function(){return Ii}),r.d(l,"conjugate",function(){return Li}),r.d(l,"length",function(){return Pi}),r.d(l,"len",function(){return Ni}),r.d(l,"squaredLength",function(){return Oi}),r.d(l,"sqrLen",function(){return Bi}),r.d(l,"normalize",function(){return Fi}),r.d(l,"str",function(){return Di}),r.d(l,"exactEquals",function(){return Ui}),r.d(l,"equals",function(){return ji});var c={};r.r(c),r.d(c,"create",function(){return zi}),r.d(c,"clone",function(){return Vi}),r.d(c,"fromValues",function(){return qi}),r.d(c,"copy",function(){return Hi}),r.d(c,"set",function(){return Xi}),r.d(c,"add",function(){return Wi}),r.d(c,"subtract",function(){return Gi}),r.d(c,"multiply",function(){return Yi}),r.d(c,"divide",function(){return Zi}),r.d(c,"ceil",function(){return Ki}),r.d(c,"floor",function(){return Qi}),r.d(c,"min",function(){return Ji}),r.d(c,"max",function(){return $i}),r.d(c,"round",function(){return to}),r.d(c,"scale",function(){return eo}),r.d(c,"scaleAndAdd",function(){return ro}),r.d(c,"distance",function(){return no}),r.d(c,"squaredDistance",function(){return io}),r.d(c,"length",function(){return oo}),r.d(c,"squaredLength",function(){return ao}),r.d(c,"negate",function(){return so}),r.d(c,"inverse",function(){return uo}),r.d(c,"normalize",function(){return ho}),r.d(c,"dot",function(){return fo}),r.d(c,"cross",function(){return lo}),r.d(c,"lerp",function(){return co}),r.d(c,"random",function(){return po}),r.d(c,"transformMat2",function(){return vo}),r.d(c,"transformMat2d",function(){return go}),r.d(c,"transformMat3",function(){return mo}),r.d(c,"transformMat4",function(){return _o}),r.d(c,"rotate",function(){return bo}),r.d(c,"angle",function(){return yo}),r.d(c,"str",function(){return wo}),r.d(c,"exactEquals",function(){return xo}),r.d(c,"equals",function(){return Mo}),r.d(c,"len",function(){return Eo}),r.d(c,"sub",function(){return Ao}),r.d(c,"mul",function(){return To}),r.d(c,"div",function(){return ko}),r.d(c,"dist",function(){return So}),r.d(c,"sqrDist",function(){return Ro}),r.d(c,"sqrLen",function(){return Co}),r.d(c,"forEach",function(){return Io});var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array,v=Math.random;function g(t){p=t}var m=Math.PI/180;function _(t){return t*m}function b(t,e){return Math.abs(t-e)<=d*Math.max(1,Math.abs(t),Math.abs(e))}function y(){var t=new p(4);return p!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}function w(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function M(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function E(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function A(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function T(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function k(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*o-i*n;return a?(a=1/a,t[0]=o*a,t[1]=-n*a,t[2]=-i*a,t[3]=r*a,t):null}function S(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function R(t){return t[0]*t[3]-t[2]*t[1]}function C(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1],h=r[2],f=r[3];return t[0]=n*s+o*u,t[1]=i*s+a*u,t[2]=n*h+o*f,t[3]=i*h+a*f,t}function I(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+o*s,t[1]=i*u+a*s,t[2]=n*-s+o*u,t[3]=i*-s+a*u,t}function L(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1];return t[0]=n*s,t[1]=i*s,t[2]=o*u,t[3]=a*u,t}function P(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function N(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function O(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function B(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function F(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function D(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function U(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function j(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function z(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],h=e[3];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))}function V(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function q(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}var H=C,X=U;function W(){var t=new p(6);return p!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t}function G(t){var e=new p(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Y(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Z(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function K(t,e,r,n,i,o){var a=new p(6);return a[0]=t,a[1]=e,a[2]=r,a[3]=n,a[4]=i,a[5]=o,a}function Q(t,e,r,n,i,o,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t}function J(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=r*o-n*i;return u?(u=1/u,t[0]=o*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*s-o*a)*u,t[5]=(n*a-r*s)*u,t):null}function $(t){return t[0]*t[3]-t[1]*t[2]}function tt(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=r[0],f=r[1],l=r[2],c=r[3],d=r[4],p=r[5];return t[0]=n*h+o*f,t[1]=i*h+a*f,t[2]=n*l+o*c,t[3]=i*l+a*c,t[4]=n*d+o*p+s,t[5]=i*d+a*p+u,t}function et(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=Math.sin(r),f=Math.cos(r);return t[0]=n*f+o*h,t[1]=i*f+a*h,t[2]=n*-h+o*f,t[3]=i*-h+a*f,t[4]=s,t[5]=u,t}function rt(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=r[0],f=r[1];return t[0]=n*h,t[1]=i*h,t[2]=o*f,t[3]=a*f,t[4]=s,t[5]=u,t}function nt(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=r[0],f=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=n*h+o*f+s,t[5]=i*h+a*f+u,t}function it(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function at(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function st(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function ut(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function ht(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function ft(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function lt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function ct(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function dt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function pt(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=e[0],h=e[1],f=e[2],l=e[3],c=e[4],p=e[5];return Math.abs(r-u)<=d*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-h)<=d*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-f)<=d*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-l)<=d*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-c)<=d*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(s-p)<=d*Math.max(1,Math.abs(s),Math.abs(p))}var vt=tt,gt=ft;function mt(){var t=new p(9);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function _t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function bt(t){var e=new p(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function yt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wt(t,e,r,n,i,o,a,s,u){var h=new p(9);return h[0]=t,h[1]=e,h[2]=r,h[3]=n,h[4]=i,h[5]=o,h[6]=a,h[7]=s,h[8]=u,h}function xt(t,e,r,n,i,o,a,s,u,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=h,t}function Mt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Et(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function At(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],f=e[8],l=f*a-s*h,c=-f*o+s*u,d=h*o-a*u,p=r*l+n*c+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-f*n+i*h)*p,t[2]=(s*n-i*a)*p,t[3]=c*p,t[4]=(f*r-i*u)*p,t[5]=(-s*r+i*o)*p,t[6]=d*p,t[7]=(-h*r+n*u)*p,t[8]=(a*r-n*o)*p,t):null}function Tt(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],f=e[8];return t[0]=a*f-s*h,t[1]=i*h-n*f,t[2]=n*s-i*a,t[3]=s*u-o*f,t[4]=r*f-i*u,t[5]=i*o-r*s,t[6]=o*h-a*u,t[7]=n*u-r*h,t[8]=r*a-n*o,t}function kt(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],h=t[8];return e*(h*o-a*u)+r*(-h*i+a*s)+n*(u*i-o*s)}function St(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=e[8],c=r[0],d=r[1],p=r[2],v=r[3],g=r[4],m=r[5],_=r[6],b=r[7],y=r[8];return t[0]=c*n+d*a+p*h,t[1]=c*i+d*s+p*f,t[2]=c*o+d*u+p*l,t[3]=v*n+g*a+m*h,t[4]=v*i+g*s+m*f,t[5]=v*o+g*u+m*l,t[6]=_*n+b*a+y*h,t[7]=_*i+b*s+y*f,t[8]=_*o+b*u+y*l,t}function Rt(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=e[8],c=r[0],d=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=u,t[6]=c*n+d*a+h,t[7]=c*i+d*s+f,t[8]=c*o+d*u+l,t}function Ct(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=e[8],c=Math.sin(r),d=Math.cos(r);return t[0]=d*n+c*a,t[1]=d*i+c*s,t[2]=d*o+c*u,t[3]=d*a-c*n,t[4]=d*s-c*i,t[5]=d*u-c*o,t[6]=h,t[7]=f,t[8]=l,t}function It(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Lt(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function Pt(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Nt(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Ot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function Bt(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,h=r*a,f=n*a,l=n*s,c=i*a,d=i*s,p=i*u,v=o*a,g=o*s,m=o*u;return t[0]=1-l-p,t[3]=f-m,t[6]=c+g,t[1]=f+m,t[4]=1-h-p,t[7]=d-v,t[2]=c-g,t[5]=d+v,t[8]=1-h-l,t}function Ft(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],f=e[8],l=e[9],c=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],_=r*s-n*a,b=r*u-i*a,y=r*h-o*a,w=n*u-i*s,x=n*h-o*s,M=i*h-o*u,E=f*v-l*p,A=f*g-c*p,T=f*m-d*p,k=l*g-c*v,S=l*m-d*v,R=c*m-d*g,C=_*R-b*S+y*k+w*T-x*A+M*E;return C?(C=1/C,t[0]=(s*R-u*S+h*k)*C,t[1]=(u*T-a*R-h*A)*C,t[2]=(a*S-s*T+h*E)*C,t[3]=(i*S-n*R-o*k)*C,t[4]=(r*R-i*T+o*A)*C,t[5]=(n*T-r*S-o*E)*C,t[6]=(v*M-g*x+m*w)*C,t[7]=(g*y-p*M-m*b)*C,t[8]=(p*x-v*y+m*_)*C,t):null}function Dt(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Ut(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function jt(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function zt(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function Vt(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function qt(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function Ht(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function Xt(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function Wt(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],f=t[8],l=e[0],c=e[1],p=e[2],v=e[3],g=e[4],m=e[5],_=e[6],b=e[7],y=e[8];return Math.abs(r-l)<=d*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-c)<=d*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-p)<=d*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-v)<=d*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-g)<=d*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(s-m)<=d*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-_)<=d*Math.max(1,Math.abs(u),Math.abs(_))&&Math.abs(h-b)<=d*Math.max(1,Math.abs(h),Math.abs(b))&&Math.abs(f-y)<=d*Math.max(1,Math.abs(f),Math.abs(y))}var Gt=St,Yt=Vt;function Zt(){var t=new p(16);return p!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Kt(t){var e=new p(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Jt(t,e,r,n,i,o,a,s,u,h,f,l,c,d,v,g){var m=new p(16);return m[0]=t,m[1]=e,m[2]=r,m[3]=n,m[4]=i,m[5]=o,m[6]=a,m[7]=s,m[8]=u,m[9]=h,m[10]=f,m[11]=l,m[12]=c,m[13]=d,m[14]=v,m[15]=g,m}function $t(t,e,r,n,i,o,a,s,u,h,f,l,c,d,p,v,g){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t[8]=h,t[9]=f,t[10]=l,t[11]=c,t[12]=d,t[13]=p,t[14]=v,t[15]=g,t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ee(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],o=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function re(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],f=e[8],l=e[9],c=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15],_=r*s-n*a,b=r*u-i*a,y=r*h-o*a,w=n*u-i*s,x=n*h-o*s,M=i*h-o*u,E=f*v-l*p,A=f*g-c*p,T=f*m-d*p,k=l*g-c*v,S=l*m-d*v,R=c*m-d*g,C=_*R-b*S+y*k+w*T-x*A+M*E;return C?(C=1/C,t[0]=(s*R-u*S+h*k)*C,t[1]=(i*S-n*R-o*k)*C,t[2]=(v*M-g*x+m*w)*C,t[3]=(c*x-l*M-d*w)*C,t[4]=(u*T-a*R-h*A)*C,t[5]=(r*R-i*T+o*A)*C,t[6]=(g*y-p*M-m*b)*C,t[7]=(f*M-c*y+d*b)*C,t[8]=(a*S-s*T+h*E)*C,t[9]=(n*T-r*S-o*E)*C,t[10]=(p*x-v*y+m*_)*C,t[11]=(l*y-f*x-d*_)*C,t[12]=(s*A-a*k-u*E)*C,t[13]=(r*k-n*A+i*E)*C,t[14]=(v*b-p*w-g*_)*C,t[15]=(f*w-l*b+c*_)*C,t):null}function ne(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],h=e[7],f=e[8],l=e[9],c=e[10],d=e[11],p=e[12],v=e[13],g=e[14],m=e[15];return t[0]=s*(c*m-d*g)-l*(u*m-h*g)+v*(u*d-h*c),t[1]=-(n*(c*m-d*g)-l*(i*m-o*g)+v*(i*d-o*c)),t[2]=n*(u*m-h*g)-s*(i*m-o*g)+v*(i*h-o*u),t[3]=-(n*(u*d-h*c)-s*(i*d-o*c)+l*(i*h-o*u)),t[4]=-(a*(c*m-d*g)-f*(u*m-h*g)+p*(u*d-h*c)),t[5]=r*(c*m-d*g)-f*(i*m-o*g)+p*(i*d-o*c),t[6]=-(r*(u*m-h*g)-a*(i*m-o*g)+p*(i*h-o*u)),t[7]=r*(u*d-h*c)-a*(i*d-o*c)+f*(i*h-o*u),t[8]=a*(l*m-d*v)-f*(s*m-h*v)+p*(s*d-h*l),t[9]=-(r*(l*m-d*v)-f*(n*m-o*v)+p*(n*d-o*l)),t[10]=r*(s*m-h*v)-a*(n*m-o*v)+p*(n*h-o*s),t[11]=-(r*(s*d-h*l)-a*(n*d-o*l)+f*(n*h-o*s)),t[12]=-(a*(l*g-c*v)-f*(s*g-u*v)+p*(s*c-u*l)),t[13]=r*(l*g-c*v)-f*(n*g-i*v)+p*(n*c-i*l),t[14]=-(r*(s*g-u*v)-a*(n*g-i*v)+p*(n*u-i*s)),t[15]=r*(s*c-u*l)-a*(n*c-i*l)+f*(n*u-i*s),t}function ie(t){var e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],a=t[5],s=t[6],u=t[7],h=t[8],f=t[9],l=t[10],c=t[11],d=t[12],p=t[13],v=t[14],g=t[15];return(e*a-r*o)*(l*g-c*v)-(e*s-n*o)*(f*g-c*p)+(e*u-i*o)*(f*v-l*p)+(r*s-n*a)*(h*g-c*d)-(r*u-i*a)*(h*v-l*d)+(n*u-i*s)*(h*p-f*d)}function oe(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=e[8],c=e[9],d=e[10],p=e[11],v=e[12],g=e[13],m=e[14],_=e[15],b=r[0],y=r[1],w=r[2],x=r[3];return t[0]=b*n+y*s+w*l+x*v,t[1]=b*i+y*u+w*c+x*g,t[2]=b*o+y*h+w*d+x*m,t[3]=b*a+y*f+w*p+x*_,b=r[4],y=r[5],w=r[6],x=r[7],t[4]=b*n+y*s+w*l+x*v,t[5]=b*i+y*u+w*c+x*g,t[6]=b*o+y*h+w*d+x*m,t[7]=b*a+y*f+w*p+x*_,b=r[8],y=r[9],w=r[10],x=r[11],t[8]=b*n+y*s+w*l+x*v,t[9]=b*i+y*u+w*c+x*g,t[10]=b*o+y*h+w*d+x*m,t[11]=b*a+y*f+w*p+x*_,b=r[12],y=r[13],w=r[14],x=r[15],t[12]=b*n+y*s+w*l+x*v,t[13]=b*i+y*u+w*c+x*g,t[14]=b*o+y*h+w*d+x*m,t[15]=b*a+y*f+w*p+x*_,t}function ae(t,e,r){var n=r[0],i=r[1],o=r[2],a=void 0,s=void 0,u=void 0,h=void 0,f=void 0,l=void 0,c=void 0,d=void 0,p=void 0,v=void 0,g=void 0,m=void 0;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*o+e[12],t[13]=e[1]*n+e[5]*i+e[9]*o+e[13],t[14]=e[2]*n+e[6]*i+e[10]*o+e[14],t[15]=e[3]*n+e[7]*i+e[11]*o+e[15]):(a=e[0],s=e[1],u=e[2],h=e[3],f=e[4],l=e[5],c=e[6],d=e[7],p=e[8],v=e[9],g=e[10],m=e[11],t[0]=a,t[1]=s,t[2]=u,t[3]=h,t[4]=f,t[5]=l,t[6]=c,t[7]=d,t[8]=p,t[9]=v,t[10]=g,t[11]=m,t[12]=a*n+f*i+p*o+e[12],t[13]=s*n+l*i+v*o+e[13],t[14]=u*n+c*i+g*o+e[14],t[15]=h*n+d*i+m*o+e[15]),t}function se(t,e,r){var n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ue(t,e,r,n){var i,o,a,s,u,h,f,l,c,p,v,g,m,_,b,y,w,x,M,E,A,T,k,S,R=n[0],C=n[1],I=n[2],L=Math.sqrt(R*R+C*C+I*I);return L<d?null:(R*=L=1/L,C*=L,I*=L,i=Math.sin(r),a=1-(o=Math.cos(r)),s=e[0],u=e[1],h=e[2],f=e[3],l=e[4],c=e[5],p=e[6],v=e[7],g=e[8],m=e[9],_=e[10],b=e[11],y=R*R*a+o,w=C*R*a+I*i,x=I*R*a-C*i,M=R*C*a-I*i,E=C*C*a+o,A=I*C*a+R*i,T=R*I*a+C*i,k=C*I*a-R*i,S=I*I*a+o,t[0]=s*y+l*w+g*x,t[1]=u*y+c*w+m*x,t[2]=h*y+p*w+_*x,t[3]=f*y+v*w+b*x,t[4]=s*M+l*E+g*A,t[5]=u*M+c*E+m*A,t[6]=h*M+p*E+_*A,t[7]=f*M+v*E+b*A,t[8]=s*T+l*k+g*S,t[9]=u*T+c*k+m*S,t[10]=h*T+p*k+_*S,t[11]=f*T+v*k+b*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function he(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[4],a=e[5],s=e[6],u=e[7],h=e[8],f=e[9],l=e[10],c=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+h*n,t[5]=a*i+f*n,t[6]=s*i+l*n,t[7]=u*i+c*n,t[8]=h*i-o*n,t[9]=f*i-a*n,t[10]=l*i-s*n,t[11]=c*i-u*n,t}function fe(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],u=e[3],h=e[8],f=e[9],l=e[10],c=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-h*n,t[1]=a*i-f*n,t[2]=s*i-l*n,t[3]=u*i-c*n,t[8]=o*n+h*i,t[9]=a*n+f*i,t[10]=s*n+l*i,t[11]=u*n+c*i,t}function le(t,e,r){var n=Math.sin(r),i=Math.cos(r),o=e[0],a=e[1],s=e[2],u=e[3],h=e[4],f=e[5],l=e[6],c=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+h*n,t[1]=a*i+f*n,t[2]=s*i+l*n,t[3]=u*i+c*n,t[4]=h*i-o*n,t[5]=f*i-a*n,t[6]=l*i-s*n,t[7]=c*i-u*n,t}function ce(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function de(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pe(t,e,r){var n,i,o,a=r[0],s=r[1],u=r[2],h=Math.sqrt(a*a+s*s+u*u);return h<d?null:(a*=h=1/h,s*=h,u*=h,n=Math.sin(e),o=1-(i=Math.cos(e)),t[0]=a*a*o+i,t[1]=s*a*o+u*n,t[2]=u*a*o-s*n,t[3]=0,t[4]=a*s*o-u*n,t[5]=s*s*o+i,t[6]=u*s*o+a*n,t[7]=0,t[8]=a*u*o+s*n,t[9]=s*u*o-a*n,t[10]=u*u*o+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function ve(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ge(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function me(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _e(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=n+n,u=i+i,h=o+o,f=n*s,l=n*u,c=n*h,d=i*u,p=i*h,v=o*h,g=a*s,m=a*u,_=a*h;return t[0]=1-(d+v),t[1]=l+_,t[2]=c-m,t[3]=0,t[4]=l-_,t[5]=1-(f+v),t[6]=p+g,t[7]=0,t[8]=c+m,t[9]=p-g,t[10]=1-(f+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function be(t,e){var r=new p(3),n=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=n*n+i*i+o*o+a*a;return l>0?(r[0]=2*(s*a+f*n+u*o-h*i)/l,r[1]=2*(u*a+f*i+h*n-s*o)/l,r[2]=2*(h*a+f*o+s*i-u*n)/l):(r[0]=2*(s*a+f*n+u*o-h*i),r[1]=2*(u*a+f*i+h*n-s*o),r[2]=2*(h*a+f*o+s*i-u*n)),_e(t,e,r),t}function ye(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function we(t,e){var r=e[0],n=e[1],i=e[2],o=e[4],a=e[5],s=e[6],u=e[8],h=e[9],f=e[10];return t[0]=Math.sqrt(r*r+n*n+i*i),t[1]=Math.sqrt(o*o+a*a+s*s),t[2]=Math.sqrt(u*u+h*h+f*f),t}function xe(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function Me(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=e[3],u=i+i,h=o+o,f=a+a,l=i*u,c=i*h,d=i*f,p=o*h,v=o*f,g=a*f,m=s*u,_=s*h,b=s*f,y=n[0],w=n[1],x=n[2];return t[0]=(1-(p+g))*y,t[1]=(c+b)*y,t[2]=(d-_)*y,t[3]=0,t[4]=(c-b)*w,t[5]=(1-(l+g))*w,t[6]=(v+m)*w,t[7]=0,t[8]=(d+_)*x,t[9]=(v-m)*x,t[10]=(1-(l+p))*x,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function Ee(t,e,r,n,i){var o=e[0],a=e[1],s=e[2],u=e[3],h=o+o,f=a+a,l=s+s,c=o*h,d=o*f,p=o*l,v=a*f,g=a*l,m=s*l,_=u*h,b=u*f,y=u*l,w=n[0],x=n[1],M=n[2],E=i[0],A=i[1],T=i[2],k=(1-(v+m))*w,S=(d+y)*w,R=(p-b)*w,C=(d-y)*x,I=(1-(c+m))*x,L=(g+_)*x,P=(p+b)*M,N=(g-_)*M,O=(1-(c+v))*M;return t[0]=k,t[1]=S,t[2]=R,t[3]=0,t[4]=C,t[5]=I,t[6]=L,t[7]=0,t[8]=P,t[9]=N,t[10]=O,t[11]=0,t[12]=r[0]+E-(k*E+C*A+P*T),t[13]=r[1]+A-(S*E+I*A+N*T),t[14]=r[2]+T-(R*E+L*A+O*T),t[15]=1,t}function Ae(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r+r,s=n+n,u=i+i,h=r*a,f=n*a,l=n*s,c=i*a,d=i*s,p=i*u,v=o*a,g=o*s,m=o*u;return t[0]=1-l-p,t[1]=f+m,t[2]=c-g,t[3]=0,t[4]=f-m,t[5]=1-h-p,t[6]=d+v,t[7]=0,t[8]=c+g,t[9]=d-v,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Te(t,e,r,n,i,o,a){var s=1/(r-e),u=1/(i-n),h=1/(o-a);return t[0]=2*o*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*u,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*u,t[10]=(a+o)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*o*2*h,t[15]=0,t}function ke(t,e,r,n,i){var o=1/Math.tan(e/2),a=void 0;return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(a=1/(n-i),t[10]=(i+n)*a,t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t}function Se(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),u=2/(a+s),h=2/(i+o);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(a-s)*u*.5,t[9]=(i-o)*h*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function Re(t,e,r,n,i,o,a){var s=1/(e-r),u=1/(n-i),h=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*u,t[14]=(a+o)*h,t[15]=1,t}function Ce(t,e,r,n){var i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,h=void 0,f=void 0,l=void 0,c=void 0,p=void 0,v=e[0],g=e[1],m=e[2],_=n[0],b=n[1],y=n[2],w=r[0],x=r[1],M=r[2];return Math.abs(v-w)<d&&Math.abs(g-x)<d&&Math.abs(m-M)<d?te(t):(f=v-w,l=g-x,c=m-M,i=b*(c*=p=1/Math.sqrt(f*f+l*l+c*c))-y*(l*=p),o=y*(f*=p)-_*c,a=_*l-b*f,(p=Math.sqrt(i*i+o*o+a*a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=l*a-c*o,u=c*i-f*a,h=f*o-l*i,(p=Math.sqrt(s*s+u*u+h*h))?(s*=p=1/p,u*=p,h*=p):(s=0,u=0,h=0),t[0]=i,t[1]=s,t[2]=f,t[3]=0,t[4]=o,t[5]=u,t[6]=l,t[7]=0,t[8]=a,t[9]=h,t[10]=c,t[11]=0,t[12]=-(i*v+o*g+a*m),t[13]=-(s*v+u*g+h*m),t[14]=-(f*v+l*g+c*m),t[15]=1,t)}function Ie(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=n[0],u=n[1],h=n[2],f=i-r[0],l=o-r[1],c=a-r[2],d=f*f+l*l+c*c;d>0&&(f*=d=1/Math.sqrt(d),l*=d,c*=d);var p=u*c-h*l,v=h*f-s*c,g=s*l-u*f;return(d=p*p+v*v+g*g)>0&&(p*=d=1/Math.sqrt(d),v*=d,g*=d),t[0]=p,t[1]=v,t[2]=g,t[3]=0,t[4]=l*g-c*v,t[5]=c*p-f*g,t[6]=f*v-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=c,t[11]=0,t[12]=i,t[13]=o,t[14]=a,t[15]=1,t}function Le(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Pe(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function Ne(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function Oe(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function Be(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Fe(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function De(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Ue(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],f=t[8],l=t[9],c=t[10],p=t[11],v=t[12],g=t[13],m=t[14],_=t[15],b=e[0],y=e[1],w=e[2],x=e[3],M=e[4],E=e[5],A=e[6],T=e[7],k=e[8],S=e[9],R=e[10],C=e[11],I=e[12],L=e[13],P=e[14],N=e[15];return Math.abs(r-b)<=d*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-y)<=d*Math.max(1,Math.abs(n),Math.abs(y))&&Math.abs(i-w)<=d*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-x)<=d*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-M)<=d*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(s-E)<=d*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(u-A)<=d*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(h-T)<=d*Math.max(1,Math.abs(h),Math.abs(T))&&Math.abs(f-k)<=d*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(l-S)<=d*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(c-R)<=d*Math.max(1,Math.abs(c),Math.abs(R))&&Math.abs(p-C)<=d*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(v-I)<=d*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(g-L)<=d*Math.max(1,Math.abs(g),Math.abs(L))&&Math.abs(m-P)<=d*Math.max(1,Math.abs(m),Math.abs(P))&&Math.abs(_-N)<=d*Math.max(1,Math.abs(_),Math.abs(N))}var je=oe,ze=Oe;function Ve(){var t=new p(3);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function qe(t){var e=new p(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function He(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function Xe(t,e,r){var n=new p(3);return n[0]=t,n[1]=e,n[2]=r,n}function We(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ge(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function Ye(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function Ze(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function Ke(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function Qe(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function Je(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function $e(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function tr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function er(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function rr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function nr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function ir(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function or(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function ar(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function sr(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function ur(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function hr(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function fr(t,e){var r=e[0],n=e[1],i=e[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function lr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cr(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2];return t[0]=i*u-o*s,t[1]=o*a-n*u,t[2]=n*s-i*a,t}function dr(t,e,r,n){var i=e[0],o=e[1],a=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t}function pr(t,e,r,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,h=a*(o-1),f=a*(3-2*o);return t[0]=e[0]*s+r[0]*u+n[0]*h+i[0]*f,t[1]=e[1]*s+r[1]*u+n[1]*h+i[1]*f,t[2]=e[2]*s+r[2]*u+n[2]*h+i[2]*f,t}function vr(t,e,r,n,i,o){var a=1-o,s=a*a,u=o*o,h=s*a,f=3*o*s,l=3*u*a,c=u*o;return t[0]=e[0]*h+r[0]*f+n[0]*l+i[0]*c,t[1]=e[1]*h+r[1]*f+n[1]*l+i[1]*c,t[2]=e[2]*h+r[2]*f+n[2]*l+i[2]*c,t}function gr(t,e){e=e||1;var r=2*v()*Math.PI,n=2*v()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}function mr(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,t}function _r(t,e,r){var n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function br(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],u=e[1],h=e[2],f=i*h-o*u,l=o*s-n*h,c=n*u-i*s,d=i*c-o*l,p=o*f-n*c,v=n*l-i*f,g=2*a;return f*=g,l*=g,c*=g,d*=2,p*=2,v*=2,t[0]=s+f+d,t[1]=u+l+p,t[2]=h+c+v,t}function yr(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function wr(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function xr(t,e,r,n){var i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Mr(t,e){var r=Xe(t[0],t[1],t[2]),n=Xe(e[0],e[1],e[2]);fr(r,r),fr(n,n);var i=lr(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function Er(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ar(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function Tr(t,e){var r=t[0],n=t[1],i=t[2],o=e[0],a=e[1],s=e[2];return Math.abs(r-o)<=d*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=d*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=d*Math.max(1,Math.abs(i),Math.abs(s))}var kr=Ze,Sr=Ke,Rr=Qe,Cr=or,Ir=ar,Lr=He,Pr=sr,Nr=function(){var t=Ve();return function(e,r,n,i,o,a){var s=void 0,u=void 0;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2];return e}}();function Or(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Br(t){var e=new p(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Fr(t,e,r,n){var i=new p(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function Dr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Ur(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function jr(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function zr(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function Vr(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function qr(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function Hr(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Xr(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Wr(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function Gr(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function Yr(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Zr(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Kr(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function Qr(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function Jr(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+i*i+o*o}function $r(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)}function tn(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function en(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function rn(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function nn(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a),t[0]=r*a,t[1]=n*a,t[2]=i*a,t[3]=o*a),t}function on(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function an(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=a+n*(r[2]-a),t[3]=s+n*(r[3]-s),t}function sn(t,e){var r,n,i,o,a,s;e=e||1;do{a=(r=2*v()-1)*r+(n=2*v()-1)*n}while(a>=1);do{s=(i=2*v()-1)*i+(o=2*v()-1)*o}while(s>=1);var u=Math.sqrt((1-a)/s);return t[0]=e*r,t[1]=e*n,t[2]=e*i*u,t[3]=e*o*u,t}function un(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,t}function hn(t,e,r){var n=e[0],i=e[1],o=e[2],a=r[0],s=r[1],u=r[2],h=r[3],f=h*n+s*o-u*i,l=h*i+u*n-a*o,c=h*o+a*i-s*n,d=-a*n-s*i-u*o;return t[0]=f*h+d*-a+l*-u-c*-s,t[1]=l*h+d*-s+c*-a-f*-u,t[2]=c*h+d*-u+f*-s-l*-a,t[3]=e[3],t}function fn(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function ln(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function cn(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=e[0],s=e[1],u=e[2],h=e[3];return Math.abs(r-a)<=d*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=d*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=d*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(o-h)<=d*Math.max(1,Math.abs(o),Math.abs(h))}var dn=zr,pn=Vr,vn=qr,gn=Qr,mn=Jr,_n=$r,bn=tn,yn=function(){var t=Or();return function(e,r,n,i,o,a){var s=void 0,u=void 0;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],t[2]=e[s+2],t[3]=e[s+3],o(t,t,a),e[s]=t[0],e[s+1]=t[1],e[s+2]=t[2],e[s+3]=t[3];return e}}();function wn(){var t=new p(4);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function xn(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Mn(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function En(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return n>d?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function An(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1],h=r[2],f=r[3];return t[0]=n*f+a*s+i*h-o*u,t[1]=i*f+a*u+o*s-n*h,t[2]=o*f+a*h+n*u-i*s,t[3]=a*f-n*s-i*u-o*h,t}function Tn(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*s,t[1]=i*u+o*s,t[2]=o*u-i*s,t[3]=a*u-n*s,t}function kn(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u-o*s,t[1]=i*u+a*s,t[2]=o*u+n*s,t[3]=a*u-i*s,t}function Sn(t,e,r){r*=.5;var n=e[0],i=e[1],o=e[2],a=e[3],s=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*s,t[1]=i*u-n*s,t[2]=o*u+a*s,t[3]=a*u-o*s,t}function Rn(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function Cn(t,e,r,n){var i=e[0],o=e[1],a=e[2],s=e[3],u=r[0],h=r[1],f=r[2],l=r[3],c=void 0,p=void 0,v=void 0,g=void 0,m=void 0;return(p=i*u+o*h+a*f+s*l)<0&&(p=-p,u=-u,h=-h,f=-f,l=-l),1-p>d?(c=Math.acos(p),v=Math.sin(c),g=Math.sin((1-n)*c)/v,m=Math.sin(n*c)/v):(g=1-n,m=n),t[0]=g*i+m*u,t[1]=g*o+m*h,t[2]=g*a+m*f,t[3]=g*s+m*l,t}function In(t){var e=v(),r=v(),n=v(),i=Math.sqrt(1-e),o=Math.sqrt(e);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*n),t[3]=o*Math.cos(2*Math.PI*n),t}function Ln(t,e){var r=e[0],n=e[1],i=e[2],o=e[3],a=r*r+n*n+i*i+o*o,s=a?1/a:0;return t[0]=-r*s,t[1]=-n*s,t[2]=-i*s,t[3]=o*s,t}function Pn(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function Nn(t,e){var r=e[0]+e[4]+e[8],n=void 0;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*o+o]-e[3*a+a]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*o+a]-e[3*a+o])*n,t[o]=(e[3*o+i]+e[3*i+o])*n,t[a]=(e[3*a+i]+e[3*i+a])*n}return t}function On(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var o=Math.sin(e),a=Math.cos(e),s=Math.sin(r),u=Math.cos(r),h=Math.sin(n),f=Math.cos(n);return t[0]=o*u*f-a*s*h,t[1]=a*s*f+o*u*h,t[2]=a*u*h-o*s*f,t[3]=a*u*f+o*s*h,t}function Bn(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Fn=Br,Dn=Fr,Un=Dr,jn=Ur,zn=jr,Vn=An,qn=Zr,Hn=on,Xn=an,Wn=$r,Gn=Wn,Yn=tn,Zn=Yn,Kn=nn,Qn=ln,Jn=cn,$n=function(){var t=Ve(),e=Xe(1,0,0),r=Xe(0,1,0);return function(n,i,o){var a=lr(i,o);return a<-.999999?(cr(t,e,i),Lr(t)<1e-6&&cr(t,r,i),fr(t,t),Mn(n,t,Math.PI),n):a>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(cr(t,i,o),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+a,Kn(n,n))}}(),ti=function(){var t=wn(),e=wn();return function(r,n,i,o,a,s){return Cn(t,n,a,s),Cn(e,i,o,s),Cn(r,t,e,2*s*(1-s)),r}}(),ei=function(){var t=mt();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],Kn(e,Nn(e,t))}}();function ri(){var t=new p(8);return p!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t}function ni(t){var e=new p(8);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function ii(t,e,r,n,i,o,a,s){var u=new p(8);return u[0]=t,u[1]=e,u[2]=r,u[3]=n,u[4]=i,u[5]=o,u[6]=a,u[7]=s,u}function oi(t,e,r,n,i,o,a){var s=new p(8);s[0]=t,s[1]=e,s[2]=r,s[3]=n;var u=.5*i,h=.5*o,f=.5*a;return s[4]=u*n+h*r-f*e,s[5]=h*n+f*t-u*r,s[6]=f*n+u*e-h*t,s[7]=-u*t-h*e-f*r,s}function ai(t,e,r){var n=.5*r[0],i=.5*r[1],o=.5*r[2],a=e[0],s=e[1],u=e[2],h=e[3];return t[0]=a,t[1]=s,t[2]=u,t[3]=h,t[4]=n*h+i*u-o*s,t[5]=i*h+o*a-n*u,t[6]=o*h+n*s-i*a,t[7]=-n*a-i*s-o*u,t}function si(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*e[0],t[5]=.5*e[1],t[6]=.5*e[2],t[7]=0,t}function ui(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function hi(t,e){var r=wn();xe(r,e);var n=new p(3);return ye(n,e),ai(t,r,n),t}function fi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function li(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t}function ci(t,e,r,n,i,o,a,s,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=a,t[6]=s,t[7]=u,t}var di=Un;function pi(t,e){return t[0]=e[4],t[1]=e[5],t[2]=e[6],t[3]=e[7],t}var vi=Un;function gi(t,e){return t[4]=e[0],t[5]=e[1],t[6]=e[2],t[7]=e[3],t}function mi(t,e){var r=e[4],n=e[5],i=e[6],o=e[7],a=-e[0],s=-e[1],u=-e[2],h=e[3];return t[0]=2*(r*h+o*a+n*u-i*s),t[1]=2*(n*h+o*s+i*a-r*u),t[2]=2*(i*h+o*u+r*s-n*a),t}function _i(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=.5*r[0],u=.5*r[1],h=.5*r[2],f=e[4],l=e[5],c=e[6],d=e[7];return t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=a*s+i*h-o*u+f,t[5]=a*u+o*s-n*h+l,t[6]=a*h+n*u-i*s+c,t[7]=-n*s-i*u-o*h+d,t}function bi(t,e,r){var n=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=s*a+f*n+u*o-h*i,c=u*a+f*i+h*n-s*o,d=h*a+f*o+s*i-u*n,p=f*a-s*n-u*i-h*o;return Tn(t,e,r),n=t[0],i=t[1],o=t[2],a=t[3],t[4]=l*a+p*n+c*o-d*i,t[5]=c*a+p*i+d*n-l*o,t[6]=d*a+p*o+l*i-c*n,t[7]=p*a-l*n-c*i-d*o,t}function yi(t,e,r){var n=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=s*a+f*n+u*o-h*i,c=u*a+f*i+h*n-s*o,d=h*a+f*o+s*i-u*n,p=f*a-s*n-u*i-h*o;return kn(t,e,r),n=t[0],i=t[1],o=t[2],a=t[3],t[4]=l*a+p*n+c*o-d*i,t[5]=c*a+p*i+d*n-l*o,t[6]=d*a+p*o+l*i-c*n,t[7]=p*a-l*n-c*i-d*o,t}function wi(t,e,r){var n=-e[0],i=-e[1],o=-e[2],a=e[3],s=e[4],u=e[5],h=e[6],f=e[7],l=s*a+f*n+u*o-h*i,c=u*a+f*i+h*n-s*o,d=h*a+f*o+s*i-u*n,p=f*a-s*n-u*i-h*o;return Sn(t,e,r),n=t[0],i=t[1],o=t[2],a=t[3],t[4]=l*a+p*n+c*o-d*i,t[5]=c*a+p*i+d*n-l*o,t[6]=d*a+p*o+l*i-c*n,t[7]=p*a-l*n-c*i-d*o,t}function xi(t,e,r){var n=r[0],i=r[1],o=r[2],a=r[3],s=e[0],u=e[1],h=e[2],f=e[3];return t[0]=s*a+f*n+u*o-h*i,t[1]=u*a+f*i+h*n-s*o,t[2]=h*a+f*o+s*i-u*n,t[3]=f*a-s*n-u*i-h*o,s=e[4],u=e[5],h=e[6],f=e[7],t[4]=s*a+f*n+u*o-h*i,t[5]=u*a+f*i+h*n-s*o,t[6]=h*a+f*o+s*i-u*n,t[7]=f*a-s*n-u*i-h*o,t}function Mi(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[0],u=r[1],h=r[2],f=r[3];return t[0]=n*f+a*s+i*h-o*u,t[1]=i*f+a*u+o*s-n*h,t[2]=o*f+a*h+n*u-i*s,t[3]=a*f-n*s-i*u-o*h,s=r[4],u=r[5],h=r[6],f=r[7],t[4]=n*f+a*s+i*h-o*u,t[5]=i*f+a*u+o*s-n*h,t[6]=o*f+a*h+n*u-i*s,t[7]=a*f-n*s-i*u-o*h,t}function Ei(t,e,r,n){if(Math.abs(n)<d)return fi(t,e);var i=Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);n*=.5;var o=Math.sin(n),a=o*r[0]/i,s=o*r[1]/i,u=o*r[2]/i,h=Math.cos(n),f=e[0],l=e[1],c=e[2],p=e[3];t[0]=f*h+p*a+l*u-c*s,t[1]=l*h+p*s+c*a-f*u,t[2]=c*h+p*u+f*s-l*a,t[3]=p*h-f*a-l*s-c*u;var v=e[4],g=e[5],m=e[6],_=e[7];return t[4]=v*h+_*a+g*u-m*s,t[5]=g*h+_*s+m*a-v*u,t[6]=m*h+_*u+v*s-g*a,t[7]=_*h-v*a-g*s-m*u,t}function Ai(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t}function Ti(t,e,r){var n=e[0],i=e[1],o=e[2],a=e[3],s=r[4],u=r[5],h=r[6],f=r[7],l=e[4],c=e[5],d=e[6],p=e[7],v=r[0],g=r[1],m=r[2],_=r[3];return t[0]=n*_+a*v+i*m-o*g,t[1]=i*_+a*g+o*v-n*m,t[2]=o*_+a*m+n*g-i*v,t[3]=a*_-n*v-i*g-o*m,t[4]=n*f+a*s+i*h-o*u+l*_+p*v+c*m-d*g,t[5]=i*f+a*u+o*s-n*h+c*_+p*g+d*v-l*m,t[6]=o*f+a*h+n*u-i*s+d*_+p*m+l*g-c*v,t[7]=a*f-n*s-i*u-o*h+p*_-l*v-c*g-d*m,t}var ki=Ti;function Si(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t}var Ri=Hn;function Ci(t,e,r,n){var i=1-n;return Ri(e,r)<0&&(n=-n),t[0]=e[0]*i+r[0]*n,t[1]=e[1]*i+r[1]*n,t[2]=e[2]*i+r[2]*n,t[3]=e[3]*i+r[3]*n,t[4]=e[4]*i+r[4]*n,t[5]=e[5]*i+r[5]*n,t[6]=e[6]*i+r[6]*n,t[7]=e[7]*i+r[7]*n,t}function Ii(t,e){var r=Oi(e);return t[0]=-e[0]/r,t[1]=-e[1]/r,t[2]=-e[2]/r,t[3]=e[3]/r,t[4]=-e[4]/r,t[5]=-e[5]/r,t[6]=-e[6]/r,t[7]=e[7]/r,t}function Li(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t[4]=-e[4],t[5]=-e[5],t[6]=-e[6],t[7]=e[7],t}var Pi=Wn,Ni=Pi,Oi=Yn,Bi=Oi;function Fi(t,e){var r=Oi(e);if(r>0){r=Math.sqrt(r);var n=e[0]/r,i=e[1]/r,o=e[2]/r,a=e[3]/r,s=e[4],u=e[5],h=e[6],f=e[7],l=n*s+i*u+o*h+a*f;t[0]=n,t[1]=i,t[2]=o,t[3]=a,t[4]=(s-n*l)/r,t[5]=(u-i*l)/r,t[6]=(h-o*l)/r,t[7]=(f-a*l)/r}return t}function Di(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"}function Ui(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]}function ji(t,e){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],h=t[7],f=e[0],l=e[1],c=e[2],p=e[3],v=e[4],g=e[5],m=e[6],_=e[7];return Math.abs(r-f)<=d*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-l)<=d*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-c)<=d*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-p)<=d*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-v)<=d*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-g)<=d*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(u-m)<=d*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(h-_)<=d*Math.max(1,Math.abs(h),Math.abs(_))}function zi(){var t=new p(2);return p!=Float32Array&&(t[0]=0,t[1]=0),t}function Vi(t){var e=new p(2);return e[0]=t[0],e[1]=t[1],e}function qi(t,e){var r=new p(2);return r[0]=t,r[1]=e,r}function Hi(t,e){return t[0]=e[0],t[1]=e[1],t}function Xi(t,e,r){return t[0]=e,t[1]=r,t}function Wi(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function Gi(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function Yi(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function Zi(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function Ki(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function Qi(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function Ji(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function $i(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function to(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function eo(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function ro(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function no(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function io(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function oo(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function ao(t){var e=t[0],r=t[1];return e*e+r*r}function so(t,e){return t[0]=-e[0],t[1]=-e[1],t}function uo(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function ho(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function fo(t,e){return t[0]*e[0]+t[1]*e[1]}function lo(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function co(t,e,r,n){var i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t}function po(t,e){e=e||1;var r=2*v()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function vo(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function go(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function mo(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function _o(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function bo(t,e,r,n){var i=e[0]-r[0],o=e[1]-r[1],a=Math.sin(n),s=Math.cos(n);return t[0]=i*s-o*a+r[0],t[1]=i*a+o*s+r[1],t}function yo(t,e){var r=t[0],n=t[1],i=e[0],o=e[1],a=r*r+n*n;a>0&&(a=1/Math.sqrt(a));var s=i*i+o*o;s>0&&(s=1/Math.sqrt(s));var u=(r*i+n*o)*a*s;return u>1?0:u<-1?Math.PI:Math.acos(u)}function wo(t){return"vec2("+t[0]+", "+t[1]+")"}function xo(t,e){return t[0]===e[0]&&t[1]===e[1]}function Mo(t,e){var r=t[0],n=t[1],i=e[0],o=e[1];return Math.abs(r-i)<=d*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=d*Math.max(1,Math.abs(n),Math.abs(o))}var Eo=oo,Ao=Gi,To=Yi,ko=Zi,So=no,Ro=io,Co=ao,Io=function(){var t=zi();return function(e,r,n,i,o,a){var s=void 0,u=void 0;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,s=n;s<u;s+=r)t[0]=e[s],t[1]=e[s+1],o(t,t,a),e[s]=t[0],e[s+1]=t[1];return e}}();r.d(e,"glMatrix",function(){return n}),r.d(e,"mat2",function(){return i}),r.d(e,"mat2d",function(){return o}),r.d(e,"mat3",function(){return a}),r.d(e,"mat4",function(){return s}),r.d(e,"quat",function(){return f}),r.d(e,"quat2",function(){return l}),r.d(e,"vec2",function(){return c}),r.d(e,"vec3",function(){return u}),r.d(e,"vec4",function(){return h})},function(t,e,r){"use strict";r.r(e);let n=new XMLSerializer;const i='<?xml version="1.0" encoding="UTF-8" standalone="no" ?>';var o=r(119),a=r.n(o);class s{constructor(t,e=[]){this.createElement(t,e)}createElement(t,e=[]){this.el=document.createEasy("div",{props:{innerHTML:`<div class="popup-content">${t}</div>`},classes:["popup"].concat(e)}),document.querySelector("body").appendChild(this.el)}update(t){this.el.innerHTML=`<div class="popup-content">${t}</div>`}display(t=0,e=!1){this.el.classList.add("active"),t>0&&setTimeout(()=>this.hide(e),1e3*t)}hide(t=!1){this.el.classList.remove("active"),t&&setTimeout(()=>this.destroy(),1e3)}destroy(){this.el.remove()}}var u=r(120),h=r.n(u),f=r(36),l=r.n(f),c=r(25),d=r(121),p=r.n(d),v=(r(305),r(122)),g=r.n(v),m=r(8),_=r.n(m);const b=["main.xml","md5checksum.hex"],y={D:Float64Array,F:Float32Array,L:Int32Array,I:Int16Array},w=new DOMParser;class x{constructor(t){this.message=t}toString(){return this.message}}class M extends c.EventEmitter{constructor(t,e){if(super(),this.zipfile=t,this.filename=e,this.setFolder(),!this.hasRequiredFiles())throw new x("File does not conform to ISO5436-2");this.extract(),this.on("extracted",()=>{this.hasValidChecksum()||console.error("Found invalid checksum"),requestAnimationFrame(()=>this.render())})}async extract(){this.manifestSrc=await this.retrieve("main.xml"),this.manifest=w.parseFromString(this.manifestSrc,"application/xml"),this.matrix=await this.retrieve("bindata/data.bin","arraybuffer"),this.actualChecksum=l()(this.manifestSrc),this.expectedChecksum=(await this.retrieve("md5checksum.hex")).trim(),this.emit("extracted")}setFolder(){this.folder="";let t=this.zipfile.file(/main\.xml$/g);t.length>0&&"main.xml"!==t[0].name&&(this.folder=t[0].name.replace("main.xml",""))}retrieve(t,e="text"){return this.zipfile.file(this.folder+t).async(e)}update(t,e){this.zipfile.file(this.folder+t,e)}async download(t=this.filename){let e=await this.zipfile.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}});h()(e,t)}hasRequiredFiles(){for(let t of b)if(!Object.keys(this.zipfile.files).includes(this.folder+t))return!1;return!0}hasValidChecksum(){if(void 0===this.expectedChecksum)return!1;this.expectedChecksum.match(/\*main\.xml$/)&&(this.actualChecksum+=" *main.xml"),this.expectedChecksum,this.actualChecksum}async render(){if(void 0===this.manifest)return this.on("extracted",this.render.bind(this));let t=parseInt(this.manifest.querySelector("Record3 MatrixDimension SizeX").innerHTML),e=parseInt(this.manifest.querySelector("Record3 MatrixDimension SizeY").innerHTML),r=new(0,y[this.manifest.querySelector("Record1 Axes CZ DataType").innerHTML])(this.matrix);for(let t=0;t<r.length;t++)r[t]=5*r[t];let n=_()(r,[e,t]),i=document.querySelector("#visual"),o=i.getContext("webgl");o.clear(o.DEPTH_BUFFER_BIT|o.COLOR_BUFFER_BIT|o.STENCIL_BUFFER_BIT),i.setAttribute("width",i.offsetWidth),i.setAttribute("height",i.offsetHeight),this.scene=p()({canvas:i,glOptions:{drawingBufferWidth:i.offsetWidth,drawingBufferHeight:i.offsetHeight},clearColor:[0,0,0,0],autoResize:!1,camera:{eye:[0,0,.6],up:[-1,0,0],zoomMin:.7,zoomMax:.7},axes:{gridEnable:!1,lineEnable:!1,tickEnable:!1,labelEnable:!1,zeroEnable:!1},flipX:!0});let a=g()({gl:this.scene.gl,field:n,dynamicWidth:0,colormap:[{index:0,rgb:[104,64,25]},{index:1,rgb:[217,158,99]}]});this.scene.add(a)}}var E=r(123);const A='<a href="#" class="tab"><i class="fas fa-download"></i> Download</a>';let T=new DOMParser;var k=r(53),S=r.n(k);window.axios=S.a,window.fix3p={extLoaded:!1},Node.prototype.querySelectorImmediate=function(t){for(var e of this.children)if(e.matches(t))return e},Node.prototype.index=function(){let t=this.parentElement,e=0;for(let r of t.children){if(r===this)return e;e++}},Node.prototype.getPath=function(){let t=[this.tagName],e=this.parentElement;for(;e!==this.ownerDocument.documentElement;)t.push(e.tagName),e=e.parentElement;return t.reverse()},Document.prototype.createEasy=function(t,e={}){let r=this.createElement(t);if(void 0!==e.props)for(let t in e.props)r[t]=e.props[t];if(void 0!==e.attrs)for(let t in e.attrs)r.setAttribute(t,e.attrs[t]);if(void 0!==e.classes)for(let t of e.classes)r.classList.add(t);return r},window.pathArray2DTS=function(t){let e="main ";for(let r of t)e+=`[data-tag="${r}"] `;return e},window.prettyPrint=function(t){let e="";for(let r=0;r<t.length;r++)0!==r&&t[r]===t[r].toUpperCase()&&t[r-1]===t[r-1].toLowerCase()&&(e+=" "),e+=t[r];return e};try{void 0!==window.chrome.runtime.id&&(fix3p.extLoaded=!0)}catch(t){console.log("Chrome Extension not detected")}window.addEventListener("load",async()=>{fix3p.uploader=new class{constructor(){this.label=document.querySelector(".upload label"),this.input=document.querySelector(".upload input"),this.setupListeners()}setupListeners(){let t=t=>t.preventDefault();for(let e of["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"])this.label.addEventListener(e,t);this.label.addEventListener("dragenter",()=>this.label.classList.add("hover")),this.label.addEventListener("dragleave",()=>this.label.classList.remove("hover")),this.label.addEventListener("drop",this.read.bind(this)),this.input.addEventListener("change",t=>this.read.apply(this,[t,!0]))}async read(t,e=!1){this.label.classList.remove("hover");let r=e?this.input.files[0]:t.dataTransfer.files[0];try{let t=await a()().loadAsync(r);fix3p.X3P=new M(t,r.name)}catch(t){return new s('<i class="fas fa-exclamation-triangle"></i> Please upload a valid X3P file.').display(2,!0),this.input.value="",void console.error(t)}let n=await fix3p.X3P.retrieve("main.xml");fix3p.editor.display(T.parseFromString(n,"application/xml"))}display(){document.querySelector("form").setAttribute("data-view","uploader"),this.input.value=""}},fix3p.uploader.display(),fix3p.editor=new class{constructor(t=document.querySelector(".view")){this.el=t,this.nav=this.el.querySelector("nav"),this.main=this.el.querySelector("main"),this.backbtn=this.el.querySelector(".back"),this.backbtn.addEventListener("click",t=>window.fix3p.uploader.display())}clear(){this.nav.innerHTML=A,this.main.innerHTML=""}reset(){for(let t in this.main.querySelectorAll("input"))t.value=""}generate(t){this.count=0,this.clear(),this.generateIterator(t,this.main)}generateIterator(t,e){for(let r of t.children){let t=document.createEasy("div",{attrs:{"data-tag":r.tagName}});r.children.length>0?(t=this.generateIterator(r,t),r.tagName.match(/^Record/g)?this.nav.appendChild(this.createTab(r.tagName)):t.insertBefore(this.createHeading(r.tagName),t.children[0])):(t.appendChild(this.createLabel(r.tagName,"x3p$"+this.count)),t.appendChild(this.createInput("x3p$"+this.count,r.innerHTML,!E.includes(this.count))),this.count++),e.appendChild(t)}return e}createTab(t){return document.createEasy("div",{props:{innerHTML:prettyPrint(t)},attrs:{"data-target":t},classes:["tab"]})}createHeading(t){return document.createEasy("h3",{props:{innerHTML:prettyPrint(t)}})}createLabel(t,e){return document.createEasy("label",{props:{innerHTML:prettyPrint(t)+":"},attrs:{for:e}})}createInput(t,e,r=!1){let n=document.createEasy("input",{props:{type:"text",value:e,id:t}});return r&&n.setAttribute("disabled","disabled"),n}populate(t){if(0===t.children.length){let e=pathArray2DTS(t.getPath()),r=document.querySelector(e+" input");null!==r&&(r.value=t.innerHTML)}else for(let e of t.children)this.populate(e)}display(t){"development"===window.fix3p.mode?this.generate(t.children[0]):this.populate(t.children[0]),document.querySelector("form").setAttribute("data-view","editor")}};let t=new s("");try{let e=localStorage.getItem("openfile");if(null!==e){localStorage.removeItem("openfile"),t.update("Reading file..."),t.display();let r=(await S.a.get(decodeURIComponent(e),{responseType:"blob"})).data;fix3p.uploader.read({dataTransfer:{files:[new File([r],"file.x3p")]}}),t.hide(!0)}}catch(e){t.update("Error reading X3P file."),t.display(2,!0),console.error(e)}document.addEventListener("click",async t=>{if(t.target.matches("a.tab")){t.preventDefault();let e=new class{constructor(t){this.xml=document.implementation.createDocument("http://www.opengps.eu/2008/ISO5436_2","p:ISO5436_2"),this.xml.documentElement.setAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),this.xml.documentElement.setAttribute("xsi:schemaLocation","http://www.opengps.eu/2008/ISO5436_2 http://www.opengps.eu/2008/ISO5436_2/ISO5436_2.xsd"),this.iterator(t)}iterator(t,e=this.xml.documentElement){for(let n of t.children)if(void 0!==n.querySelectorImmediate("input")){var r=n.getAttribute("data-tag");e.appendChild(this.xml.createEasy(r,{props:{innerHTML:n.querySelectorImmediate("input").value}}))}else if(n.children.length>0){if(void 0!==n.getAttribute("data-tag")){let t=this.xml.createEasy(n.getAttribute("data-tag"));e.appendChild(t)}this.iterator(n,e.lastElementChild||e)}}toString(){return i+n.serializeToString(this.xml.documentElement)}}(document.querySelector(".view main")).toString();fix3p.X3P.update("main.xml",e),fix3p.X3P.update("md5checksum.hex",l()(e)+" *main.xml");let r=new s("Compressing...");r.display(),await fix3p.X3P.download(),r.update('Continue editing this file? <div class="popup-btns"><div id="continue-yes" class="popup-btn">Yes</div><div id="continue-no" class="popup-btn">No</div></div>'),r.el.querySelector("#continue-yes").addEventListener("click",t=>{r.hide(!0)}),r.el.querySelector("#continue-no").addEventListener("click",t=>{r.hide(!0),fix3p.X3P.scene.dispose(),fix3p.uploader.display()})}else t.target.matches(".tab:not(a)")&&document.querySelector(".view").setAttribute("data-view",t.target.index())})}),window.addEventListener("keydown",t=>{if((t.ctrlKey||t.metaKey)&&83===t.which)return"editor"!==document.querySelector("form").getAttribute("data-view")||(t.preventDefault(),document.querySelector("a.tab").click(),!1)})}]);